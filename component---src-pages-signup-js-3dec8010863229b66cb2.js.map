{"version":3,"sources":["webpack:///./src/pages/Signup.js"],"names":["Signup","emailRef","useRef","passwordRef","passwordConfirmRef","useState","error","setError","loading","setLoading","a","signup","current","value","then","profileInfo","loggedUser","neededData","email","displayName","uid","localStorage","setItem","JSON","stringify","navigate","catch","e","message","title","className","style","maxWidth","borderColor","borderWidth","Body","fontWeight","backgroundColor","color","onSubmit","preventDefault","callSignUp","Group","id","Label","Control","type","ref","required","disabled","to"],"mappings":"ioBASe,SAASA,IAEtB,IAAMC,EAAWC,mBACXC,EAAcD,mBACdE,EAAqBF,mBAJI,EAKLG,mBAAS,IAA5BC,EALwB,KAKjBC,EALiB,OAMDF,oBAAS,GAAhCG,EANwB,KAMfC,EANe,uCAS/B,sBAAAC,EAAA,sEAEQC,YAAOV,EAASW,QAAQC,MAAOV,EAAYS,QAAQC,OACxDC,MAAK,WAEJ,IAAIC,EAAcC,cACdC,EAAa,CAAC,MAAQF,EAAYG,MAAM,YAAcH,EAAYI,YAAY,IAAMJ,EAAYK,KAEpGC,aAAaC,QAAQ,cAAeC,KAAKC,UAAUP,IACnDQ,mBAAS,QAEVC,OAAM,SAACC,GAENpB,EAAS,iCAAgCoB,GAAKA,EAAEC,aAbpD,4CAT+B,sBA+C/B,OACE,oCACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKC,MAAM,YACX,kBAAC,IAAD,CAAWC,UAAU,oDACrB,yBAAKA,UAAU,mBAAmBC,MAAO,CAAEC,SAAU,UACrD,kBAAC,IAAD,CAAMD,MAAO,CAAEE,YAAY,OAAOC,YAAY,QAC5C,kBAAC,IAAKC,KAAN,KAEE,wBAAIL,UAAU,oBAAd,WACCxB,GAAS,kBAAC,IAAD,CAAOyB,MAAO,CAACK,WAAW,MAAMC,gBAAgB,UAAUC,MAAM,QAAQL,YAAY,YAAa3B,GAE3G,kBAAC,IAAD,CAAMiC,SAhCd,SAAsBZ,GAGpB,GADAA,EAAEa,iBACErC,EAAYS,QAAQC,QAAUT,EAAmBQ,QAAQC,MAE3D,OAAON,EAAS,0BAElB,IAEEA,EAAS,IACTE,GAAW,GArCgB,mCAsC3BgC,GAEF,SAEElC,EAAS,gCAEXE,GAAW,KAgBH,kBAAC,IAAKiC,MAAN,CAAYC,GAAG,SACb,kBAAC,IAAKC,MAAN,cACA,kBAAC,IAAKC,QAAN,CAAcC,KAAK,QAAQC,IAAK9C,EAAU+C,UAAQ,KAEpD,kBAAC,IAAKN,MAAN,CAAYC,GAAG,YACb,kBAAC,IAAKC,MAAN,iBACA,kBAAC,IAAKC,QAAN,CAAcC,KAAK,WAAWC,IAAK5C,EAAa6C,UAAQ,KAE1D,kBAAC,IAAKN,MAAN,CAAYC,GAAG,oBACb,kBAAC,IAAKC,MAAN,8BACA,kBAAC,IAAKC,QAAN,CAAcC,KAAK,WAAWC,IAAK3C,EAAoB4C,UAAQ,KAGjE,kBAAC,IAAD,CAAQC,SAAUzC,EAASsB,UAAU,QAAQgB,KAAK,UAAlD,cAQN,yBAAKhB,UAAU,0BAAf,4BAC2B,kBAAC,OAAD,CAAMoB,GAAG,UAAT","file":"component---src-pages-signup-js-3dec8010863229b66cb2.js","sourcesContent":["\r\nimport React, {useState, useRef, useContext} from 'react'\r\nimport {Form, Button, Card, Alert, Container} from 'react-bootstrap'\r\nimport { Link, navigate } from \"gatsby\"\r\nimport { FirebaseAuth,signup, loggedUser } from  \"../components/FirebaseAuth\"\r\nimport { PageLayout } from \"../components\"\r\nimport { SEO } from \"../utils\"\r\n\r\n\r\nexport default function Signup() {\r\n\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const passwordConfirmRef = useRef()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n\r\n\r\n  async function callSignUp()\r\n  {\r\n    await signup(emailRef.current.value, passwordRef.current.value)\r\n    .then(()=>\r\n    {\r\n      let profileInfo = loggedUser()\r\n      let neededData = {\"email\":profileInfo.email,\"displayName\":profileInfo.displayName,\"uid\":profileInfo.uid}\r\n      //console.log(\"profile is\",neededData)\r\n      localStorage.setItem('profileData', JSON.stringify(neededData) )\r\n      navigate(`/`)\r\n    })\r\n    .catch((e) => \r\n    {\r\n      setError(`Failed to create an account. ${e && e.message}`)\r\n    })\r\n    \r\n  }\r\n\r\n  function handleSubmit(e) \r\n  {\r\n    e.preventDefault()\r\n    if (passwordRef.current.value !== passwordConfirmRef.current.value) \r\n    {\r\n      return setError(\"Passwords do not match\")\r\n    }\r\n    try \r\n    {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      callSignUp()\r\n    } \r\n    catch\r\n    {\r\n      setError(\"Failed to create an account \")\r\n    }\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <PageLayout>\r\n      <SEO title=\"Sign Up\" />\r\n      <Container className=\"d-flex align-items-center justify-content-center\" >\r\n      <div className=\"w-100 text-color\" style={{ maxWidth: \"400px\" }}>\r\n      <Card style={{ borderColor:\"grey\",borderWidth:\"3px\" }}>\r\n        <Card.Body>\r\n\r\n          <h2 className=\"text-center mb-4\">Sign Up</h2>\r\n          {error && <Alert style={{fontWeight:\"900\",backgroundColor:\"#d9534f\",color:\"white\",borderColor:\"#d9534f\"}}>{error}</Alert>}\r\n\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group id=\"email\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control type=\"email\" ref={emailRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordRef} required />\r\n            </Form.Group>\r\n            <Form.Group id=\"password-confirm\">\r\n              <Form.Label>Password Confirmation</Form.Label>\r\n              <Form.Control type=\"password\" ref={passwordConfirmRef} required />\r\n            </Form.Group>\r\n            \r\n            <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n              Sign Up\r\n            </Button>\r\n          </Form>\r\n\r\n        </Card.Body>\r\n      </Card>\r\n\r\n      <div className=\"w-100 text-center mt-2\">\r\n        Already have an account? <Link to=\"/Login\">Log In</Link>\r\n      </div>\r\n      </div>\r\n      </Container>\r\n    </PageLayout>\r\n    </>\r\n  )\r\n}"],"sourceRoot":""}