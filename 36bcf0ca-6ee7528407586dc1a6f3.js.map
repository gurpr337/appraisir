{"version":3,"sources":["webpack:///./node_modules/chart.js/dist/chart.esm.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","_arrayLikeToArray","n","slice","name","from","test","_unsupportedIterableToArray","F","s","done","value","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","arr","len","arr2","animator","Animator","_request","_charts","Map","_running","_lastDate","undefined","chart","anims","date","type","callbacks","listeners","numSteps","duration","fn","initial","currentStep","Math","min","start","_this","window","_update","_refresh","_this2","now","remaining","running","items","item","draw","_active","_total","tick","pop","_notify","charts","get","complete","progress","set","event","cb","_getAnims","_this$_getAnims$items","reduce","acc","cur","max","_duration","cancel","interpolators","to","factor","color","c0","c1","valid","mix","hexString","number","Animation","cfg","prop","currentValue","_fn","_easing","easing","linear","_start","floor","delay","_loop","loop","_target","_prop","_from","_to","_promises","elapsed","remain","promises","Promise","res","rej","resolved","method","animationOptions","animation","describe","_fallback","_indexable","_scriptable","colors","properties","numbers","active","resize","show","animations","visible","hide","v","Animations","config","_chart","_properties","configure","animatedProps","getOwnPropertyNames","_step","_iterator","option","has","values","newOptions","options","$shared","assign","$animations","resolveTargetOptions","_createAnimations","anim","wait","all","awaitAll","then","props","charAt","update","_animateOptions","size","add","scaleClip","scale","allowedOverflow","opts","reverse","end","getSortedDatasetIndices","filterVisible","ilen","metasets","_getSortedDatasetMetas","index","_applyStack","stack","dsIndex","datasetIndex","otherValue","singleMode","mode","isStacked","meta","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","_step2","_iterator2","getMatchingVisibleMetas","updateStacks","controller","parsed","_cachedMeta","_stacks","iScale","iAxis","axis","vAxis","indexScale","valueScale","concat","id","getStackKey","_top","_bottom","getFirstScaleId","scales","shift","clearStacks","_step3","_iterator3","_parsed","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_ctx","ctx","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","$context","_syncList","initialize","linkScales","_stacked","addElements","dataset","getDataset","chooseId","x","y","r","xid","xAxisID","yid","yAxisID","rid","rAxisID","indexAxis","iid","iAxisID","vid","vAxisID","xScale","getScaleForId","yScale","rScale","data","datasets","getDatasetMeta","scaleID","adata","convertObjectDataToArray","isExtensible","_dataCheck","datasetElementType","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","scopes","getOptionScopes","createResolver","getContext","parsing","count","sorted","_sorted","prev","parseArrayData","parseObjectData","parsePrimitiveData","labels","getLabels","singleScale","_parsed$i","parse","_this$_parsing","_this$_parsing$xAxisK","xAxisKey","_this$_parsing$yAxisK","yAxisKey","range","parsedValue","NaN","canStack","otherScale","_getOtherScale","hidden","createStack","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","_getUserBounds","_scale$getUserBounds","getUserBounds","minDefined","maxDefined","otherMin","otherMax","_skip","updateRangeFromParsed","getParsed","label","getLabelForValue","t","b","l","_clip","clip","top","right","bottom","left","defaultClip","getMaxOverflow","disabled","elements","area","chartArea","element","resolveDatasetElementOptions","resolveDataElementOptions","context","parent","dataIndex","raw","createDataContext","createDatasetContext","_resolveElementOptions","dataElementType","elementType","_this3","cache","cacheKey","sharing","datasetElementScopeKeys","prefixes","names","resolveNamedOptions","freeze","transition","datasetAnimationScopeKeys","_cacheable","sharedOptions","_animationsDisabled","_resolveAnimations","getStyle","getSharedOptions","_setStyle","_step4","_iterator4","_step4$value","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","splice","args","_args2","_sync","computeMinSampleSize","curr","_cache","$bar","visibleMetas","getAllParsedValues","sort","a","getAllScaleValues","_length","updateMinAndPrev","abs","getPixelForValue","ticks","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseFloatBar","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","_borderProps","horizontal","base","borderProps","enableBorderRadius","parseEdge","orig","v1","v2","startEnd","setInflateAmount","_ref","ratio","inflateAmount","defaults","BarController","_DatasetController","_super","obj","_this$_parsing2","_this$_parsing2$xAxis","_this$_parsing2$yAxis","iAxisKey","vAxisKey","bars","reset","getBasePixel","isHorizontal","ruler","_getRuler","firstOpts","includeOptions","updateSharedOptions","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","height","width","updateElement","last","grouped","val","isNaN","indexOf","_getStacks","pixels","barThickness","_startPixel","_endPixel","stackCount","_getStackCount","categoryPercentage","barPercentage","_this$_cachedMeta","_this$options","baseValue","minBarLength","actualBase","floating","applyStack","getDataVisibility","barSign","halfGrid","getLineWidthForValue","skipNull","maxBarThickness","Infinity","percent","chunk","computeFlexCategoryTraits","thickness","computeFitCategoryTraits","stackIndex","_getStackIndex","rects","overrides","_index_","offset","grid","_value_","beginAtZero","BubbleController","_DatasetController2","_super2","radius","points","_this$_cachedMeta2","point","iPixel","getPixelForDecimal","vPixel","skip","plugins","tooltip","title","DoughnutController","_DatasetController3","_super3","_this4","innerRadius","outerRadius","offsetX","offsetY","getter","_this$_parsing$key","rotation","circumference","isDatasetVisible","_getRotation","_getCircumference","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","cutout","chartWeight","_getRingWeight","_this$_getRotationExt","_getRotationExtents","_getRatioAndOffset","ratioX","ratioY","startAngle","endAngle","startX","cos","startY","sin","endX","endY","calcMax","angle","calcMin","maxX","maxY","minX","minY","getRatioAndOffset","maxWidth","maxHeight","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","_circumference","arc","metaData","locale","borderAlign","borderWidth","hoverBorderWidth","hoverOffset","ringWeightOffset","weight","descriptors","aspectRatio","legend","generateLabels","pointStyle","map","style","text","fillStyle","backgroundColor","strokeStyle","borderColor","lineWidth","onClick","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","LineController","_DatasetController4","_super4","line","_meta$data","_dataset","animationsDisabled","_getStartAndCountOfVi","pointCount","_iScale$getUserBounds","lo","hi","getStartAndCountOfVisiblePoints","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","scaleRangesChanged","_datasetIndex","_decimated","showLine","segment","animated","_this$_cachedMeta3","_this$options2","spanGaps","maxGapLength","directUpdate","prevParsed","nullData","stop","border","firstPoint","lastPoint","updateControlPoints","PolarAreaController","_DatasetController5","_super5","_this5","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","_this6","angleLines","display","circular","pointLabels","PieController","_DoughnutController","_super6","RadarController","_DatasetController6","_super7","_fullLoop","pointPosition","getPointPositionForValue","fill","ScatterController","_LineController","_super8","interaction","controllers","__proto__","_abstract","Error","DateAdapter","format","timestamp","_format","amount","unit","weekday","override","members","adapters","_date","getRelativePosition","binarySearch","metaset","intersect","lookupMethod","_reversePixels","el","getRange","optimizedEvaluateItems","position","handler","getSortedVisibleDatasetMetas","_metasets$i2","_binarySearch","j","getIntersectItems","useFinalPosition","_minPadding","inRange","getNearestItems","distanceMetric","useX","useY","pt1","pt2","deltaX","deltaY","sqrt","pow","getDistanceMetricForAxis","minDistance","getCenterPoint","distance","getAxisItems","rangeMethod","intersectsItem","_metasets$i","jlen","evaluateAllVisibleItems","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","array","pos","filterDynamicPositionByAxis","box","sortByWeight","v0","setLayoutDims","layouts","params","layout","_step5","_iterator5","wrap","stackWeight","includes","_stack","placed","buildStacks","vBoxMaxWidth","hBoxMaxHeight","fullSize","availableWidth","availableHeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","w","heightChanged","h","same","other","getMargins","marginForPositions","positions","margin","fitBoxes","boxes","refit","refitBoxes","_updateDims","setBoxDims","placeBoxes","_step6","userPadding","padding","_iterator6","_height","_width","autoPadding","_layers","z","layoutItem","minPadding","layoutBoxes","_box","_box$options","_box$options$stackWei","wrapBoxes","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","buildLayoutBoxes","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","updatePos","change","handleMaxPadding","BasePlatform","canvas","listener","BasicPlatform","_BasePlatform","_super9","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","passive","removeListener","removeEventListener","createAttachObserver","observer","MutationObserver","entries","_step7","_iterator7","_step8","_iterator8","addedNodes","node","contains","observe","document","childList","subtree","createDetachObserver","_step9","_iterator9","_step10","_iterator10","removedNodes","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","devicePixelRatio","currentDevicePixelRatio","createResizeObserver","container","clientWidth","ResizeObserver","contentRect","addEventListener","listenDevicePixelRatioChanges","releaseObserver","disconnect","unlistenDevicePixelRatioChanges","createProxyAndListen","proxy","_getRelativePosition$","fromNativeEvent","addListener","DomPlatform","_BasePlatform2","_super10","renderHeight","getAttribute","renderWidth","boxSizing","displayWidth","displayHeight","initCanvas","removeAttribute","setAttribute","proxies","$proxies","attach","detach","isConnected","Element","_this$getProps","getProps","_final","_this7","ret","defaultRoutes","formatters","numeric","tickValue","notation","delta","maxTick","calculateDelta","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","autoSkip","tickOpts","ticksLimit","maxTicksLimit","tickLength","_tickSize","maxScale","maxChart","_maxLength","determineMaxTicks","majorIndices","major","enabled","getMajorIndices","numMajorIndices","first","newTicks","ceil","skipMajors","evenMajorSpacing","diff","getEvenSpacing","factors","calculateSpacing","avgMajorSpacing","round","majorStart","majorEnd","bounds","grace","drawBorder","drawOnChartArea","drawTicks","tickWidth","tickColor","borderDash","borderDashOffset","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkipPadding","labelOffset","callback","minor","align","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","route","startsWith","offsetFromEdge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","fallback","font","lineHeight","titleAlign","reverseAlign","Scale","_Element","_super11","_this8","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","setContext","suggestedMin","suggestedMax","_this$getUserBounds","metas","getMinMax","xLabels","yLabels","beforeUpdate","margins","_this$options3","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","beforeFit","fit","afterFit","afterUpdate","startPixel","endPixel","reversePixels","_alignToPixels","alignToPixels","notifyPlugins","_callHooks","beforeTickToLabelConversion","afterTickToLabelConversion","maxLabelDiagonal","numTicks","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","_this$options4","titleOpts","gridOpts","titleHeight","_this$_getLabelSizes","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","_this$options5","_this$options5$ticks","isRotated","labelsBelowTicks","offsetLeft","offsetRight","_this$options6","generateTickLabels","_computeLabelSizes","tickFont","fontString","nestedLabel","caches","widths","heights","widestLabelSize","highestLabelSize","_resolveTickFontOptions","string","gc","gcLen","garbageCollect","valueAt","idx","pixel","decimal","getBaseValue","createTickContext","optionTicks","rot","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","positionAxisID","_positionAxisID2","_value2","limit","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","textAlign","lineCount","textOffset","tickAndPadding","hTickAndPadding","textBaseline","_getXAxisLabelAlignment","_getYAxisLabelAlignment","_ret","_positionAxisID3","_value3","halfCount","strokeColor","strokeWidth","backdrop","labelPadding","translation","_this$options7","_this$options8","_this$options8$ticks","save","fillRect","restore","findIndex","_computeGridLineItems","drawLine","p1","p2","setLineDash","lineDashOffset","beginPath","moveTo","lineTo","stroke","lastLineWidth","_computeLabelArea","_computeLabelItems","_this$options9","_titleArgs","titleX","titleY","_positionAxisID","_value","titleArgs","drawBackground","drawGrid","drawTitle","drawLabels","_this9","tz","gz","axisID","fontSize","TypedRegistry","scope","create","isPrototypeOf","parentScope","proto","getPrototypeOf","isIChartComponent","register","itemDefaults","routes","property","propertyParts","split","sourceName","sourceScope","join","parts","targetName","targetScope","routeDefaults","registerDefaults","registry","Registry","_typedRegistries","_len","_key","_each","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6","_get","_len7","_key7","_len8","_key8","_len9","_key9","_len10","_key10","typedRegistry","_this10","arg","reg","_getRegistryForType","isForType","_exec","itemReg","component","camelMethod","PluginService","_init","hook","_createDescriptors","_descriptors","_step11","_iterator11","descriptor","plugin","cancelable","_oldCache","_notifyStateChanges","getPlugin","local","_i","allPlugins","getOpts","pluginOpts","createDescriptors","previousDescriptors","some","pluginScopeKeys","scriptable","indexable","allKeys","getIndexAxis","datasetDefaults","determineAxis","scaleOptions","toLowerCase","initOptions","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","console","error","_proxy","warn","defaultId","getDefaultScaleIDFromAxis","defaultScaleOptions","defaultID","getAxisFromDefaultScaleID","mergeScaleConfig","initData","keyCache","keysCached","Set","cachedKeys","generate","addIfFound","Config","_config","initConfig","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","mainScope","resetCache","keyLists","_cachedScopes","_getResolver","getResolver","resolver","subPrefixes","needContext","subResolver","_step12","_iterator12","descriptorDefaults","_getResolver2","platform","resolverCache","p","hasFunction","_step13","_descriptors2","isScriptable","isIndexable","_iterator13","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","instances","getChart","c","Chart","userConfig","_this11","initialCanvas","existingChart","chartOptionScopes","OffscreenCanvas","_detectPlatform","updateConfig","acquireContext","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","resizeDelay","listen","_initialize","responsive","bindEvents","_resizeBeforeDraw","_resize","maintainAspectRatio","newSize","getMaximumSize","newRatio","getDevicePixelRatio","onResize","render","scalesOptions","axisOptions","_this12","scaleOpts","updated","isRadial","dposition","dtype","scaleType","getScale","init","hasUpdated","_destroyDatasetMeta","_this13","newControllers","_removeUnreferencedMetasets","order","updateIndex","ControllerClass","getController","_defaults$datasets$ty","getElement","_updateMetasets","_this14","_resetElements","_this15","animsDisabled","ensureScalesHaveIDs","buildOrUpdateScales","existingEvents","newEvents","events","unbindEvents","invalidate","buildOrUpdateControllers","buildOrUpdateElements","_updateLayout","_updateDatasets","_eventHandler","_this16","noArea","_this16$_layers","_idx","_updateDataset","_this$_resizeBeforeDr","layers","_drawDatasets","_drawDataset","useClip","setDatasetVisibility","_updateVisibility","_destroy","remove","_stop","releaseContext","_this$canvas","toDataURL","bindUserEvents","bindResponsiveEvents","_this17","_add","_this18","detached","_remove","isAttached","_this19","prefix","activeElements","_this20","lastActive","_ref2","_updateHoverStyles","notify","replay","hoverOptions","hover","deactivated","activated","updateHoverStyle","_this21","eventFilter","_handleEvent","_this$_active","lastEvent","getElementsAtEventForMode","onHover","_this$options10","invalidatePlugins","clipArc","pixelMargin","angleMargin","closePath","parseBorderRadius$1","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStart","outerEnd","innerStart","innerEnd","rThetaToXY","theta","pathArc","innerR","spacingOffset","alpha","avNogSpacingRadius","angleOffset","_parseBorderRadius$","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","_pCenter","PI","_pCenter2","p8","_pCenter3","inner","lineJoin","fullCircles","drawFullCircleBorders","version","unregister","ArcElement","_Element2","_super12","_this22","chartX","chartY","_getAngleFromPoint","_this$getProps2","rAdjust","_this$getProps3","_this$options11","halfAngle","halfRadius","radiusOffset","translate","drawArc","setStyle","lineCap","borderCapStyle","borderJoinStyle","previous","pathVars","_params$start","paramsStart","_params$end","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","_pathVars","lineMethod","stepped","tension","cubicInterpolationMode","getLineMethod","_ref3","_ref3$move","fastPathSegment","prevX","lastY","_pathVars2","_ref4","_ref4$move","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","_draw","path","_path","strokePathWithCache","_step14","segments","segmentMethod","_iterator14","strokePathDirect","LineElement","_Element3","_super13","_this23","_points","_segments","_pointsUpdated","_interpolate","_getInterpolationMethod","_segments$i","interpolated","_step15","_iterator15","inRange$1","hitRadius","capBezierPoints","PointElement","_Element4","_super14","_this24","mouseX","mouseY","_this$getProps4","_this$getProps5","hoverRadius","getBarBounds","bar","half","_bar$getProps","skipOrLimit","boundingRects","maxW","maxH","parseBorderWidth","maxR","enableBorder","topLeft","topRight","bottomLeft","bottomRight","parseBorderRadius","outer","_inRange","skipX","skipY","addNormalRectPath","rect","inflateRect","refRect","BarElement","_Element5","_super15","_this25","_this$options12","_boundingRects","addRectPath","_this$getProps6","cleanDecimatedDataset","cleanDecimatedData","plugin_decimation","algorithm","beforeElementsUpdate","xAxis","_getStartAndCountOfVi2","_iScale$getUserBounds2","getStartAndCountOfVisiblePointsSimplified","threshold","decimated","configurable","d","samples","maxAreaPoint","maxArea","nextA","bucketWidth","sampledIndex","endIndex","avgY","avgRangeStart","avgRangeEnd","avgRangeLength","rangeOffs","rangeTo","_data$a","pointAx","pointAy","lttbDecimation","minIndex","maxIndex","startIndex","xMin","dx","lastIndex","intermediateIndex1","intermediateIndex2","minMaxDecimation","destroy","decodeFill","fillOption","parseFillOption","parseFloat","simpleArc","computeBoundary","computeCircularBoundary","_source$scale","computeLinearBoundary","findSegmentEnd","addPointsBelow","sourcePoint","linesBelow","postponed","_findPoint","findPoint","unshift","interpolate","pointValue","linePoints","firstValue","lastValue","getTarget","getLineByIndex","sourcePoints","below","getLinesBelow","createBoundaryLine","buildStackLine","boundary","_ref5","_ref5$x","_ref5$y","_ref6","pointsFromSegments","resolveTarget","sources","propagate","visited","clipY","getBounds","_getEdge","clipBounds","_scale$chart$chartAre","_ref7","interpolatedLineTo","interpolatedPoint","_fill","_step19","_step16","tpoints","_iterator16","_step17","_iterator17","_step18","tgt","subBounds","_iterator18","fillSource","_iterator19","_step19$value","src","_src$style","_src$style$background","notShape","lineLoop","targetLoop","drawfill","lineOpts","_ref8","_ref8$above","above","_ref8$below","doFill","plugin_filler","afterDatasetsUpdate","_args","$filler","beforeDraw","drawTime","beforeDatasetsDraw","beforeDatasetDraw","getBoxSize","labelOpts","_labelOpts$boxHeight","boxHeight","_labelOpts$boxWidth","boxWidth","usePointStyle","itemHeight","Legend","_Element6","_super16","_this26","_added","legendHitBoxes","_hoveredItem","doughnutMode","legendItems","columnSizes","lineWidths","buildLabels","_this27","labelFont","_computeTitleHeight","_getBoxSize","_fitRows","_fitCols","hitboxes","totalHeight","row","itemWidth","measureText","heightLimit","totalWidth","currentColWidth","currentColHeight","col","_this$options13","rtl","rtlHelper","_step20","_iterator20","hitbox","leftForLtr","_step21","_iterator21","_hitbox","cursor","_this28","defaultColor","fontColor","halfFontSize","_getBoxSize2","textDirection","textWidth","setWidth","lineDash","drawOptions","SQRT2","xPlus","yBoxTop","xBoxLeft","drawLegendBox","strikethrough","fillText","titleFont","titlePadding","topPaddingPlusHalfFontSize","hitBox","lh","onLeave","isListened","hoveredItem","_getLegendItemAt","sameItem","plugin_legend","_element","adjustHitBoxes","afterEvent","handleEvent","ci","_chart$legend$options","Title","_Element7","_super17","_this29","_padding","textSize","fontOpts","_this$_drawArgs","_drawArgs","plugin_title","titleBlock","createTitle","WeakMap","plugin_subtitle","positioners","average","hasValue","tooltipPosition","eventPosition","nearestElement","_d","tp","pushOrConcat","toPush","splitNewlines","str","String","getTooltipSize","body","footer","bodyFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","lines","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","_chart$chartArea","xAlign","caret","caretSize","caretPadding","doesNotFitWithAlign","determineAlignment","determineYAlign","getBackgroundPoint","alignment","cornerRadius","paddingAndSize","_toTRBLCorners","alignX","alignY","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","Tooltip","_Element8","_super18","_this30","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","tooltipItems","beforeTitle","afterTitle","_this31","bodyItems","scoped","beforeLabel","afterLabel","beforeFooter","afterFooter","_controller$getLabelA","_this32","getLabelAndValue","itemSort","labelColor","labelPointStyle","labelTextColor","_createItems","getTitle","getBeforeBody","getBody","getAfterBody","getFooter","positionAndSize","backgroundPoint","external","tooltipPoint","caretPosition","getCaretPosition","x3","y3","_toTRBLCorners2","ptX","ptY","pt","titleColor","colorX","rtlColorX","yOffSet","colorY","multiKeyBackground","outerX","innerX","strokeRect","textColor","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","bodyColor","_drawColorBox","footerAlign","footerColor","tooltipSize","_toTRBLCorners3","drawCaret","quadraticCurveTo","animX","animY","_updateAnimationTarget","hasTooltipContent","globalAlpha","drawBody","drawFooter","_this33","_ref9","positionChanged","_positionChanged","plugin_tooltip","afterInit","afterDraw","labelCount","Decimation","Filler","SubTitle","findOrAddLabel","addIfString","lastIndexOf","CategoryScale","_Scale","_super19","_this34","_startValue","_valueRange","isFinite","_this$getUserBounds2","_this$getMinMax","getDecimalForPixel","relativeLabelSize","minSpacing","_ref10","rad","LinearScaleBase","_Scale2","_super20","_this35","_endValue","_this$getUserBounds3","setMin","setMax","minSign","maxSign","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","maxTicks","stepSize","computeTickLimit","getTickLimit","generationOptions","dataRange","niceMin","niceMax","numSpaces","precision","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","decimalPlaces","generateTicks$1","_maxDigits","LinearScale","_LinearScaleBase","_super21","_this$getMinMax2","handleTickRangeOptions","isMajor","tickVal","LogarithmicScale","_Scale3","_super22","_this36","_zero","_this$getMinMax3","_this$getUserBounds4","exp","m","endExp","endSignificand","significand","lastTick","generateTicks","getTickBackdropHeight","determineLimits","fitWithPointLabels","furthestLimits","furthestAngles","valueCount","getPointLabelContext","getPointPosition","drawingArea","plFont","_pointLabels","hLimits","vLimits","_setReductions","_pointLabelItems","tickBackdropHeight","outerDistance","extra","pointLabelPosition","yForAngle","getTextAlignForAngle","leftForTextAlign","buildPointLabelItems","pathRadiusLine","numberOrZero","param","RadialLinearScale","_LinearScaleBase2","_super23","_this37","_this$getMinMax4","_this38","setCenterPoint","largestPossibleRadius","radiusReductionLeft","radiusReductionRight","radiusReductionTop","radiusReductionBottom","leftMovement","rightMovement","topMovement","bottomMovement","maxRight","maxLeft","maxTop","maxBottom","angleMultiplier","scalingFactor","scaledDistance","pointLabel","createPointLabelContext","distanceFromCenter","_this$_pointLabelItem","_this$options14","_this39","_scale$_pointLabelIte","drawPointLabels","gridLineOpts","drawRadiusLine","_this40","rotate","animate","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","_parse","input","adapter","_adapter","_scale$_parseOpts","_parseOpts","parser","isoWeekday","startOf","determineUnitForAutoTicks","minUnit","capacity","interval","addTick","time","timestamps","_lookup2","ticksFromTimestamps","majorUnit","setMajorTicks","TimeScale","_Scale4","_super24","_this41","_unit","_majorUnit","_offsets","_normalized","displayFormats","formats","normalized","_this$getUserBounds5","_applyBounds","_getLabelBounds","endOf","getLabelTimestamps","timeOpts","_generate","_getLabelCapacity","determineUnitForFormatting","determineMajorUnit","initOffsets","getDecimalForValue","hasWeekday","getDataTimestamps","tooltipFormat","datetime","minorFormat","majorFormat","formatter","_tickFormatFunction","offsets","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","_getLabelSize","normalize","table","prevSource","nextSource","prevTarget","nextTarget","_lookupByKey2","_table$lo","_table$hi","_lookupByKey3","_table$lo2","_table$hi2","span","TimeSeriesScale","_TimeScale","_super25","_this42","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","registerables"],"mappings":"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","file":"36bcf0ca-6ee7528407586dc1a6f3.js","sourcesContent":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.number.min-safe-integer\";\nimport \"core-js/modules/es6.number.max-safe-integer\";\nimport \"core-js/modules/es6.array.last-index-of\";\nimport \"core-js/modules/es6.weak-map\";\nimport \"core-js/modules/es6.object.define-property\";\nimport _assertThisInitialized from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport \"core-js/modules/es6.array.fill\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.set\";\nimport \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.object.create\";\nimport \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.string.starts-with\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.index-of\";\nimport _get from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/get\";\nimport _inherits from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport \"core-js/modules/es6.array.sort\";\nimport _slicedToArray from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport \"core-js/modules/es6.object.freeze\";\nimport _defineProperty from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.object.is-extensible\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.array.reduce\";\nimport _toConsumableArray from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.date.now\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.map\";\nimport _classCallCheck from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/*!\n * Chart.js v3.6.0\n * https://www.chartjs.org\n * (c) 2021 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as _color, d as defaults, i as isObject, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as createContext, j as defined, s as sign, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as isNumber, w as _limitValue, x as _lookupByKey, y as getRelativePosition$1, z as _isPointInArea, A as _rlookupByKey, B as toPadding, C as each, D as _getMaximumSize, E as _getParentNode, F as readUsedSize, G as throttled, I as supportsEventListenerOptions, J as _isDomSupported, K as log10, L as _factorize, M as finiteOrDefault, N as callback, O as _addGrace, Q as toDegrees, R as _measureText, S as _int16Range, U as _alignPixel, V as clipArea, W as renderText, X as unclipArea, Y as toFont, Z as _toLeftRightCenter, $ as _alignStartEnd, a0 as overrides, a1 as merge, a2 as _capitalize, a3 as descriptors, a4 as isFunction, a5 as _attachContext, a6 as _createResolver, a7 as _descriptors, a8 as mergeIf, a9 as uid, aa as debounce, ab as retinaScale, ac as clearCanvas, ad as setsEqual, ae as _elementsEqual, af as getAngleFromPoint, ag as _readValueToProps, ah as _updateBezierControlPoints, ai as _computeSegments, aj as _boundSegments, ak as _steppedInterpolation, al as _bezierInterpolation, am as _pointInLine, an as _steppedLineTo, ao as _bezierCurveTo, ap as drawPoint, aq as addRoundedRectPath, ar as toTRBL, as as toTRBLCorners, at as _boundSegment, au as _normalizeAngle, av as getRtlAdapter, aw as overrideTextDirection, ax as _textX, ay as restoreTextDirection, az as noop, aA as distanceBetweenPoints, aB as _setMinAndMaxByKey, aC as niceNum, aD as almostWhole, aE as almostEquals, aF as _decimalPlaces, aG as _longestText, aH as _filterBetween, aI as _lookup } from './chunks/helpers.segment.js';\nexport { d as defaults } from './chunks/helpers.segment.js';\n\nvar Animator = /*#__PURE__*/function () {\n  function Animator() {\n    _classCallCheck(this, Animator);\n\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n\n  _createClass(Animator, [{\n    key: \"_notify\",\n    value: function _notify(chart, anims, date, type) {\n      var callbacks = anims.listeners[type];\n      var numSteps = anims.duration;\n      callbacks.forEach(function (fn) {\n        return fn({\n          chart: chart,\n          initial: anims.initial,\n          numSteps: numSteps,\n          currentStep: Math.min(date - anims.start, numSteps)\n        });\n      });\n    }\n  }, {\n    key: \"_refresh\",\n    value: function _refresh() {\n      var _this = this;\n\n      if (this._request) {\n        return;\n      }\n\n      this._running = true;\n      this._request = requestAnimFrame.call(window, function () {\n        _this._update();\n\n        _this._request = null;\n\n        if (_this._running) {\n          _this._refresh();\n        }\n      });\n    }\n  }, {\n    key: \"_update\",\n    value: function _update() {\n      var _this2 = this;\n\n      var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Date.now();\n      var remaining = 0;\n\n      this._charts.forEach(function (anims, chart) {\n        if (!anims.running || !anims.items.length) {\n          return;\n        }\n\n        var items = anims.items;\n        var i = items.length - 1;\n        var draw = false;\n        var item;\n\n        for (; i >= 0; --i) {\n          item = items[i];\n\n          if (item._active) {\n            if (item._total > anims.duration) {\n              anims.duration = item._total;\n            }\n\n            item.tick(date);\n            draw = true;\n          } else {\n            items[i] = items[items.length - 1];\n            items.pop();\n          }\n        }\n\n        if (draw) {\n          chart.draw();\n\n          _this2._notify(chart, anims, date, 'progress');\n        }\n\n        if (!items.length) {\n          anims.running = false;\n\n          _this2._notify(chart, anims, date, 'complete');\n\n          anims.initial = false;\n        }\n\n        remaining += items.length;\n      });\n\n      this._lastDate = date;\n\n      if (remaining === 0) {\n        this._running = false;\n      }\n    }\n  }, {\n    key: \"_getAnims\",\n    value: function _getAnims(chart) {\n      var charts = this._charts;\n      var anims = charts.get(chart);\n\n      if (!anims) {\n        anims = {\n          running: false,\n          initial: true,\n          items: [],\n          listeners: {\n            complete: [],\n            progress: []\n          }\n        };\n        charts.set(chart, anims);\n      }\n\n      return anims;\n    }\n  }, {\n    key: \"listen\",\n    value: function listen(chart, event, cb) {\n      this._getAnims(chart).listeners[event].push(cb);\n    }\n  }, {\n    key: \"add\",\n    value: function add(chart, items) {\n      var _this$_getAnims$items;\n\n      if (!items || !items.length) {\n        return;\n      }\n\n      (_this$_getAnims$items = this._getAnims(chart).items).push.apply(_this$_getAnims$items, _toConsumableArray(items));\n    }\n  }, {\n    key: \"has\",\n    value: function has(chart) {\n      return this._getAnims(chart).items.length > 0;\n    }\n  }, {\n    key: \"start\",\n    value: function start(chart) {\n      var anims = this._charts.get(chart);\n\n      if (!anims) {\n        return;\n      }\n\n      anims.running = true;\n      anims.start = Date.now();\n      anims.duration = anims.items.reduce(function (acc, cur) {\n        return Math.max(acc, cur._duration);\n      }, 0);\n\n      this._refresh();\n    }\n  }, {\n    key: \"running\",\n    value: function running(chart) {\n      if (!this._running) {\n        return false;\n      }\n\n      var anims = this._charts.get(chart);\n\n      if (!anims || !anims.running || !anims.items.length) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop(chart) {\n      var anims = this._charts.get(chart);\n\n      if (!anims || !anims.items.length) {\n        return;\n      }\n\n      var items = anims.items;\n      var i = items.length - 1;\n\n      for (; i >= 0; --i) {\n        items[i].cancel();\n      }\n\n      anims.items = [];\n\n      this._notify(chart, anims, Date.now(), 'complete');\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(chart) {\n      return this._charts[\"delete\"](chart);\n    }\n  }]);\n\n  return Animator;\n}();\n\nvar animator = new Animator();\nvar transparent = 'transparent';\nvar interpolators = {\n  \"boolean\": function boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color: function color(from, to, factor) {\n    var c0 = _color(from || transparent);\n\n    var c1 = c0.valid && _color(to || transparent);\n\n    return c1 && c1.valid ? c1.mix(c0, factor).hexString() : to;\n  },\n  number: function number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\n\nvar Animation = /*#__PURE__*/function () {\n  function Animation(cfg, target, prop, to) {\n    _classCallCheck(this, Animation);\n\n    var currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    var from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n\n  _createClass(Animation, [{\n    key: \"active\",\n    value: function active() {\n      return this._active;\n    }\n  }, {\n    key: \"update\",\n    value: function update(cfg, to, date) {\n      if (this._active) {\n        this._notify(false);\n\n        var currentValue = this._target[this._prop];\n        var elapsed = date - this._start;\n        var remain = this._duration - elapsed;\n        this._start = date;\n        this._duration = Math.floor(Math.max(remain, cfg.duration));\n        this._total += elapsed;\n        this._loop = !!cfg.loop;\n        this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n        this._from = resolve([cfg.from, currentValue, to]);\n      }\n    }\n  }, {\n    key: \"cancel\",\n    value: function cancel() {\n      if (this._active) {\n        this.tick(Date.now());\n        this._active = false;\n\n        this._notify(false);\n      }\n    }\n  }, {\n    key: \"tick\",\n    value: function tick(date) {\n      var elapsed = date - this._start;\n      var duration = this._duration;\n      var prop = this._prop;\n      var from = this._from;\n      var loop = this._loop;\n      var to = this._to;\n      var factor;\n      this._active = from !== to && (loop || elapsed < duration);\n\n      if (!this._active) {\n        this._target[prop] = to;\n\n        this._notify(true);\n\n        return;\n      }\n\n      if (elapsed < 0) {\n        this._target[prop] = from;\n        return;\n      }\n\n      factor = elapsed / duration % 2;\n      factor = loop && factor > 1 ? 2 - factor : factor;\n      factor = this._easing(Math.min(1, Math.max(0, factor)));\n      this._target[prop] = this._fn(from, to, factor);\n    }\n  }, {\n    key: \"wait\",\n    value: function wait() {\n      var promises = this._promises || (this._promises = []);\n      return new Promise(function (res, rej) {\n        promises.push({\n          res: res,\n          rej: rej\n        });\n      });\n    }\n  }, {\n    key: \"_notify\",\n    value: function _notify(resolved) {\n      var method = resolved ? 'res' : 'rej';\n      var promises = this._promises || [];\n\n      for (var i = 0; i < promises.length; i++) {\n        promises[i][method]();\n      }\n    }\n  }]);\n\n  return Animation;\n}();\n\nvar numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nvar colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined\n});\nvar animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: function _scriptable(name) {\n    return name !== 'onProgress' && name !== 'onComplete' && name !== 'fn';\n  }\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  }\n});\ndefaults.describe('animations', {\n  _fallback: 'animation'\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      }\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: function fn(v) {\n          return v | 0;\n        }\n      }\n    }\n  }\n});\n\nvar Animations = /*#__PURE__*/function () {\n  function Animations(chart, config) {\n    _classCallCheck(this, Animations);\n\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n\n  _createClass(Animations, [{\n    key: \"configure\",\n    value: function configure(config) {\n      if (!isObject(config)) {\n        return;\n      }\n\n      var animatedProps = this._properties;\n      Object.getOwnPropertyNames(config).forEach(function (key) {\n        var cfg = config[key];\n\n        if (!isObject(cfg)) {\n          return;\n        }\n\n        var resolved = {};\n\n        var _iterator = _createForOfIteratorHelper(animationOptions),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var option = _step.value;\n            resolved[option] = cfg[option];\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        (isArray(cfg.properties) && cfg.properties || [key]).forEach(function (prop) {\n          if (prop === key || !animatedProps.has(prop)) {\n            animatedProps.set(prop, resolved);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"_animateOptions\",\n    value: function _animateOptions(target, values) {\n      var newOptions = values.options;\n      var options = resolveTargetOptions(target, newOptions);\n\n      if (!options) {\n        return [];\n      }\n\n      var animations = this._createAnimations(options, newOptions);\n\n      if (newOptions.$shared) {\n        awaitAll(target.options.$animations, newOptions).then(function () {\n          target.options = newOptions;\n        }, function () {});\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"_createAnimations\",\n    value: function _createAnimations(target, values) {\n      var animatedProps = this._properties;\n      var animations = [];\n      var running = target.$animations || (target.$animations = {});\n      var props = Object.keys(values);\n      var date = Date.now();\n      var i;\n\n      for (i = props.length - 1; i >= 0; --i) {\n        var prop = props[i];\n\n        if (prop.charAt(0) === '$') {\n          continue;\n        }\n\n        if (prop === 'options') {\n          animations.push.apply(animations, _toConsumableArray(this._animateOptions(target, values)));\n          continue;\n        }\n\n        var value = values[prop];\n        var animation = running[prop];\n        var cfg = animatedProps.get(prop);\n\n        if (animation) {\n          if (cfg && animation.active()) {\n            animation.update(cfg, value, date);\n            continue;\n          } else {\n            animation.cancel();\n          }\n        }\n\n        if (!cfg || !cfg.duration) {\n          target[prop] = value;\n          continue;\n        }\n\n        running[prop] = animation = new Animation(cfg, target, prop, value);\n        animations.push(animation);\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"update\",\n    value: function update(target, values) {\n      if (this._properties.size === 0) {\n        Object.assign(target, values);\n        return;\n      }\n\n      var animations = this._createAnimations(target, values);\n\n      if (animations.length) {\n        animator.add(this._chart, animations);\n        return true;\n      }\n    }\n  }]);\n\n  return Animations;\n}();\n\nfunction awaitAll(animations, properties) {\n  var running = [];\n  var keys = Object.keys(properties);\n\n  for (var i = 0; i < keys.length; i++) {\n    var anim = animations[keys[i]];\n\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n\n  return Promise.all(running);\n}\n\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n\n  var options = target.options;\n\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {\n      $shared: false,\n      $animations: {}\n    });\n  }\n\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  var opts = scale && scale.options || {};\n  var reverse = opts.reverse;\n  var min = opts.min === undefined ? allowedOverflow : 0;\n  var max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\n\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n\n  var x = scaleClip(xScale, allowedOverflow);\n  var y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\n\nfunction toClip(value) {\n  var t, r, b, l;\n\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\n\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  var keys = [];\n\n  var metasets = chart._getSortedDatasetMetas(filterVisible);\n\n  var i, ilen;\n\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n\n  return keys;\n}\n\nfunction _applyStack(stack, value, dsIndex) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var keys = stack.keys;\n  var singleMode = options.mode === 'single';\n  var i, ilen, datasetIndex, otherValue;\n\n  if (value === null) {\n    return;\n  }\n\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n\n      break;\n    }\n\n    otherValue = stack.values[datasetIndex];\n\n    if (isNumberFinite(otherValue) && (singleMode || value === 0 || sign(value) === sign(otherValue))) {\n      value += otherValue;\n    }\n  }\n\n  return value;\n}\n\nfunction convertObjectDataToArray(data) {\n  var keys = Object.keys(data);\n  var adata = new Array(keys.length);\n  var i, ilen, key;\n\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n\n  return adata;\n}\n\nfunction isStacked(scale, meta) {\n  var stacked = scale && scale.options.stacked;\n  return stacked || stacked === undefined && meta.stack !== undefined;\n}\n\nfunction getStackKey(indexScale, valueScale, meta) {\n  return \"\".concat(indexScale.id, \".\").concat(valueScale.id, \".\").concat(meta.stack || meta.type);\n}\n\nfunction getUserBounds(scale) {\n  var _scale$getUserBounds = scale.getUserBounds(),\n      min = _scale$getUserBounds.min,\n      max = _scale$getUserBounds.max,\n      minDefined = _scale$getUserBounds.minDefined,\n      maxDefined = _scale$getUserBounds.maxDefined;\n\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\n\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  var subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\n\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  var _iterator2 = _createForOfIteratorHelper(vScale.getMatchingVisibleMetas(type).reverse()),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var meta = _step2.value;\n      var value = stack[meta.index];\n\n      if (positive && value > 0 || !positive && value < 0) {\n        return meta.index;\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n\n  return null;\n}\n\nfunction updateStacks(controller, parsed) {\n  var chart = controller.chart,\n      meta = controller._cachedMeta;\n  var stacks = chart._stacks || (chart._stacks = {});\n  var iScale = meta.iScale,\n      vScale = meta.vScale,\n      datasetIndex = meta.index;\n  var iAxis = iScale.axis;\n  var vAxis = vScale.axis;\n  var key = getStackKey(iScale, vScale, meta);\n  var ilen = parsed.length;\n  var stack;\n\n  for (var i = 0; i < ilen; ++i) {\n    var item = parsed[i];\n    var index = item[iAxis],\n        value = item[vAxis];\n    var itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n  }\n}\n\nfunction getFirstScaleId(chart, axis) {\n  var scales = chart.scales;\n  return Object.keys(scales).filter(function (key) {\n    return scales[key].axis === axis;\n  }).shift();\n}\n\nfunction createDatasetContext(parent, index) {\n  return createContext(parent, {\n    active: false,\n    dataset: undefined,\n    datasetIndex: index,\n    index: index,\n    mode: 'default',\n    type: 'dataset'\n  });\n}\n\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element: element,\n    index: index,\n    mode: 'default',\n    type: 'data'\n  });\n}\n\nfunction clearStacks(meta, items) {\n  var datasetIndex = meta.controller.index;\n  var axis = meta.vScale && meta.vScale.axis;\n\n  if (!axis) {\n    return;\n  }\n\n  items = items || meta._parsed;\n\n  var _iterator3 = _createForOfIteratorHelper(items),\n      _step3;\n\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var parsed = _step3.value;\n      var stacks = parsed._stacks;\n\n      if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n        return;\n      }\n\n      delete stacks[axis][datasetIndex];\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n}\n\nvar isDirectUpdateMode = function isDirectUpdateMode(mode) {\n  return mode === 'reset' || mode === 'none';\n};\n\nvar cloneIfNotShared = function cloneIfNotShared(cached, shared) {\n  return shared ? cached : Object.assign({}, cached);\n};\n\nvar createStack = function createStack(canStack, meta, chart) {\n  return canStack && !meta.hidden && meta._stacked && {\n    keys: getSortedDatasetIndices(chart, true),\n    values: null\n  };\n};\n\nvar DatasetController = /*#__PURE__*/function () {\n  function DatasetController(chart, datasetIndex) {\n    _classCallCheck(this, DatasetController);\n\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.initialize();\n  }\n\n  _createClass(DatasetController, [{\n    key: \"initialize\",\n    value: function initialize() {\n      var meta = this._cachedMeta;\n      this.configure();\n      this.linkScales();\n      meta._stacked = isStacked(meta.vScale, meta);\n      this.addElements();\n    }\n  }, {\n    key: \"updateIndex\",\n    value: function updateIndex(datasetIndex) {\n      if (this.index !== datasetIndex) {\n        clearStacks(this._cachedMeta);\n      }\n\n      this.index = datasetIndex;\n    }\n  }, {\n    key: \"linkScales\",\n    value: function linkScales() {\n      var chart = this.chart;\n      var meta = this._cachedMeta;\n      var dataset = this.getDataset();\n\n      var chooseId = function chooseId(axis, x, y, r) {\n        return axis === 'x' ? x : axis === 'r' ? r : y;\n      };\n\n      var xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n      var yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n      var rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n      var indexAxis = meta.indexAxis;\n      var iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n      var vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n      meta.xScale = this.getScaleForId(xid);\n      meta.yScale = this.getScaleForId(yid);\n      meta.rScale = this.getScaleForId(rid);\n      meta.iScale = this.getScaleForId(iid);\n      meta.vScale = this.getScaleForId(vid);\n    }\n  }, {\n    key: \"getDataset\",\n    value: function getDataset() {\n      return this.chart.data.datasets[this.index];\n    }\n  }, {\n    key: \"getMeta\",\n    value: function getMeta() {\n      return this.chart.getDatasetMeta(this.index);\n    }\n  }, {\n    key: \"getScaleForId\",\n    value: function getScaleForId(scaleID) {\n      return this.chart.scales[scaleID];\n    }\n  }, {\n    key: \"_getOtherScale\",\n    value: function _getOtherScale(scale) {\n      var meta = this._cachedMeta;\n      return scale === meta.iScale ? meta.vScale : meta.iScale;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._update('reset');\n    }\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      var meta = this._cachedMeta;\n\n      if (this._data) {\n        unlistenArrayEvents(this._data, this);\n      }\n\n      if (meta._stacked) {\n        clearStacks(meta);\n      }\n    }\n  }, {\n    key: \"_dataCheck\",\n    value: function _dataCheck() {\n      var dataset = this.getDataset();\n      var data = dataset.data || (dataset.data = []);\n      var _data = this._data;\n\n      if (isObject(data)) {\n        this._data = convertObjectDataToArray(data);\n      } else if (_data !== data) {\n        if (_data) {\n          unlistenArrayEvents(_data, this);\n          var meta = this._cachedMeta;\n          clearStacks(meta);\n          meta._parsed = [];\n        }\n\n        if (data && Object.isExtensible(data)) {\n          listenArrayEvents(data, this);\n        }\n\n        this._syncList = [];\n        this._data = data;\n      }\n    }\n  }, {\n    key: \"addElements\",\n    value: function addElements() {\n      var meta = this._cachedMeta;\n\n      this._dataCheck();\n\n      if (this.datasetElementType) {\n        meta.dataset = new this.datasetElementType();\n      }\n    }\n  }, {\n    key: \"buildOrUpdateElements\",\n    value: function buildOrUpdateElements(resetNewElements) {\n      var meta = this._cachedMeta;\n      var dataset = this.getDataset();\n      var stackChanged = false;\n\n      this._dataCheck();\n\n      var oldStacked = meta._stacked;\n      meta._stacked = isStacked(meta.vScale, meta);\n\n      if (meta.stack !== dataset.stack) {\n        stackChanged = true;\n        clearStacks(meta);\n        meta.stack = dataset.stack;\n      }\n\n      this._resyncElements(resetNewElements);\n\n      if (stackChanged || oldStacked !== meta._stacked) {\n        updateStacks(this, meta._parsed);\n      }\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var config = this.chart.config;\n      var scopeKeys = config.datasetScopeKeys(this._type);\n      var scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n      this.options = config.createResolver(scopes, this.getContext());\n      this._parsing = this.options.parsing;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(start, count) {\n      var meta = this._cachedMeta,\n          data = this._data;\n      var iScale = meta.iScale,\n          _stacked = meta._stacked;\n      var iAxis = iScale.axis;\n      var sorted = start === 0 && count === data.length ? true : meta._sorted;\n      var prev = start > 0 && meta._parsed[start - 1];\n      var i, cur, parsed;\n\n      if (this._parsing === false) {\n        meta._parsed = data;\n        meta._sorted = true;\n        parsed = data;\n      } else {\n        if (isArray(data[start])) {\n          parsed = this.parseArrayData(meta, data, start, count);\n        } else if (isObject(data[start])) {\n          parsed = this.parseObjectData(meta, data, start, count);\n        } else {\n          parsed = this.parsePrimitiveData(meta, data, start, count);\n        }\n\n        var isNotInOrderComparedToPrev = function isNotInOrderComparedToPrev() {\n          return cur[iAxis] === null || prev && cur[iAxis] < prev[iAxis];\n        };\n\n        for (i = 0; i < count; ++i) {\n          meta._parsed[i + start] = cur = parsed[i];\n\n          if (sorted) {\n            if (isNotInOrderComparedToPrev()) {\n              sorted = false;\n            }\n\n            prev = cur;\n          }\n        }\n\n        meta._sorted = sorted;\n      }\n\n      if (_stacked) {\n        updateStacks(this, parsed);\n      }\n    }\n  }, {\n    key: \"parsePrimitiveData\",\n    value: function parsePrimitiveData(meta, data, start, count) {\n      var iScale = meta.iScale,\n          vScale = meta.vScale;\n      var iAxis = iScale.axis;\n      var vAxis = vScale.axis;\n      var labels = iScale.getLabels();\n      var singleScale = iScale === vScale;\n      var parsed = new Array(count);\n      var i, ilen, index;\n\n      for (i = 0, ilen = count; i < ilen; ++i) {\n        var _parsed$i;\n\n        index = i + start;\n        parsed[i] = (_parsed$i = {}, _defineProperty(_parsed$i, iAxis, singleScale || iScale.parse(labels[index], index)), _defineProperty(_parsed$i, vAxis, vScale.parse(data[index], index)), _parsed$i);\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"parseArrayData\",\n    value: function parseArrayData(meta, data, start, count) {\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var parsed = new Array(count);\n      var i, ilen, index, item;\n\n      for (i = 0, ilen = count; i < ilen; ++i) {\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n          x: xScale.parse(item[0], index),\n          y: yScale.parse(item[1], index)\n        };\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"parseObjectData\",\n    value: function parseObjectData(meta, data, start, count) {\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var _this$_parsing = this._parsing,\n          _this$_parsing$xAxisK = _this$_parsing.xAxisKey,\n          xAxisKey = _this$_parsing$xAxisK === void 0 ? 'x' : _this$_parsing$xAxisK,\n          _this$_parsing$yAxisK = _this$_parsing.yAxisKey,\n          yAxisKey = _this$_parsing$yAxisK === void 0 ? 'y' : _this$_parsing$yAxisK;\n      var parsed = new Array(count);\n      var i, ilen, index, item;\n\n      for (i = 0, ilen = count; i < ilen; ++i) {\n        index = i + start;\n        item = data[index];\n        parsed[i] = {\n          x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n          y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n        };\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"getParsed\",\n    value: function getParsed(index) {\n      return this._cachedMeta._parsed[index];\n    }\n  }, {\n    key: \"getDataElement\",\n    value: function getDataElement(index) {\n      return this._cachedMeta.data[index];\n    }\n  }, {\n    key: \"applyStack\",\n    value: function applyStack(scale, parsed, mode) {\n      var chart = this.chart;\n      var meta = this._cachedMeta;\n      var value = parsed[scale.axis];\n      var stack = {\n        keys: getSortedDatasetIndices(chart, true),\n        values: parsed._stacks[scale.axis]\n      };\n      return _applyStack(stack, value, meta.index, {\n        mode: mode\n      });\n    }\n  }, {\n    key: \"updateRangeFromParsed\",\n    value: function updateRangeFromParsed(range, scale, parsed, stack) {\n      var parsedValue = parsed[scale.axis];\n      var value = parsedValue === null ? NaN : parsedValue;\n      var values = stack && parsed._stacks[scale.axis];\n\n      if (stack && values) {\n        stack.values = values;\n        value = _applyStack(stack, parsedValue, this._cachedMeta.index);\n      }\n\n      range.min = Math.min(range.min, value);\n      range.max = Math.max(range.max, value);\n    }\n  }, {\n    key: \"getMinMax\",\n    value: function getMinMax(scale, canStack) {\n      var meta = this._cachedMeta;\n      var _parsed = meta._parsed;\n      var sorted = meta._sorted && scale === meta.iScale;\n      var ilen = _parsed.length;\n\n      var otherScale = this._getOtherScale(scale);\n\n      var stack = createStack(canStack, meta, this.chart);\n      var range = {\n        min: Number.POSITIVE_INFINITY,\n        max: Number.NEGATIVE_INFINITY\n      };\n\n      var _getUserBounds = getUserBounds(otherScale),\n          otherMin = _getUserBounds.min,\n          otherMax = _getUserBounds.max;\n\n      var i, parsed;\n\n      function _skip() {\n        parsed = _parsed[i];\n        var otherValue = parsed[otherScale.axis];\n        return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n      }\n\n      for (i = 0; i < ilen; ++i) {\n        if (_skip()) {\n          continue;\n        }\n\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n\n        if (sorted) {\n          break;\n        }\n      }\n\n      if (sorted) {\n        for (i = ilen - 1; i >= 0; --i) {\n          if (_skip()) {\n            continue;\n          }\n\n          this.updateRangeFromParsed(range, scale, parsed, stack);\n          break;\n        }\n      }\n\n      return range;\n    }\n  }, {\n    key: \"getAllParsedValues\",\n    value: function getAllParsedValues(scale) {\n      var parsed = this._cachedMeta._parsed;\n      var values = [];\n      var i, ilen, value;\n\n      for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n        value = parsed[i][scale.axis];\n\n        if (isNumberFinite(value)) {\n          values.push(value);\n        }\n      }\n\n      return values;\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      return false;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var meta = this._cachedMeta;\n      var iScale = meta.iScale;\n      var vScale = meta.vScale;\n      var parsed = this.getParsed(index);\n      return {\n        label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n        value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n      };\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(mode) {\n      var meta = this._cachedMeta;\n      this.configure();\n      this._cachedDataOpts = {};\n      this.update(mode || 'default');\n      meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {}\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var ctx = this._ctx;\n      var chart = this.chart;\n      var meta = this._cachedMeta;\n      var elements = meta.data || [];\n      var area = chart.chartArea;\n      var active = [];\n      var start = this._drawStart || 0;\n      var count = this._drawCount || elements.length - start;\n      var i;\n\n      if (meta.dataset) {\n        meta.dataset.draw(ctx, area, start, count);\n      }\n\n      for (i = start; i < start + count; ++i) {\n        var element = elements[i];\n\n        if (element.hidden) {\n          continue;\n        }\n\n        if (element.active) {\n          active.push(element);\n        } else {\n          element.draw(ctx, area);\n        }\n      }\n\n      for (i = 0; i < active.length; ++i) {\n        active[i].draw(ctx, area);\n      }\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle(index, active) {\n      var mode = active ? 'active' : 'default';\n      return index === undefined && this._cachedMeta.dataset ? this.resolveDatasetElementOptions(mode) : this.resolveDataElementOptions(index || 0, mode);\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext(index, active, mode) {\n      var dataset = this.getDataset();\n      var context;\n\n      if (index >= 0 && index < this._cachedMeta.data.length) {\n        var element = this._cachedMeta.data[index];\n        context = element.$context || (element.$context = createDataContext(this.getContext(), index, element));\n        context.parsed = this.getParsed(index);\n        context.raw = dataset.data[index];\n        context.index = context.dataIndex = index;\n      } else {\n        context = this.$context || (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n        context.dataset = dataset;\n        context.index = context.datasetIndex = this.index;\n      }\n\n      context.active = !!active;\n      context.mode = mode;\n      return context;\n    }\n  }, {\n    key: \"resolveDatasetElementOptions\",\n    value: function resolveDatasetElementOptions(mode) {\n      return this._resolveElementOptions(this.datasetElementType.id, mode);\n    }\n  }, {\n    key: \"resolveDataElementOptions\",\n    value: function resolveDataElementOptions(index, mode) {\n      return this._resolveElementOptions(this.dataElementType.id, mode, index);\n    }\n  }, {\n    key: \"_resolveElementOptions\",\n    value: function _resolveElementOptions(elementType) {\n      var _this3 = this;\n\n      var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'default';\n      var index = arguments.length > 2 ? arguments[2] : undefined;\n      var active = mode === 'active';\n      var cache = this._cachedDataOpts;\n      var cacheKey = elementType + '-' + mode;\n      var cached = cache[cacheKey];\n      var sharing = this.enableOptionSharing && defined(index);\n\n      if (cached) {\n        return cloneIfNotShared(cached, sharing);\n      }\n\n      var config = this.chart.config;\n      var scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n      var prefixes = active ? [\"\".concat(elementType, \"Hover\"), 'hover', elementType, ''] : [elementType, ''];\n      var scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      var names = Object.keys(defaults.elements[elementType]);\n\n      var context = function context() {\n        return _this3.getContext(index, active);\n      };\n\n      var values = config.resolveNamedOptions(scopes, names, context, prefixes);\n\n      if (values.$shared) {\n        values.$shared = sharing;\n        cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n      }\n\n      return values;\n    }\n  }, {\n    key: \"_resolveAnimations\",\n    value: function _resolveAnimations(index, transition, active) {\n      var chart = this.chart;\n      var cache = this._cachedDataOpts;\n      var cacheKey = \"animation-\".concat(transition);\n      var cached = cache[cacheKey];\n\n      if (cached) {\n        return cached;\n      }\n\n      var options;\n\n      if (chart.options.animation !== false) {\n        var config = this.chart.config;\n        var scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n        var scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n        options = config.createResolver(scopes, this.getContext(index, active, transition));\n      }\n\n      var animations = new Animations(chart, options && options.animations);\n\n      if (options && options._cacheable) {\n        cache[cacheKey] = Object.freeze(animations);\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"getSharedOptions\",\n    value: function getSharedOptions(options) {\n      if (!options.$shared) {\n        return;\n      }\n\n      return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n    }\n  }, {\n    key: \"includeOptions\",\n    value: function includeOptions(mode, sharedOptions) {\n      return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n    }\n  }, {\n    key: \"updateElement\",\n    value: function updateElement(element, index, properties, mode) {\n      if (isDirectUpdateMode(mode)) {\n        Object.assign(element, properties);\n      } else {\n        this._resolveAnimations(index, mode).update(element, properties);\n      }\n    }\n  }, {\n    key: \"updateSharedOptions\",\n    value: function updateSharedOptions(sharedOptions, mode, newOptions) {\n      if (sharedOptions && !isDirectUpdateMode(mode)) {\n        this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n      }\n    }\n  }, {\n    key: \"_setStyle\",\n    value: function _setStyle(element, index, mode, active) {\n      element.active = active;\n      var options = this.getStyle(index, active);\n\n      this._resolveAnimations(index, mode, active).update(element, {\n        options: !active && this.getSharedOptions(options) || options\n      });\n    }\n  }, {\n    key: \"removeHoverStyle\",\n    value: function removeHoverStyle(element, datasetIndex, index) {\n      this._setStyle(element, index, 'active', false);\n    }\n  }, {\n    key: \"setHoverStyle\",\n    value: function setHoverStyle(element, datasetIndex, index) {\n      this._setStyle(element, index, 'active', true);\n    }\n  }, {\n    key: \"_removeDatasetHoverStyle\",\n    value: function _removeDatasetHoverStyle() {\n      var element = this._cachedMeta.dataset;\n\n      if (element) {\n        this._setStyle(element, undefined, 'active', false);\n      }\n    }\n  }, {\n    key: \"_setDatasetHoverStyle\",\n    value: function _setDatasetHoverStyle() {\n      var element = this._cachedMeta.dataset;\n\n      if (element) {\n        this._setStyle(element, undefined, 'active', true);\n      }\n    }\n  }, {\n    key: \"_resyncElements\",\n    value: function _resyncElements(resetNewElements) {\n      var data = this._data;\n      var elements = this._cachedMeta.data;\n\n      var _iterator4 = _createForOfIteratorHelper(this._syncList),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var _step4$value = _slicedToArray(_step4.value, 3),\n              method = _step4$value[0],\n              arg1 = _step4$value[1],\n              arg2 = _step4$value[2];\n\n          this[method](arg1, arg2);\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n\n      this._syncList = [];\n      var numMeta = elements.length;\n      var numData = data.length;\n      var count = Math.min(numData, numMeta);\n\n      if (count) {\n        this.parse(0, count);\n      }\n\n      if (numData > numMeta) {\n        this._insertElements(numMeta, numData - numMeta, resetNewElements);\n      } else if (numData < numMeta) {\n        this._removeElements(numData, numMeta - numData);\n      }\n    }\n  }, {\n    key: \"_insertElements\",\n    value: function _insertElements(start, count) {\n      var resetNewElements = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var meta = this._cachedMeta;\n      var data = meta.data;\n      var end = start + count;\n      var i;\n\n      var move = function move(arr) {\n        arr.length += count;\n\n        for (i = arr.length - 1; i >= end; i--) {\n          arr[i] = arr[i - count];\n        }\n      };\n\n      move(data);\n\n      for (i = start; i < end; ++i) {\n        data[i] = new this.dataElementType();\n      }\n\n      if (this._parsing) {\n        move(meta._parsed);\n      }\n\n      this.parse(start, count);\n\n      if (resetNewElements) {\n        this.updateElements(data, start, count, 'reset');\n      }\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(element, start, count, mode) {}\n  }, {\n    key: \"_removeElements\",\n    value: function _removeElements(start, count) {\n      var meta = this._cachedMeta;\n\n      if (this._parsing) {\n        var removed = meta._parsed.splice(start, count);\n\n        if (meta._stacked) {\n          clearStacks(meta, removed);\n        }\n      }\n\n      meta.data.splice(start, count);\n    }\n  }, {\n    key: \"_sync\",\n    value: function _sync(args) {\n      if (this._parsing) {\n        this._syncList.push(args);\n      } else {\n        var _args2 = _slicedToArray(args, 3),\n            method = _args2[0],\n            arg1 = _args2[1],\n            arg2 = _args2[2];\n\n        this[method](arg1, arg2);\n      }\n    }\n  }, {\n    key: \"_onDataPush\",\n    value: function _onDataPush() {\n      var count = arguments.length;\n\n      this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n    }\n  }, {\n    key: \"_onDataPop\",\n    value: function _onDataPop() {\n      this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n    }\n  }, {\n    key: \"_onDataShift\",\n    value: function _onDataShift() {\n      this._sync(['_removeElements', 0, 1]);\n    }\n  }, {\n    key: \"_onDataSplice\",\n    value: function _onDataSplice(start, count) {\n      this._sync(['_removeElements', start, count]);\n\n      this._sync(['_insertElements', start, arguments.length - 2]);\n    }\n  }, {\n    key: \"_onDataUnshift\",\n    value: function _onDataUnshift() {\n      this._sync(['_insertElements', 0, arguments.length]);\n    }\n  }]);\n\n  return DatasetController;\n}();\n\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    var visibleMetas = scale.getMatchingVisibleMetas(type);\n    var values = [];\n\n    for (var i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n\n    scale._cache.$bar = _arrayUnique(values.sort(function (a, b) {\n      return a - b;\n    }));\n  }\n\n  return scale._cache.$bar;\n}\n\nfunction computeMinSampleSize(meta) {\n  var scale = meta.iScale;\n  var values = getAllScaleValues(scale, meta.type);\n  var min = scale._length;\n  var i, ilen, curr, prev;\n\n  var updateMinAndPrev = function updateMinAndPrev() {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n\n    prev = curr;\n  };\n\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n\n  prev = undefined;\n\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n\n  return min;\n}\n\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  var thickness = options.barThickness;\n  var size, ratio;\n\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n\n  return {\n    chunk: size / stackCount,\n    ratio: ratio,\n    start: ruler.pixels[index] - size / 2\n  };\n}\n\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  var pixels = ruler.pixels;\n  var curr = pixels[index];\n  var prev = index > 0 ? pixels[index - 1] : null;\n  var next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  var percent = options.categoryPercentage;\n\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n\n  var start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  var size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start: start\n  };\n}\n\nfunction parseFloatBar(entry, item, vScale, i) {\n  var startValue = vScale.parse(entry[0], i);\n  var endValue = vScale.parse(entry[1], i);\n  var min = Math.min(startValue, endValue);\n  var max = Math.max(startValue, endValue);\n  var barStart = min;\n  var barEnd = max;\n\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart: barStart,\n    barEnd: barEnd,\n    start: startValue,\n    end: endValue,\n    min: min,\n    max: max\n  };\n}\n\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n\n  return item;\n}\n\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  var iScale = meta.iScale;\n  var vScale = meta.vScale;\n  var labels = iScale.getLabels();\n  var singleScale = iScale === vScale;\n  var parsed = [];\n  var i, ilen, item, entry;\n\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n\n  return parsed;\n}\n\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\n\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\n\nfunction borderProps(properties) {\n  var reverse, start, end, top, bottom;\n\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n\n  return {\n    start: start,\n    end: end,\n    reverse: reverse,\n    top: top,\n    bottom: bottom\n  };\n}\n\nfunction setBorderSkipped(properties, options, stack, index) {\n  var edge = options.borderSkipped;\n  var res = {};\n\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n\n  var _borderProps = borderProps(properties),\n      start = _borderProps.start,\n      end = _borderProps.end,\n      reverse = _borderProps.reverse,\n      top = _borderProps.top,\n      bottom = _borderProps.bottom;\n\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\n\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n\n  return edge;\n}\n\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\n\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\n\nfunction setInflateAmount(properties, _ref, ratio) {\n  var inflateAmount = _ref.inflateAmount;\n  properties.inflateAmount = inflateAmount === 'auto' ? ratio === 1 ? 0.33 : 0 : inflateAmount;\n}\n\nvar BarController = /*#__PURE__*/function (_DatasetController) {\n  _inherits(BarController, _DatasetController);\n\n  var _super = _createSuper(BarController);\n\n  function BarController() {\n    _classCallCheck(this, BarController);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(BarController, [{\n    key: \"parsePrimitiveData\",\n    value: function parsePrimitiveData(meta, data, start, count) {\n      return parseArrayOrPrimitive(meta, data, start, count);\n    }\n  }, {\n    key: \"parseArrayData\",\n    value: function parseArrayData(meta, data, start, count) {\n      return parseArrayOrPrimitive(meta, data, start, count);\n    }\n  }, {\n    key: \"parseObjectData\",\n    value: function parseObjectData(meta, data, start, count) {\n      var iScale = meta.iScale,\n          vScale = meta.vScale;\n      var _this$_parsing2 = this._parsing,\n          _this$_parsing2$xAxis = _this$_parsing2.xAxisKey,\n          xAxisKey = _this$_parsing2$xAxis === void 0 ? 'x' : _this$_parsing2$xAxis,\n          _this$_parsing2$yAxis = _this$_parsing2.yAxisKey,\n          yAxisKey = _this$_parsing2$yAxis === void 0 ? 'y' : _this$_parsing2$yAxis;\n      var iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n      var vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n      var parsed = [];\n      var i, ilen, item, obj;\n\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        obj = data[i];\n        item = {};\n        item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n        parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"updateRangeFromParsed\",\n    value: function updateRangeFromParsed(range, scale, parsed, stack) {\n      _get(_getPrototypeOf(BarController.prototype), \"updateRangeFromParsed\", this).call(this, range, scale, parsed, stack);\n\n      var custom = parsed._custom;\n\n      if (custom && scale === this._cachedMeta.vScale) {\n        range.min = Math.min(range.min, custom.min);\n        range.max = Math.max(range.max, custom.max);\n      }\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      return 0;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var meta = this._cachedMeta;\n      var iScale = meta.iScale,\n          vScale = meta.vScale;\n      var parsed = this.getParsed(index);\n      var custom = parsed._custom;\n      var value = isFloatBar(custom) ? '[' + custom.start + ', ' + custom.end + ']' : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n      return {\n        label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n        value: value\n      };\n    }\n  }, {\n    key: \"initialize\",\n    value: function initialize() {\n      this.enableOptionSharing = true;\n\n      _get(_getPrototypeOf(BarController.prototype), \"initialize\", this).call(this);\n\n      var meta = this._cachedMeta;\n      meta.stack = this.getDataset().stack;\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var meta = this._cachedMeta;\n      this.updateElements(meta.data, 0, meta.data.length, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(bars, start, count, mode) {\n      var reset = mode === 'reset';\n      var index = this.index,\n          vScale = this._cachedMeta.vScale;\n      var base = vScale.getBasePixel();\n      var horizontal = vScale.isHorizontal();\n\n      var ruler = this._getRuler();\n\n      var firstOpts = this.resolveDataElementOptions(start, mode);\n      var sharedOptions = this.getSharedOptions(firstOpts);\n      var includeOptions = this.includeOptions(mode, sharedOptions);\n      this.updateSharedOptions(sharedOptions, mode, firstOpts);\n\n      for (var i = start; i < start + count; i++) {\n        var parsed = this.getParsed(i);\n        var vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {\n          base: base,\n          head: base\n        } : this._calculateBarValuePixels(i);\n\n        var ipixels = this._calculateBarIndexPixels(i, ruler);\n\n        var stack = (parsed._stacks || {})[vScale.axis];\n        var properties = {\n          horizontal: horizontal,\n          base: vpixels.base,\n          enableBorderRadius: !stack || isFloatBar(parsed._custom) || index === stack._top || index === stack._bottom,\n          x: horizontal ? vpixels.head : ipixels.center,\n          y: horizontal ? ipixels.center : vpixels.head,\n          height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n          width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n        };\n\n        if (includeOptions) {\n          properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n        }\n\n        var options = properties.options || bars[i].options;\n        setBorderSkipped(properties, options, stack, index);\n        setInflateAmount(properties, options, ruler.ratio);\n        this.updateElement(bars[i], i, properties, mode);\n      }\n    }\n  }, {\n    key: \"_getStacks\",\n    value: function _getStacks(last, dataIndex) {\n      var meta = this._cachedMeta;\n      var iScale = meta.iScale;\n      var metasets = iScale.getMatchingVisibleMetas(this._type);\n      var stacked = iScale.options.stacked;\n      var ilen = metasets.length;\n      var stacks = [];\n      var i, item;\n\n      for (i = 0; i < ilen; ++i) {\n        item = metasets[i];\n\n        if (!item.controller.options.grouped) {\n          continue;\n        }\n\n        if (typeof dataIndex !== 'undefined') {\n          var val = item.controller.getParsed(dataIndex)[item.controller._cachedMeta.vScale.axis];\n\n          if (isNullOrUndef(val) || isNaN(val)) {\n            continue;\n          }\n        }\n\n        if (stacked === false || stacks.indexOf(item.stack) === -1 || stacked === undefined && item.stack === undefined) {\n          stacks.push(item.stack);\n        }\n\n        if (item.index === last) {\n          break;\n        }\n      }\n\n      if (!stacks.length) {\n        stacks.push(undefined);\n      }\n\n      return stacks;\n    }\n  }, {\n    key: \"_getStackCount\",\n    value: function _getStackCount(index) {\n      return this._getStacks(undefined, index).length;\n    }\n  }, {\n    key: \"_getStackIndex\",\n    value: function _getStackIndex(datasetIndex, name, dataIndex) {\n      var stacks = this._getStacks(datasetIndex, dataIndex);\n\n      var index = name !== undefined ? stacks.indexOf(name) : -1;\n      return index === -1 ? stacks.length - 1 : index;\n    }\n  }, {\n    key: \"_getRuler\",\n    value: function _getRuler() {\n      var opts = this.options;\n      var meta = this._cachedMeta;\n      var iScale = meta.iScale;\n      var pixels = [];\n      var i, ilen;\n\n      for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n        pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n      }\n\n      var barThickness = opts.barThickness;\n      var min = barThickness || computeMinSampleSize(meta);\n      return {\n        min: min,\n        pixels: pixels,\n        start: iScale._startPixel,\n        end: iScale._endPixel,\n        stackCount: this._getStackCount(),\n        scale: iScale,\n        grouped: opts.grouped,\n        ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n      };\n    }\n  }, {\n    key: \"_calculateBarValuePixels\",\n    value: function _calculateBarValuePixels(index) {\n      var _this$_cachedMeta = this._cachedMeta,\n          vScale = _this$_cachedMeta.vScale,\n          _stacked = _this$_cachedMeta._stacked,\n          _this$options = this.options,\n          baseValue = _this$options.base,\n          minBarLength = _this$options.minBarLength;\n      var actualBase = baseValue || 0;\n      var parsed = this.getParsed(index);\n      var custom = parsed._custom;\n      var floating = isFloatBar(custom);\n      var value = parsed[vScale.axis];\n      var start = 0;\n      var length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n      var head, size;\n\n      if (length !== value) {\n        start = length - value;\n        length = value;\n      }\n\n      if (floating) {\n        value = custom.barStart;\n        length = custom.barEnd - custom.barStart;\n\n        if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n          start = 0;\n        }\n\n        start += value;\n      }\n\n      var startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n      var base = vScale.getPixelForValue(startValue);\n\n      if (this.chart.getDataVisibility(index)) {\n        head = vScale.getPixelForValue(start + length);\n      } else {\n        head = base;\n      }\n\n      size = head - base;\n\n      if (Math.abs(size) < minBarLength) {\n        size = barSign(size, vScale, actualBase) * minBarLength;\n\n        if (value === actualBase) {\n          base -= size / 2;\n        }\n\n        head = base + size;\n      }\n\n      if (base === vScale.getPixelForValue(actualBase)) {\n        var halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n        base += halfGrid;\n        size -= halfGrid;\n      }\n\n      return {\n        size: size,\n        base: base,\n        head: head,\n        center: head + size / 2\n      };\n    }\n  }, {\n    key: \"_calculateBarIndexPixels\",\n    value: function _calculateBarIndexPixels(index, ruler) {\n      var scale = ruler.scale;\n      var options = this.options;\n      var skipNull = options.skipNull;\n      var maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n      var center, size;\n\n      if (ruler.grouped) {\n        var stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n        var range = options.barThickness === 'flex' ? computeFlexCategoryTraits(index, ruler, options, stackCount) : computeFitCategoryTraits(index, ruler, options, stackCount);\n\n        var stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n\n        center = range.start + range.chunk * stackIndex + range.chunk / 2;\n        size = Math.min(maxBarThickness, range.chunk * range.ratio);\n      } else {\n        center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n        size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n      }\n\n      return {\n        base: center - size / 2,\n        head: center + size / 2,\n        center: center,\n        size: size\n      };\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var meta = this._cachedMeta;\n      var vScale = meta.vScale;\n      var rects = meta.data;\n      var ilen = rects.length;\n      var i = 0;\n\n      for (; i < ilen; ++i) {\n        if (this.getParsed(i)[vScale.axis] !== null) {\n          rects[i].draw(this._ctx);\n        }\n      }\n    }\n  }]);\n\n  return BarController;\n}(DatasetController);\n\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true\n    }\n  }\n};\n\nvar BubbleController = /*#__PURE__*/function (_DatasetController2) {\n  _inherits(BubbleController, _DatasetController2);\n\n  var _super2 = _createSuper(BubbleController);\n\n  function BubbleController() {\n    _classCallCheck(this, BubbleController);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(BubbleController, [{\n    key: \"initialize\",\n    value: function initialize() {\n      this.enableOptionSharing = true;\n\n      _get(_getPrototypeOf(BubbleController.prototype), \"initialize\", this).call(this);\n    }\n  }, {\n    key: \"parsePrimitiveData\",\n    value: function parsePrimitiveData(meta, data, start, count) {\n      var parsed = _get(_getPrototypeOf(BubbleController.prototype), \"parsePrimitiveData\", this).call(this, meta, data, start, count);\n\n      for (var i = 0; i < parsed.length; i++) {\n        parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"parseArrayData\",\n    value: function parseArrayData(meta, data, start, count) {\n      var parsed = _get(_getPrototypeOf(BubbleController.prototype), \"parseArrayData\", this).call(this, meta, data, start, count);\n\n      for (var i = 0; i < parsed.length; i++) {\n        var item = data[start + i];\n        parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"parseObjectData\",\n    value: function parseObjectData(meta, data, start, count) {\n      var parsed = _get(_getPrototypeOf(BubbleController.prototype), \"parseObjectData\", this).call(this, meta, data, start, count);\n\n      for (var i = 0; i < parsed.length; i++) {\n        var item = data[start + i];\n        parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n      }\n\n      return parsed;\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      var data = this._cachedMeta.data;\n      var max = 0;\n\n      for (var i = data.length - 1; i >= 0; --i) {\n        max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n      }\n\n      return max > 0 && max;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var meta = this._cachedMeta;\n      var xScale = meta.xScale,\n          yScale = meta.yScale;\n      var parsed = this.getParsed(index);\n      var x = xScale.getLabelForValue(parsed.x);\n      var y = yScale.getLabelForValue(parsed.y);\n      var r = parsed._custom;\n      return {\n        label: meta.label,\n        value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var points = this._cachedMeta.data;\n      this.updateElements(points, 0, points.length, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(points, start, count, mode) {\n      var reset = mode === 'reset';\n      var _this$_cachedMeta2 = this._cachedMeta,\n          iScale = _this$_cachedMeta2.iScale,\n          vScale = _this$_cachedMeta2.vScale;\n      var firstOpts = this.resolveDataElementOptions(start, mode);\n      var sharedOptions = this.getSharedOptions(firstOpts);\n      var includeOptions = this.includeOptions(mode, sharedOptions);\n      var iAxis = iScale.axis;\n      var vAxis = vScale.axis;\n\n      for (var i = start; i < start + count; i++) {\n        var point = points[i];\n        var parsed = !reset && this.getParsed(i);\n        var properties = {};\n        var iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n        var vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n        properties.skip = isNaN(iPixel) || isNaN(vPixel);\n\n        if (includeOptions) {\n          properties.options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n\n          if (reset) {\n            properties.options.radius = 0;\n          }\n        }\n\n        this.updateElement(point, i, properties, mode);\n      }\n\n      this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n  }, {\n    key: \"resolveDataElementOptions\",\n    value: function resolveDataElementOptions(index, mode) {\n      var parsed = this.getParsed(index);\n\n      var values = _get(_getPrototypeOf(BubbleController.prototype), \"resolveDataElementOptions\", this).call(this, index, mode);\n\n      if (values.$shared) {\n        values = Object.assign({}, values, {\n          $shared: false\n        });\n      }\n\n      var radius = values.radius;\n\n      if (mode !== 'active') {\n        values.radius = 0;\n      }\n\n      values.radius += valueOrDefault(parsed && parsed._custom, radius);\n      return values;\n    }\n  }]);\n\n  return BubbleController;\n}(DatasetController);\n\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  var ratioX = 1;\n  var ratioY = 1;\n  var offsetX = 0;\n  var offsetY = 0;\n\n  if (circumference < TAU) {\n    var startAngle = rotation;\n    var endAngle = startAngle + circumference;\n    var startX = Math.cos(startAngle);\n    var startY = Math.sin(startAngle);\n    var endX = Math.cos(endAngle);\n    var endY = Math.sin(endAngle);\n\n    var calcMax = function calcMax(angle, a, b) {\n      return _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    };\n\n    var calcMin = function calcMin(angle, a, b) {\n      return _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    };\n\n    var maxX = calcMax(0, startX, endX);\n    var maxY = calcMax(HALF_PI, startY, endY);\n    var minX = calcMin(PI, startX, endX);\n    var minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n\n  return {\n    ratioX: ratioX,\n    ratioY: ratioY,\n    offsetX: offsetX,\n    offsetY: offsetY\n  };\n}\n\nvar DoughnutController = /*#__PURE__*/function (_DatasetController3) {\n  _inherits(DoughnutController, _DatasetController3);\n\n  var _super3 = _createSuper(DoughnutController);\n\n  function DoughnutController(chart, datasetIndex) {\n    var _this4;\n\n    _classCallCheck(this, DoughnutController);\n\n    _this4 = _super3.call(this, chart, datasetIndex);\n    _this4.enableOptionSharing = true;\n    _this4.innerRadius = undefined;\n    _this4.outerRadius = undefined;\n    _this4.offsetX = undefined;\n    _this4.offsetY = undefined;\n    return _this4;\n  }\n\n  _createClass(DoughnutController, [{\n    key: \"linkScales\",\n    value: function linkScales() {}\n  }, {\n    key: \"parse\",\n    value: function parse(start, count) {\n      var data = this.getDataset().data;\n      var meta = this._cachedMeta;\n\n      if (this._parsing === false) {\n        meta._parsed = data;\n      } else {\n        var getter = function getter(i) {\n          return +data[i];\n        };\n\n        if (isObject(data[start])) {\n          var _this$_parsing$key = this._parsing.key,\n              key = _this$_parsing$key === void 0 ? 'value' : _this$_parsing$key;\n\n          getter = function getter(i) {\n            return +resolveObjectKey(data[i], key);\n          };\n        }\n\n        var i, ilen;\n\n        for (i = start, ilen = start + count; i < ilen; ++i) {\n          meta._parsed[i] = getter(i);\n        }\n      }\n    }\n  }, {\n    key: \"_getRotation\",\n    value: function _getRotation() {\n      return toRadians(this.options.rotation - 90);\n    }\n  }, {\n    key: \"_getCircumference\",\n    value: function _getCircumference() {\n      return toRadians(this.options.circumference);\n    }\n  }, {\n    key: \"_getRotationExtents\",\n    value: function _getRotationExtents() {\n      var min = TAU;\n      var max = -TAU;\n\n      for (var i = 0; i < this.chart.data.datasets.length; ++i) {\n        if (this.chart.isDatasetVisible(i)) {\n          var controller = this.chart.getDatasetMeta(i).controller;\n\n          var rotation = controller._getRotation();\n\n          var circumference = controller._getCircumference();\n\n          min = Math.min(min, rotation);\n          max = Math.max(max, rotation + circumference);\n        }\n      }\n\n      return {\n        rotation: min,\n        circumference: max - min\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var chart = this.chart;\n      var chartArea = chart.chartArea;\n      var meta = this._cachedMeta;\n      var arcs = meta.data;\n      var spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n      var maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n      var cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n\n      var chartWeight = this._getRingWeight(this.index);\n\n      var _this$_getRotationExt = this._getRotationExtents(),\n          circumference = _this$_getRotationExt.circumference,\n          rotation = _this$_getRotationExt.rotation;\n\n      var _getRatioAndOffset = getRatioAndOffset(rotation, circumference, cutout),\n          ratioX = _getRatioAndOffset.ratioX,\n          ratioY = _getRatioAndOffset.ratioY,\n          offsetX = _getRatioAndOffset.offsetX,\n          offsetY = _getRatioAndOffset.offsetY;\n\n      var maxWidth = (chartArea.width - spacing) / ratioX;\n      var maxHeight = (chartArea.height - spacing) / ratioY;\n      var maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n      var outerRadius = toDimension(this.options.radius, maxRadius);\n      var innerRadius = Math.max(outerRadius * cutout, 0);\n\n      var radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n\n      this.offsetX = offsetX * outerRadius;\n      this.offsetY = offsetY * outerRadius;\n      meta.total = this.calculateTotal();\n      this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n      this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n      this.updateElements(arcs, 0, arcs.length, mode);\n    }\n  }, {\n    key: \"_circumference\",\n    value: function _circumference(i, reset) {\n      var opts = this.options;\n      var meta = this._cachedMeta;\n\n      var circumference = this._getCircumference();\n\n      if (reset && opts.animation.animateRotate || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n        return 0;\n      }\n\n      return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(arcs, start, count, mode) {\n      var reset = mode === 'reset';\n      var chart = this.chart;\n      var chartArea = chart.chartArea;\n      var opts = chart.options;\n      var animationOpts = opts.animation;\n      var centerX = (chartArea.left + chartArea.right) / 2;\n      var centerY = (chartArea.top + chartArea.bottom) / 2;\n      var animateScale = reset && animationOpts.animateScale;\n      var innerRadius = animateScale ? 0 : this.innerRadius;\n      var outerRadius = animateScale ? 0 : this.outerRadius;\n      var firstOpts = this.resolveDataElementOptions(start, mode);\n      var sharedOptions = this.getSharedOptions(firstOpts);\n      var includeOptions = this.includeOptions(mode, sharedOptions);\n\n      var startAngle = this._getRotation();\n\n      var i;\n\n      for (i = 0; i < start; ++i) {\n        startAngle += this._circumference(i, reset);\n      }\n\n      for (i = start; i < start + count; ++i) {\n        var circumference = this._circumference(i, reset);\n\n        var arc = arcs[i];\n        var properties = {\n          x: centerX + this.offsetX,\n          y: centerY + this.offsetY,\n          startAngle: startAngle,\n          endAngle: startAngle + circumference,\n          circumference: circumference,\n          outerRadius: outerRadius,\n          innerRadius: innerRadius\n        };\n\n        if (includeOptions) {\n          properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n        }\n\n        startAngle += circumference;\n        this.updateElement(arc, i, properties, mode);\n      }\n\n      this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n  }, {\n    key: \"calculateTotal\",\n    value: function calculateTotal() {\n      var meta = this._cachedMeta;\n      var metaData = meta.data;\n      var total = 0;\n      var i;\n\n      for (i = 0; i < metaData.length; i++) {\n        var value = meta._parsed[i];\n\n        if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n          total += Math.abs(value);\n        }\n      }\n\n      return total;\n    }\n  }, {\n    key: \"calculateCircumference\",\n    value: function calculateCircumference(value) {\n      var total = this._cachedMeta.total;\n\n      if (total > 0 && !isNaN(value)) {\n        return TAU * (Math.abs(value) / total);\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var meta = this._cachedMeta;\n      var chart = this.chart;\n      var labels = chart.data.labels || [];\n      var value = formatNumber(meta._parsed[index], chart.options.locale);\n      return {\n        label: labels[index] || '',\n        value: value\n      };\n    }\n  }, {\n    key: \"getMaxBorderWidth\",\n    value: function getMaxBorderWidth(arcs) {\n      var max = 0;\n      var chart = this.chart;\n      var i, ilen, meta, controller, options;\n\n      if (!arcs) {\n        for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n          if (chart.isDatasetVisible(i)) {\n            meta = chart.getDatasetMeta(i);\n            arcs = meta.data;\n            controller = meta.controller;\n\n            if (controller !== this) {\n              controller.configure();\n            }\n\n            break;\n          }\n        }\n      }\n\n      if (!arcs) {\n        return 0;\n      }\n\n      for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n        options = controller.resolveDataElementOptions(i);\n\n        if (options.borderAlign !== 'inner') {\n          max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n        }\n      }\n\n      return max;\n    }\n  }, {\n    key: \"getMaxOffset\",\n    value: function getMaxOffset(arcs) {\n      var max = 0;\n\n      for (var i = 0, ilen = arcs.length; i < ilen; ++i) {\n        var options = this.resolveDataElementOptions(i);\n        max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n      }\n\n      return max;\n    }\n  }, {\n    key: \"_getRingWeightOffset\",\n    value: function _getRingWeightOffset(datasetIndex) {\n      var ringWeightOffset = 0;\n\n      for (var i = 0; i < datasetIndex; ++i) {\n        if (this.chart.isDatasetVisible(i)) {\n          ringWeightOffset += this._getRingWeight(i);\n        }\n      }\n\n      return ringWeightOffset;\n    }\n  }, {\n    key: \"_getRingWeight\",\n    value: function _getRingWeight(datasetIndex) {\n      return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n    }\n  }, {\n    key: \"_getVisibleDatasetWeightTotal\",\n    value: function _getVisibleDatasetWeightTotal() {\n      return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n    }\n  }]);\n\n  return DoughnutController;\n}(DatasetController);\n\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n    }\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  spacing: 0,\n  indexAxis: 'r'\n};\nDoughnutController.descriptors = {\n  _scriptable: function _scriptable(name) {\n    return name !== 'spacing';\n  },\n  _indexable: function _indexable(name) {\n    return name !== 'spacing';\n  }\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels: function generateLabels(chart) {\n          var data = chart.data;\n\n          if (data.labels.length && data.datasets.length) {\n            var pointStyle = chart.legend.options.labels.pointStyle;\n            return data.labels.map(function (label, i) {\n              var meta = chart.getDatasetMeta(0);\n              var style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n\n          return [];\n        }\n      },\n      onClick: function onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        },\n        label: function label(tooltipItem) {\n          var dataLabel = tooltipItem.label;\n          var value = ': ' + tooltipItem.formattedValue;\n\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nvar LineController = /*#__PURE__*/function (_DatasetController4) {\n  _inherits(LineController, _DatasetController4);\n\n  var _super4 = _createSuper(LineController);\n\n  function LineController() {\n    _classCallCheck(this, LineController);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(LineController, [{\n    key: \"initialize\",\n    value: function initialize() {\n      this.enableOptionSharing = true;\n\n      _get(_getPrototypeOf(LineController.prototype), \"initialize\", this).call(this);\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var meta = this._cachedMeta;\n      var line = meta.dataset,\n          _meta$data = meta.data,\n          points = _meta$data === void 0 ? [] : _meta$data,\n          _dataset = meta._dataset;\n      var animationsDisabled = this.chart._animationsDisabled;\n\n      var _getStartAndCountOfVi = getStartAndCountOfVisiblePoints(meta, points, animationsDisabled),\n          start = _getStartAndCountOfVi.start,\n          count = _getStartAndCountOfVi.count;\n\n      this._drawStart = start;\n      this._drawCount = count;\n\n      if (scaleRangesChanged(meta)) {\n        start = 0;\n        count = points.length;\n      }\n\n      line._chart = this.chart;\n      line._datasetIndex = this.index;\n      line._decimated = !!_dataset._decimated;\n      line.points = points;\n      var options = this.resolveDatasetElementOptions(mode);\n\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n\n      options.segment = this.options.segment;\n      this.updateElement(line, undefined, {\n        animated: !animationsDisabled,\n        options: options\n      }, mode);\n      this.updateElements(points, start, count, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(points, start, count, mode) {\n      var reset = mode === 'reset';\n      var _this$_cachedMeta3 = this._cachedMeta,\n          iScale = _this$_cachedMeta3.iScale,\n          vScale = _this$_cachedMeta3.vScale,\n          _stacked = _this$_cachedMeta3._stacked,\n          _dataset = _this$_cachedMeta3._dataset;\n      var firstOpts = this.resolveDataElementOptions(start, mode);\n      var sharedOptions = this.getSharedOptions(firstOpts);\n      var includeOptions = this.includeOptions(mode, sharedOptions);\n      var iAxis = iScale.axis;\n      var vAxis = vScale.axis;\n      var _this$options2 = this.options,\n          spanGaps = _this$options2.spanGaps,\n          segment = _this$options2.segment;\n      var maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n      var directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n      var prevParsed = start > 0 && this.getParsed(start - 1);\n\n      for (var i = start; i < start + count; ++i) {\n        var point = points[i];\n        var parsed = this.getParsed(i);\n        var properties = directUpdate ? point : {};\n        var nullData = isNullOrUndef(parsed[vAxis]);\n        var iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n        var vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n        properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n        properties.stop = i > 0 && parsed[iAxis] - prevParsed[iAxis] > maxGapLength;\n\n        if (segment) {\n          properties.parsed = parsed;\n          properties.raw = _dataset.data[i];\n        }\n\n        if (includeOptions) {\n          properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n        }\n\n        if (!directUpdate) {\n          this.updateElement(point, i, properties, mode);\n        }\n\n        prevParsed = parsed;\n      }\n\n      this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    }\n  }, {\n    key: \"getMaxOverflow\",\n    value: function getMaxOverflow() {\n      var meta = this._cachedMeta;\n      var dataset = meta.dataset;\n      var border = dataset.options && dataset.options.borderWidth || 0;\n      var data = meta.data || [];\n\n      if (!data.length) {\n        return border;\n      }\n\n      var firstPoint = data[0].size(this.resolveDataElementOptions(0));\n      var lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n      return Math.max(border, firstPoint, lastPoint) / 2;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var meta = this._cachedMeta;\n      meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n\n      _get(_getPrototypeOf(LineController.prototype), \"draw\", this).call(this);\n    }\n  }]);\n\n  return LineController;\n}(DatasetController);\n\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category'\n    },\n    _value_: {\n      type: 'linear'\n    }\n  }\n};\n\nfunction getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  var pointCount = points.length;\n  var start = 0;\n  var count = pointCount;\n\n  if (meta._sorted) {\n    var iScale = meta.iScale,\n        _parsed = meta._parsed;\n    var axis = iScale.axis;\n\n    var _iScale$getUserBounds = iScale.getUserBounds(),\n        min = _iScale$getUserBounds.min,\n        max = _iScale$getUserBounds.max,\n        minDefined = _iScale$getUserBounds.minDefined,\n        maxDefined = _iScale$getUserBounds.maxDefined;\n\n    if (minDefined) {\n      start = _limitValue(Math.min(_lookupByKey(_parsed, iScale.axis, min).lo, animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo), 0, pointCount - 1);\n    }\n\n    if (maxDefined) {\n      count = _limitValue(Math.max(_lookupByKey(_parsed, iScale.axis, max).hi + 1, animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max)).hi + 1), start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n\n  return {\n    start: start,\n    count: count\n  };\n}\n\nfunction scaleRangesChanged(meta) {\n  var xScale = meta.xScale,\n      yScale = meta.yScale,\n      _scaleRanges = meta._scaleRanges;\n  var newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n\n  var changed = _scaleRanges.xmin !== xScale.min || _scaleRanges.xmax !== xScale.max || _scaleRanges.ymin !== yScale.min || _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nvar PolarAreaController = /*#__PURE__*/function (_DatasetController5) {\n  _inherits(PolarAreaController, _DatasetController5);\n\n  var _super5 = _createSuper(PolarAreaController);\n\n  function PolarAreaController(chart, datasetIndex) {\n    var _this5;\n\n    _classCallCheck(this, PolarAreaController);\n\n    _this5 = _super5.call(this, chart, datasetIndex);\n    _this5.innerRadius = undefined;\n    _this5.outerRadius = undefined;\n    return _this5;\n  }\n\n  _createClass(PolarAreaController, [{\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var meta = this._cachedMeta;\n      var chart = this.chart;\n      var labels = chart.data.labels || [];\n      var value = formatNumber(meta._parsed[index].r, chart.options.locale);\n      return {\n        label: labels[index] || '',\n        value: value\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var arcs = this._cachedMeta.data;\n\n      this._updateRadius();\n\n      this.updateElements(arcs, 0, arcs.length, mode);\n    }\n  }, {\n    key: \"_updateRadius\",\n    value: function _updateRadius() {\n      var chart = this.chart;\n      var chartArea = chart.chartArea;\n      var opts = chart.options;\n      var minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n      var outerRadius = Math.max(minSize / 2, 0);\n      var innerRadius = Math.max(opts.cutoutPercentage ? outerRadius / 100 * opts.cutoutPercentage : 1, 0);\n      var radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n      this.outerRadius = outerRadius - radiusLength * this.index;\n      this.innerRadius = this.outerRadius - radiusLength;\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(arcs, start, count, mode) {\n      var reset = mode === 'reset';\n      var chart = this.chart;\n      var dataset = this.getDataset();\n      var opts = chart.options;\n      var animationOpts = opts.animation;\n      var scale = this._cachedMeta.rScale;\n      var centerX = scale.xCenter;\n      var centerY = scale.yCenter;\n      var datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n      var angle = datasetStartAngle;\n      var i;\n      var defaultAngle = 360 / this.countVisibleElements();\n\n      for (i = 0; i < start; ++i) {\n        angle += this._computeAngle(i, mode, defaultAngle);\n      }\n\n      for (i = start; i < start + count; i++) {\n        var arc = arcs[i];\n        var startAngle = angle;\n\n        var endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n\n        var outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(dataset.data[i]) : 0;\n        angle = endAngle;\n\n        if (reset) {\n          if (animationOpts.animateScale) {\n            outerRadius = 0;\n          }\n\n          if (animationOpts.animateRotate) {\n            startAngle = endAngle = datasetStartAngle;\n          }\n        }\n\n        var properties = {\n          x: centerX,\n          y: centerY,\n          innerRadius: 0,\n          outerRadius: outerRadius,\n          startAngle: startAngle,\n          endAngle: endAngle,\n          options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n        };\n        this.updateElement(arc, i, properties, mode);\n      }\n    }\n  }, {\n    key: \"countVisibleElements\",\n    value: function countVisibleElements() {\n      var _this6 = this;\n\n      var dataset = this.getDataset();\n      var meta = this._cachedMeta;\n      var count = 0;\n      meta.data.forEach(function (element, index) {\n        if (!isNaN(dataset.data[index]) && _this6.chart.getDataVisibility(index)) {\n          count++;\n        }\n      });\n      return count;\n    }\n  }, {\n    key: \"_computeAngle\",\n    value: function _computeAngle(index, mode, defaultAngle) {\n      return this.chart.getDataVisibility(index) ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle) : 0;\n    }\n  }]);\n\n  return PolarAreaController;\n}(DatasetController);\n\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    }\n  },\n  indexAxis: 'r',\n  startAngle: 0\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels: function generateLabels(chart) {\n          var data = chart.data;\n\n          if (data.labels.length && data.datasets.length) {\n            var pointStyle = chart.legend.options.labels.pointStyle;\n            return data.labels.map(function (label, i) {\n              var meta = chart.getDatasetMeta(0);\n              var style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n\n          return [];\n        }\n      },\n      onClick: function onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        },\n        label: function label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nvar PieController = /*#__PURE__*/function (_DoughnutController) {\n  _inherits(PieController, _DoughnutController);\n\n  var _super6 = _createSuper(PieController);\n\n  function PieController() {\n    _classCallCheck(this, PieController);\n\n    return _super6.apply(this, arguments);\n  }\n\n  return PieController;\n}(DoughnutController);\n\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nvar RadarController = /*#__PURE__*/function (_DatasetController6) {\n  _inherits(RadarController, _DatasetController6);\n\n  var _super7 = _createSuper(RadarController);\n\n  function RadarController() {\n    _classCallCheck(this, RadarController);\n\n    return _super7.apply(this, arguments);\n  }\n\n  _createClass(RadarController, [{\n    key: \"getLabelAndValue\",\n    value: function getLabelAndValue(index) {\n      var vScale = this._cachedMeta.vScale;\n      var parsed = this.getParsed(index);\n      return {\n        label: vScale.getLabels()[index],\n        value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var meta = this._cachedMeta;\n      var line = meta.dataset;\n      var points = meta.data || [];\n      var labels = meta.iScale.getLabels();\n      line.points = points;\n\n      if (mode !== 'resize') {\n        var options = this.resolveDatasetElementOptions(mode);\n\n        if (!this.options.showLine) {\n          options.borderWidth = 0;\n        }\n\n        var properties = {\n          _loop: true,\n          _fullLoop: labels.length === points.length,\n          options: options\n        };\n        this.updateElement(line, undefined, properties, mode);\n      }\n\n      this.updateElements(points, 0, points.length, mode);\n    }\n  }, {\n    key: \"updateElements\",\n    value: function updateElements(points, start, count, mode) {\n      var dataset = this.getDataset();\n      var scale = this._cachedMeta.rScale;\n      var reset = mode === 'reset';\n\n      for (var i = start; i < start + count; i++) {\n        var point = points[i];\n        var options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n        var pointPosition = scale.getPointPositionForValue(i, dataset.data[i]);\n        var x = reset ? scale.xCenter : pointPosition.x;\n        var y = reset ? scale.yCenter : pointPosition.y;\n        var properties = {\n          x: x,\n          y: y,\n          angle: pointPosition.angle,\n          skip: isNaN(x) || isNaN(y),\n          options: options\n        };\n        this.updateElement(point, i, properties, mode);\n      }\n    }\n  }]);\n\n  return RadarController;\n}(DatasetController);\n\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  }\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear'\n    }\n  }\n};\n\nvar ScatterController = /*#__PURE__*/function (_LineController) {\n  _inherits(ScatterController, _LineController);\n\n  var _super8 = _createSuper(ScatterController);\n\n  function ScatterController() {\n    _classCallCheck(this, ScatterController);\n\n    return _super8.apply(this, arguments);\n  }\n\n  return ScatterController;\n}(LineController);\n\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title: function title() {\n          return '';\n        },\n        label: function label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\nvar controllers = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  BarController: BarController,\n  BubbleController: BubbleController,\n  DoughnutController: DoughnutController,\n  LineController: LineController,\n  PolarAreaController: PolarAreaController,\n  PieController: PieController,\n  RadarController: RadarController,\n  ScatterController: ScatterController\n});\n\nfunction _abstract() {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\n\nvar DateAdapter = /*#__PURE__*/function () {\n  function DateAdapter(options) {\n    _classCallCheck(this, DateAdapter);\n\n    this.options = options || {};\n  }\n\n  _createClass(DateAdapter, [{\n    key: \"formats\",\n    value: function formats() {\n      return _abstract();\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(value, format) {\n      return _abstract();\n    }\n  }, {\n    key: \"format\",\n    value: function format(timestamp, _format) {\n      return _abstract();\n    }\n  }, {\n    key: \"add\",\n    value: function add(timestamp, amount, unit) {\n      return _abstract();\n    }\n  }, {\n    key: \"diff\",\n    value: function diff(a, b, unit) {\n      return _abstract();\n    }\n  }, {\n    key: \"startOf\",\n    value: function startOf(timestamp, unit, weekday) {\n      return _abstract();\n    }\n  }, {\n    key: \"endOf\",\n    value: function endOf(timestamp, unit) {\n      return _abstract();\n    }\n  }]);\n\n  return DateAdapter;\n}();\n\nDateAdapter.override = function (members) {\n  Object.assign(DateAdapter.prototype, members);\n};\n\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction getRelativePosition(e, chart) {\n  if ('native' in e) {\n    return {\n      x: e.x,\n      y: e.y\n    };\n  }\n\n  return getRelativePosition$1(e, chart);\n}\n\nfunction evaluateAllVisibleItems(chart, handler) {\n  var metasets = chart.getSortedVisibleDatasetMetas();\n  var index, data, element;\n\n  for (var i = 0, ilen = metasets.length; i < ilen; ++i) {\n    var _metasets$i = metasets[i];\n    index = _metasets$i.index;\n    data = _metasets$i.data;\n\n    for (var j = 0, jlen = data.length; j < jlen; ++j) {\n      element = data[j];\n\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\nfunction binarySearch(metaset, axis, value, intersect) {\n  var controller = metaset.controller,\n      data = metaset.data,\n      _sorted = metaset._sorted;\n  var iScale = controller._cachedMeta.iScale;\n\n  if (iScale && axis === iScale.axis && _sorted && data.length) {\n    var lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      var el = data[0];\n      var range = typeof el.getRange === 'function' && el.getRange(axis);\n\n      if (range) {\n        var start = lookupMethod(data, axis, value - range);\n        var end = lookupMethod(data, axis, value + range);\n        return {\n          lo: start.lo,\n          hi: end.hi\n        };\n      }\n    }\n  }\n\n  return {\n    lo: 0,\n    hi: data.length - 1\n  };\n}\n\nfunction optimizedEvaluateItems(chart, axis, position, handler, intersect) {\n  var metasets = chart.getSortedVisibleDatasetMetas();\n  var value = position[axis];\n\n  for (var i = 0, ilen = metasets.length; i < ilen; ++i) {\n    var _metasets$i2 = metasets[i],\n        index = _metasets$i2.index,\n        data = _metasets$i2.data;\n\n    var _binarySearch = binarySearch(metasets[i], axis, value, intersect),\n        lo = _binarySearch.lo,\n        hi = _binarySearch.hi;\n\n    for (var j = lo; j <= hi; ++j) {\n      var element = data[j];\n\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\n\nfunction getDistanceMetricForAxis(axis) {\n  var useX = axis.indexOf('x') !== -1;\n  var useY = axis.indexOf('y') !== -1;\n  return function (pt1, pt2) {\n    var deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    var deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\n\nfunction getIntersectItems(chart, position, axis, useFinalPosition) {\n  var items = [];\n\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n\n  var evaluationFunc = function evaluationFunc(element, datasetIndex, index) {\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      });\n    }\n  };\n\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\n\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition) {\n  var distanceMetric = getDistanceMetricForAxis(axis);\n  var minDistance = Number.POSITIVE_INFINITY;\n  var items = [];\n\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n\n  var evaluationFunc = function evaluationFunc(element, datasetIndex, index) {\n    if (intersect && !element.inRange(position.x, position.y, useFinalPosition)) {\n      return;\n    }\n\n    var center = element.getCenterPoint(useFinalPosition);\n\n    if (!_isPointInArea(center, chart.chartArea, chart._minPadding) && !element.inRange(position.x, position.y, useFinalPosition)) {\n      return;\n    }\n\n    var distance = distanceMetric(position, center);\n\n    if (distance < minDistance) {\n      items = [{\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      }];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      });\n    }\n  };\n\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\n\nfunction getAxisItems(chart, e, options, useFinalPosition) {\n  var position = getRelativePosition(e, chart);\n  var items = [];\n  var axis = options.axis;\n  var rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  var intersectsItem = false;\n  evaluateAllVisibleItems(chart, function (element, datasetIndex, index) {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({\n        element: element,\n        datasetIndex: datasetIndex,\n        index: index\n      });\n    }\n\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      intersectsItem = true;\n    }\n  });\n\n  if (options.intersect && !intersectsItem) {\n    return [];\n  }\n\n  return items;\n}\n\nvar Interaction = {\n  modes: {\n    index: function index(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'x';\n      var items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition) : getNearestItems(chart, position, axis, false, useFinalPosition);\n      var elements = [];\n\n      if (!items.length) {\n        return [];\n      }\n\n      chart.getSortedVisibleDatasetMetas().forEach(function (meta) {\n        var index = items[0].index;\n        var element = meta.data[index];\n\n        if (element && !element.skip) {\n          elements.push({\n            element: element,\n            datasetIndex: meta.index,\n            index: index\n          });\n        }\n      });\n      return elements;\n    },\n    dataset: function dataset(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'xy';\n      var items = options.intersect ? getIntersectItems(chart, position, axis, useFinalPosition) : getNearestItems(chart, position, axis, false, useFinalPosition);\n\n      if (items.length > 0) {\n        var datasetIndex = items[0].datasetIndex;\n        var data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n\n        for (var i = 0; i < data.length; ++i) {\n          items.push({\n            element: data[i],\n            datasetIndex: datasetIndex,\n            index: i\n          });\n        }\n      }\n\n      return items;\n    },\n    point: function point(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'xy';\n      return getIntersectItems(chart, position, axis, useFinalPosition);\n    },\n    nearest: function nearest(chart, e, options, useFinalPosition) {\n      var position = getRelativePosition(e, chart);\n      var axis = options.axis || 'xy';\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition);\n    },\n    x: function x(chart, e, options, useFinalPosition) {\n      options.axis = 'x';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    },\n    y: function y(chart, e, options, useFinalPosition) {\n      options.axis = 'y';\n      return getAxisItems(chart, e, options, useFinalPosition);\n    }\n  }\n};\nvar STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\n\nfunction filterByPosition(array, position) {\n  return array.filter(function (v) {\n    return v.pos === position;\n  });\n}\n\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(function (v) {\n    return STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis;\n  });\n}\n\nfunction sortByWeight(array, reverse) {\n  return array.sort(function (a, b) {\n    var v0 = reverse ? b : a;\n    var v1 = reverse ? a : b;\n    return v0.weight === v1.weight ? v0.index - v1.index : v0.weight - v1.weight;\n  });\n}\n\nfunction wrapBoxes(boxes) {\n  var layoutBoxes = [];\n  var i, ilen, box, pos, stack, stackWeight;\n\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    var _box = box;\n    pos = _box.position;\n    var _box$options = _box.options;\n    stack = _box$options.stack;\n    var _box$options$stackWei = _box$options.stackWeight;\n    stackWeight = _box$options$stackWei === void 0 ? 1 : _box$options$stackWei;\n    layoutBoxes.push({\n      index: i,\n      box: box,\n      pos: pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && pos + stack,\n      stackWeight: stackWeight\n    });\n  }\n\n  return layoutBoxes;\n}\n\nfunction buildStacks(layouts) {\n  var stacks = {};\n\n  var _iterator5 = _createForOfIteratorHelper(layouts),\n      _step5;\n\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var wrap = _step5.value;\n      var stack = wrap.stack,\n          pos = wrap.pos,\n          stackWeight = wrap.stackWeight;\n\n      if (!stack || !STATIC_POSITIONS.includes(pos)) {\n        continue;\n      }\n\n      var _stack = stacks[stack] || (stacks[stack] = {\n        count: 0,\n        placed: 0,\n        weight: 0,\n        size: 0\n      });\n\n      _stack.count++;\n      _stack.weight += stackWeight;\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n\n  return stacks;\n}\n\nfunction setLayoutDims(layouts, params) {\n  var stacks = buildStacks(layouts);\n  var vBoxMaxWidth = params.vBoxMaxWidth,\n      hBoxMaxHeight = params.hBoxMaxHeight;\n  var i, ilen, layout;\n\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    var fullSize = layout.box.fullSize;\n    var stack = stacks[layout.stack];\n    var factor = stack && layout.stackWeight / stack.weight;\n\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n\n  return stacks;\n}\n\nfunction buildLayoutBoxes(boxes) {\n  var layoutBoxes = wrapBoxes(boxes);\n  var fullSize = sortByWeight(layoutBoxes.filter(function (wrap) {\n    return wrap.box.fullSize;\n  }), true);\n  var left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  var right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  var top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  var bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  var centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  var centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize: fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\n\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\n\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\n\nfunction updateDims(chartArea, params, layout, stacks) {\n  var pos = layout.pos,\n      box = layout.box;\n  var maxPadding = chartArea.maxPadding;\n\n  if (!isObject(pos)) {\n    if (layout.size) {\n      chartArea[pos] -= layout.size;\n    }\n\n    var stack = stacks[layout.stack] || {\n      size: 0,\n      count: 1\n    };\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n\n  var newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  var newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  var widthChanged = newWidth !== chartArea.w;\n  var heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal ? {\n    same: widthChanged,\n    other: heightChanged\n  } : {\n    same: heightChanged,\n    other: widthChanged\n  };\n}\n\nfunction handleMaxPadding(chartArea) {\n  var maxPadding = chartArea.maxPadding;\n\n  function updatePos(pos) {\n    var change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\n\nfunction getMargins(horizontal, chartArea) {\n  var maxPadding = chartArea.maxPadding;\n\n  function marginForPositions(positions) {\n    var margin = {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    };\n    positions.forEach(function (pos) {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n\n  return horizontal ? marginForPositions(['left', 'right']) : marginForPositions(['top', 'bottom']);\n}\n\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  var refitBoxes = [];\n  var i, ilen, layout, box, refit, changed;\n\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(layout.width || chartArea.w, layout.height || chartArea.h, getMargins(layout.horizontal, chartArea));\n\n    var _updateDims = updateDims(chartArea, params, layout, stacks),\n        same = _updateDims.same,\n        other = _updateDims.other;\n\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\n\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\n\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  var userPadding = params.padding;\n  var x = chartArea.x,\n      y = chartArea.y;\n\n  var _iterator6 = _createForOfIteratorHelper(boxes),\n      _step6;\n\n  try {\n    for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n      var layout = _step6.value;\n      var box = layout.box;\n      var stack = stacks[layout.stack] || {\n        count: 1,\n        placed: 0,\n        weight: 1\n      };\n      var weight = layout.stackWeight / stack.weight || 1;\n\n      if (layout.horizontal) {\n        var width = chartArea.w * weight;\n        var height = stack.size || box.height;\n\n        if (defined(stack.start)) {\n          y = stack.start;\n        }\n\n        if (box.fullSize) {\n          setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n        } else {\n          setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n        }\n\n        stack.start = y;\n        stack.placed += width;\n        y = box.bottom;\n      } else {\n        var _height = chartArea.h * weight;\n\n        var _width = stack.size || box.width;\n\n        if (defined(stack.start)) {\n          x = stack.start;\n        }\n\n        if (box.fullSize) {\n          setBoxDims(box, x, userPadding.top, _width, params.outerHeight - userPadding.bottom - userPadding.top);\n        } else {\n          setBoxDims(box, x, chartArea.top + stack.placed, _width, _height);\n        }\n\n        stack.start = x;\n        stack.placed += _height;\n        x = box.right;\n      }\n    }\n  } catch (err) {\n    _iterator6.e(err);\n  } finally {\n    _iterator6.f();\n  }\n\n  chartArea.x = x;\n  chartArea.y = y;\n}\n\ndefaults.set('layout', {\n  autoPadding: true,\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox: function addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n\n    item._layers = item._layers || function () {\n      return [{\n        z: 0,\n        draw: function draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n\n    chart.boxes.push(item);\n  },\n  removeBox: function removeBox(chart, layoutItem) {\n    var index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure: function configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update: function update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n\n    var padding = toPadding(chart.options.layout.padding);\n    var availableWidth = Math.max(width - padding.width, 0);\n    var availableHeight = Math.max(height - padding.height, 0);\n    var boxes = buildLayoutBoxes(chart.boxes);\n    var verticalBoxes = boxes.vertical;\n    var horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, function (box) {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    var visibleVerticalBoxCount = verticalBoxes.reduce(function (total, wrap) {\n      return wrap.box.options && wrap.box.options.display === false ? total : total + 1;\n    }, 0) || 1;\n    var params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding: padding,\n      availableWidth: availableWidth,\n      availableHeight: availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    var maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    var chartArea = Object.assign({\n      maxPadding: maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    var stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w\n    };\n    each(boxes.chartArea, function (layout) {\n      var box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h);\n    });\n  }\n};\n\nvar BasePlatform = /*#__PURE__*/function () {\n  function BasePlatform() {\n    _classCallCheck(this, BasePlatform);\n  }\n\n  _createClass(BasePlatform, [{\n    key: \"acquireContext\",\n    value: function acquireContext(canvas, aspectRatio) {}\n  }, {\n    key: \"releaseContext\",\n    value: function releaseContext(context) {\n      return false;\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(chart, type, listener) {}\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(chart, type, listener) {}\n  }, {\n    key: \"getDevicePixelRatio\",\n    value: function getDevicePixelRatio() {\n      return 1;\n    }\n  }, {\n    key: \"getMaximumSize\",\n    value: function getMaximumSize(element, width, height, aspectRatio) {\n      width = Math.max(0, width || element.width);\n      height = height || element.height;\n      return {\n        width: width,\n        height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n      };\n    }\n  }, {\n    key: \"isAttached\",\n    value: function isAttached(canvas) {\n      return true;\n    }\n  }, {\n    key: \"updateConfig\",\n    value: function updateConfig(config) {}\n  }]);\n\n  return BasePlatform;\n}();\n\nvar BasicPlatform = /*#__PURE__*/function (_BasePlatform) {\n  _inherits(BasicPlatform, _BasePlatform);\n\n  var _super9 = _createSuper(BasicPlatform);\n\n  function BasicPlatform() {\n    _classCallCheck(this, BasicPlatform);\n\n    return _super9.apply(this, arguments);\n  }\n\n  _createClass(BasicPlatform, [{\n    key: \"acquireContext\",\n    value: function acquireContext(item) {\n      return item && item.getContext && item.getContext('2d') || null;\n    }\n  }, {\n    key: \"updateConfig\",\n    value: function updateConfig(config) {\n      config.options.animation = false;\n    }\n  }]);\n\n  return BasicPlatform;\n}(BasePlatform);\n\nvar EXPANDO_KEY = '$chartjs';\nvar EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\n\nvar isNullOrEmpty = function isNullOrEmpty(value) {\n  return value === null || value === '';\n};\n\nfunction initCanvas(canvas, aspectRatio) {\n  var style = canvas.style;\n  var renderHeight = canvas.getAttribute('height');\n  var renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n\n  if (isNullOrEmpty(renderWidth)) {\n    var displayWidth = readUsedSize(canvas, 'width');\n\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      var displayHeight = readUsedSize(canvas, 'height');\n\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n\n  return canvas;\n}\n\nvar eventListenerOptions = supportsEventListenerOptions ? {\n  passive: true\n} : false;\n\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\n\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\n\nfunction fromNativeEvent(event, chart) {\n  var type = EVENT_TYPES[event.type] || event.type;\n\n  var _getRelativePosition$ = getRelativePosition$1(event, chart),\n      x = _getRelativePosition$.x,\n      y = _getRelativePosition$.y;\n\n  return {\n    type: type,\n    chart: chart,\n    \"native\": event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null\n  };\n}\n\nfunction createAttachObserver(chart, type, listener) {\n  var canvas = chart.canvas;\n  var observer = new MutationObserver(function (entries) {\n    var _iterator7 = _createForOfIteratorHelper(entries),\n        _step7;\n\n    try {\n      for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n        var entry = _step7.value;\n\n        var _iterator8 = _createForOfIteratorHelper(entry.addedNodes),\n            _step8;\n\n        try {\n          for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n            var node = _step8.value;\n\n            if (node === canvas || node.contains(canvas)) {\n              return listener();\n            }\n          }\n        } catch (err) {\n          _iterator8.e(err);\n        } finally {\n          _iterator8.f();\n        }\n      }\n    } catch (err) {\n      _iterator7.e(err);\n    } finally {\n      _iterator7.f();\n    }\n  });\n  observer.observe(document, {\n    childList: true,\n    subtree: true\n  });\n  return observer;\n}\n\nfunction createDetachObserver(chart, type, listener) {\n  var canvas = chart.canvas;\n  var observer = new MutationObserver(function (entries) {\n    var _iterator9 = _createForOfIteratorHelper(entries),\n        _step9;\n\n    try {\n      for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n        var entry = _step9.value;\n\n        var _iterator10 = _createForOfIteratorHelper(entry.removedNodes),\n            _step10;\n\n        try {\n          for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n            var node = _step10.value;\n\n            if (node === canvas || node.contains(canvas)) {\n              return listener();\n            }\n          }\n        } catch (err) {\n          _iterator10.e(err);\n        } finally {\n          _iterator10.f();\n        }\n      }\n    } catch (err) {\n      _iterator9.e(err);\n    } finally {\n      _iterator9.f();\n    }\n  });\n  observer.observe(document, {\n    childList: true,\n    subtree: true\n  });\n  return observer;\n}\n\nvar drpListeningCharts = new Map();\nvar oldDevicePixelRatio = 0;\n\nfunction onWindowResize() {\n  var dpr = window.devicePixelRatio;\n\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach(function (resize, chart) {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\n\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n\n  drpListeningCharts.set(chart, resize);\n}\n\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts[\"delete\"](chart);\n\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\n\nfunction createResizeObserver(chart, type, listener) {\n  var canvas = chart.canvas;\n\n  var container = canvas && _getParentNode(canvas);\n\n  if (!container) {\n    return;\n  }\n\n  var resize = throttled(function (width, height) {\n    var w = container.clientWidth;\n    listener(width, height);\n\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  var observer = new ResizeObserver(function (entries) {\n    var entry = entries[0];\n    var width = entry.contentRect.width;\n    var height = entry.contentRect.height;\n\n    if (width === 0 && height === 0) {\n      return;\n    }\n\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\n\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\n\nfunction createProxyAndListen(chart, type, listener) {\n  var canvas = chart.canvas;\n  var proxy = throttled(function (event) {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, function (args) {\n    var event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\n\nvar DomPlatform = /*#__PURE__*/function (_BasePlatform2) {\n  _inherits(DomPlatform, _BasePlatform2);\n\n  var _super10 = _createSuper(DomPlatform);\n\n  function DomPlatform() {\n    _classCallCheck(this, DomPlatform);\n\n    return _super10.apply(this, arguments);\n  }\n\n  _createClass(DomPlatform, [{\n    key: \"acquireContext\",\n    value: function acquireContext(canvas, aspectRatio) {\n      var context = canvas && canvas.getContext && canvas.getContext('2d');\n\n      if (context && context.canvas === canvas) {\n        initCanvas(canvas, aspectRatio);\n        return context;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"releaseContext\",\n    value: function releaseContext(context) {\n      var canvas = context.canvas;\n\n      if (!canvas[EXPANDO_KEY]) {\n        return false;\n      }\n\n      var initial = canvas[EXPANDO_KEY].initial;\n      ['height', 'width'].forEach(function (prop) {\n        var value = initial[prop];\n\n        if (isNullOrUndef(value)) {\n          canvas.removeAttribute(prop);\n        } else {\n          canvas.setAttribute(prop, value);\n        }\n      });\n      var style = initial.style || {};\n      Object.keys(style).forEach(function (key) {\n        canvas.style[key] = style[key];\n      });\n      canvas.width = canvas.width;\n      delete canvas[EXPANDO_KEY];\n      return true;\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(chart, type, listener) {\n      this.removeEventListener(chart, type);\n      var proxies = chart.$proxies || (chart.$proxies = {});\n      var handlers = {\n        attach: createAttachObserver,\n        detach: createDetachObserver,\n        resize: createResizeObserver\n      };\n      var handler = handlers[type] || createProxyAndListen;\n      proxies[type] = handler(chart, type, listener);\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(chart, type) {\n      var proxies = chart.$proxies || (chart.$proxies = {});\n      var proxy = proxies[type];\n\n      if (!proxy) {\n        return;\n      }\n\n      var handlers = {\n        attach: releaseObserver,\n        detach: releaseObserver,\n        resize: releaseObserver\n      };\n      var handler = handlers[type] || removeListener;\n      handler(chart, type, proxy);\n      proxies[type] = undefined;\n    }\n  }, {\n    key: \"getDevicePixelRatio\",\n    value: function getDevicePixelRatio() {\n      return window.devicePixelRatio;\n    }\n  }, {\n    key: \"getMaximumSize\",\n    value: function getMaximumSize(canvas, width, height, aspectRatio) {\n      return _getMaximumSize(canvas, width, height, aspectRatio);\n    }\n  }, {\n    key: \"isAttached\",\n    value: function isAttached(canvas) {\n      var container = _getParentNode(canvas);\n\n      return !!(container && container.isConnected);\n    }\n  }]);\n\n  return DomPlatform;\n}(BasePlatform);\n\nfunction _detectPlatform(canvas) {\n  if (!_isDomSupported() || typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n    return BasicPlatform;\n  }\n\n  return DomPlatform;\n}\n\nvar Element = /*#__PURE__*/function () {\n  function Element() {\n    _classCallCheck(this, Element);\n\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n\n  _createClass(Element, [{\n    key: \"tooltipPosition\",\n    value: function tooltipPosition(useFinalPosition) {\n      var _this$getProps = this.getProps(['x', 'y'], useFinalPosition),\n          x = _this$getProps.x,\n          y = _this$getProps.y;\n\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"hasValue\",\n    value: function hasValue() {\n      return isNumber(this.x) && isNumber(this.y);\n    }\n  }, {\n    key: \"getProps\",\n    value: function getProps(props, _final) {\n      var _this7 = this;\n\n      var anims = this.$animations;\n\n      if (!_final || !anims) {\n        return this;\n      }\n\n      var ret = {};\n      props.forEach(function (prop) {\n        ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : _this7[prop];\n      });\n      return ret;\n    }\n  }]);\n\n  return Element;\n}();\n\nElement.defaults = {};\nElement.defaultRoutes = undefined;\nvar formatters = {\n  values: function values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric: function numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n\n    var locale = this.chart.options.locale;\n    var notation;\n    var delta = tickValue;\n\n    if (ticks.length > 1) {\n      var maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n\n      delta = calculateDelta(tickValue, ticks);\n    }\n\n    var logDelta = log10(Math.abs(delta));\n    var numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    var options = {\n      notation: notation,\n      minimumFractionDigits: numDecimal,\n      maximumFractionDigits: numDecimal\n    };\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic: function logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n\n    var remain = tickValue / Math.pow(10, Math.floor(log10(tickValue)));\n\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n\n    return '';\n  }\n};\n\nfunction calculateDelta(tickValue, ticks) {\n  var delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n\n  return delta;\n}\n\nvar Ticks = {\n  formatters: formatters\n};\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: function tickWidth(_ctx, options) {\n      return options.lineWidth;\n    },\n    tickColor: function tickColor(_ctx, options) {\n      return options.color;\n    },\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: function _scriptable(name) {\n    return !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser';\n  },\n  _indexable: function _indexable(name) {\n    return name !== 'borderDash' && name !== 'tickBorderDash';\n  }\n});\ndefaults.describe('scales', {\n  _fallback: 'scale'\n});\ndefaults.describe('scale.ticks', {\n  _scriptable: function _scriptable(name) {\n    return name !== 'backdropPadding' && name !== 'callback';\n  },\n  _indexable: function _indexable(name) {\n    return name !== 'backdropPadding';\n  }\n});\n\nfunction autoSkip(scale, ticks) {\n  var tickOpts = scale.options.ticks;\n  var ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  var majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  var numMajorIndices = majorIndices.length;\n  var first = majorIndices[0];\n  var last = majorIndices[numMajorIndices - 1];\n  var newTicks = [];\n\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n\n  var spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n\n  if (numMajorIndices > 0) {\n    var i, ilen;\n    var avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\n\nfunction determineMaxTicks(scale) {\n  var offset = scale.options.offset;\n\n  var tickLength = scale._tickSize();\n\n  var maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  var maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\n\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  var evenMajorSpacing = getEvenSpacing(majorIndices);\n  var spacing = ticks.length / ticksLimit;\n\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n\n  var factors = _factorize(evenMajorSpacing);\n\n  for (var i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    var factor = factors[i];\n\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n\n  return Math.max(spacing, 1);\n}\n\nfunction getMajorIndices(ticks) {\n  var result = [];\n  var i, ilen;\n\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n\n  return result;\n}\n\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  var count = 0;\n  var next = majorIndices[0];\n  var i;\n  spacing = Math.ceil(spacing);\n\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\n\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  var start = valueOrDefault(majorStart, 0);\n  var end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  var count = 0;\n  var length, i, next;\n  spacing = Math.ceil(spacing);\n\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n\n  next = start;\n\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\n\nfunction getEvenSpacing(arr) {\n  var len = arr.length;\n  var i, diff;\n\n  if (len < 2) {\n    return false;\n  }\n\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n\n  return diff;\n}\n\nvar reverseAlign = function reverseAlign(align) {\n  return align === 'left' ? 'right' : align === 'right' ? 'left' : align;\n};\n\nvar offsetFromEdge = function offsetFromEdge(scale, edge, offset) {\n  return edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\n};\n\nfunction sample(arr, numItems) {\n  var result = [];\n  var increment = arr.length / numItems;\n  var len = arr.length;\n  var i = 0;\n\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n\n  return result;\n}\n\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  var length = scale.ticks.length;\n  var validIndex = Math.min(index, length - 1);\n  var start = scale._startPixel;\n  var end = scale._endPixel;\n  var epsilon = 1e-6;\n  var lineValue = scale.getPixelForTick(validIndex);\n  var offset;\n\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n\n    lineValue += validIndex < index ? offset : -offset;\n\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n\n  return lineValue;\n}\n\nfunction garbageCollect(caches, length) {\n  each(caches, function (cache) {\n    var gc = cache.gc;\n    var gcLen = gc.length / 2;\n    var i;\n\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n\n      gc.splice(0, gcLen);\n    }\n  });\n}\n\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\n\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n\n  var font = toFont(options.font, fallback);\n  var padding = toPadding(options.padding);\n  var lines = isArray(options.text) ? options.text.length : 1;\n  return lines * font.lineHeight + padding.height;\n}\n\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale: scale,\n    type: 'scale'\n  });\n}\n\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick: tick,\n    index: index,\n    type: 'tick'\n  });\n}\n\nfunction titleAlign(align, position, reverse) {\n  var ret = _toLeftRightCenter(align);\n\n  if (reverse && position !== 'right' || !reverse && position === 'right') {\n    ret = reverseAlign(ret);\n  }\n\n  return ret;\n}\n\nfunction titleArgs(scale, offset, position, align) {\n  var top = scale.top,\n      left = scale.left,\n      bottom = scale.bottom,\n      right = scale.right,\n      chart = scale.chart;\n  var chartArea = chart.chartArea,\n      scales = chart.scales;\n  var rotation = 0;\n  var maxWidth, titleX, titleY;\n  var height = bottom - top;\n  var width = right - left;\n\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n\n    if (isObject(position)) {\n      var positionAxisID = Object.keys(position)[0];\n      var value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      var _positionAxisID = Object.keys(position)[0];\n      var _value = position[_positionAxisID];\n      titleX = scales[_positionAxisID].getPixelForValue(_value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n\n  return {\n    titleX: titleX,\n    titleY: titleY,\n    maxWidth: maxWidth,\n    rotation: rotation\n  };\n}\n\nvar Scale = /*#__PURE__*/function (_Element) {\n  _inherits(Scale, _Element);\n\n  var _super11 = _createSuper(Scale);\n\n  function Scale(cfg) {\n    var _this8;\n\n    _classCallCheck(this, Scale);\n\n    _this8 = _super11.call(this);\n    _this8.id = cfg.id;\n    _this8.type = cfg.type;\n    _this8.options = undefined;\n    _this8.ctx = cfg.ctx;\n    _this8.chart = cfg.chart;\n    _this8.top = undefined;\n    _this8.bottom = undefined;\n    _this8.left = undefined;\n    _this8.right = undefined;\n    _this8.width = undefined;\n    _this8.height = undefined;\n    _this8._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    _this8.maxWidth = undefined;\n    _this8.maxHeight = undefined;\n    _this8.paddingTop = undefined;\n    _this8.paddingBottom = undefined;\n    _this8.paddingLeft = undefined;\n    _this8.paddingRight = undefined;\n    _this8.axis = undefined;\n    _this8.labelRotation = undefined;\n    _this8.min = undefined;\n    _this8.max = undefined;\n    _this8._range = undefined;\n    _this8.ticks = [];\n    _this8._gridLineItems = null;\n    _this8._labelItems = null;\n    _this8._labelSizes = null;\n    _this8._length = 0;\n    _this8._maxLength = 0;\n    _this8._longestTextCache = {};\n    _this8._startPixel = undefined;\n    _this8._endPixel = undefined;\n    _this8._reversePixels = false;\n    _this8._userMax = undefined;\n    _this8._userMin = undefined;\n    _this8._suggestedMax = undefined;\n    _this8._suggestedMin = undefined;\n    _this8._ticksLength = 0;\n    _this8._borderValue = 0;\n    _this8._cache = {};\n    _this8._dataLimitsCached = false;\n    _this8.$context = undefined;\n    return _this8;\n  }\n\n  _createClass(Scale, [{\n    key: \"init\",\n    value: function init(options) {\n      this.options = options.setContext(this.getContext());\n      this.axis = options.axis;\n      this._userMin = this.parse(options.min);\n      this._userMax = this.parse(options.max);\n      this._suggestedMin = this.parse(options.suggestedMin);\n      this._suggestedMax = this.parse(options.suggestedMax);\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(raw, index) {\n      return raw;\n    }\n  }, {\n    key: \"getUserBounds\",\n    value: function getUserBounds() {\n      var _userMin = this._userMin,\n          _userMax = this._userMax,\n          _suggestedMin = this._suggestedMin,\n          _suggestedMax = this._suggestedMax;\n      _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n      _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n      _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n      _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n      return {\n        min: finiteOrDefault(_userMin, _suggestedMin),\n        max: finiteOrDefault(_userMax, _suggestedMax),\n        minDefined: isNumberFinite(_userMin),\n        maxDefined: isNumberFinite(_userMax)\n      };\n    }\n  }, {\n    key: \"getMinMax\",\n    value: function getMinMax(canStack) {\n      var _this$getUserBounds = this.getUserBounds(),\n          min = _this$getUserBounds.min,\n          max = _this$getUserBounds.max,\n          minDefined = _this$getUserBounds.minDefined,\n          maxDefined = _this$getUserBounds.maxDefined;\n\n      var range;\n\n      if (minDefined && maxDefined) {\n        return {\n          min: min,\n          max: max\n        };\n      }\n\n      var metas = this.getMatchingVisibleMetas();\n\n      for (var i = 0, ilen = metas.length; i < ilen; ++i) {\n        range = metas[i].controller.getMinMax(this, canStack);\n\n        if (!minDefined) {\n          min = Math.min(min, range.min);\n        }\n\n        if (!maxDefined) {\n          max = Math.max(max, range.max);\n        }\n      }\n\n      min = maxDefined && min > max ? max : min;\n      max = minDefined && min > max ? min : max;\n      return {\n        min: finiteOrDefault(min, finiteOrDefault(max, min)),\n        max: finiteOrDefault(max, finiteOrDefault(min, max))\n      };\n    }\n  }, {\n    key: \"getPadding\",\n    value: function getPadding() {\n      return {\n        left: this.paddingLeft || 0,\n        top: this.paddingTop || 0,\n        right: this.paddingRight || 0,\n        bottom: this.paddingBottom || 0\n      };\n    }\n  }, {\n    key: \"getTicks\",\n    value: function getTicks() {\n      return this.ticks;\n    }\n  }, {\n    key: \"getLabels\",\n    value: function getLabels() {\n      var data = this.chart.data;\n      return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n    }\n  }, {\n    key: \"beforeLayout\",\n    value: function beforeLayout() {\n      this._cache = {};\n      this._dataLimitsCached = false;\n    }\n  }, {\n    key: \"beforeUpdate\",\n    value: function beforeUpdate() {\n      callback(this.options.beforeUpdate, [this]);\n    }\n  }, {\n    key: \"update\",\n    value: function update(maxWidth, maxHeight, margins) {\n      var _this$options3 = this.options,\n          beginAtZero = _this$options3.beginAtZero,\n          grace = _this$options3.grace,\n          tickOpts = _this$options3.ticks;\n      var sampleSize = tickOpts.sampleSize;\n      this.beforeUpdate();\n      this.maxWidth = maxWidth;\n      this.maxHeight = maxHeight;\n      this._margins = margins = Object.assign({\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0\n      }, margins);\n      this.ticks = null;\n      this._labelSizes = null;\n      this._gridLineItems = null;\n      this._labelItems = null;\n      this.beforeSetDimensions();\n      this.setDimensions();\n      this.afterSetDimensions();\n      this._maxLength = this.isHorizontal() ? this.width + margins.left + margins.right : this.height + margins.top + margins.bottom;\n\n      if (!this._dataLimitsCached) {\n        this.beforeDataLimits();\n        this.determineDataLimits();\n        this.afterDataLimits();\n        this._range = _addGrace(this, grace, beginAtZero);\n        this._dataLimitsCached = true;\n      }\n\n      this.beforeBuildTicks();\n      this.ticks = this.buildTicks() || [];\n      this.afterBuildTicks();\n      var samplingEnabled = sampleSize < this.ticks.length;\n\n      this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n\n      this.configure();\n      this.beforeCalculateLabelRotation();\n      this.calculateLabelRotation();\n      this.afterCalculateLabelRotation();\n\n      if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n        this.ticks = autoSkip(this, this.ticks);\n        this._labelSizes = null;\n      }\n\n      if (samplingEnabled) {\n        this._convertTicksToLabels(this.ticks);\n      }\n\n      this.beforeFit();\n      this.fit();\n      this.afterFit();\n      this.afterUpdate();\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var reversePixels = this.options.reverse;\n      var startPixel, endPixel;\n\n      if (this.isHorizontal()) {\n        startPixel = this.left;\n        endPixel = this.right;\n      } else {\n        startPixel = this.top;\n        endPixel = this.bottom;\n        reversePixels = !reversePixels;\n      }\n\n      this._startPixel = startPixel;\n      this._endPixel = endPixel;\n      this._reversePixels = reversePixels;\n      this._length = endPixel - startPixel;\n      this._alignToPixels = this.options.alignToPixels;\n    }\n  }, {\n    key: \"afterUpdate\",\n    value: function afterUpdate() {\n      callback(this.options.afterUpdate, [this]);\n    }\n  }, {\n    key: \"beforeSetDimensions\",\n    value: function beforeSetDimensions() {\n      callback(this.options.beforeSetDimensions, [this]);\n    }\n  }, {\n    key: \"setDimensions\",\n    value: function setDimensions() {\n      if (this.isHorizontal()) {\n        this.width = this.maxWidth;\n        this.left = 0;\n        this.right = this.width;\n      } else {\n        this.height = this.maxHeight;\n        this.top = 0;\n        this.bottom = this.height;\n      }\n\n      this.paddingLeft = 0;\n      this.paddingTop = 0;\n      this.paddingRight = 0;\n      this.paddingBottom = 0;\n    }\n  }, {\n    key: \"afterSetDimensions\",\n    value: function afterSetDimensions() {\n      callback(this.options.afterSetDimensions, [this]);\n    }\n  }, {\n    key: \"_callHooks\",\n    value: function _callHooks(name) {\n      this.chart.notifyPlugins(name, this.getContext());\n      callback(this.options[name], [this]);\n    }\n  }, {\n    key: \"beforeDataLimits\",\n    value: function beforeDataLimits() {\n      this._callHooks('beforeDataLimits');\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {}\n  }, {\n    key: \"afterDataLimits\",\n    value: function afterDataLimits() {\n      this._callHooks('afterDataLimits');\n    }\n  }, {\n    key: \"beforeBuildTicks\",\n    value: function beforeBuildTicks() {\n      this._callHooks('beforeBuildTicks');\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      return [];\n    }\n  }, {\n    key: \"afterBuildTicks\",\n    value: function afterBuildTicks() {\n      this._callHooks('afterBuildTicks');\n    }\n  }, {\n    key: \"beforeTickToLabelConversion\",\n    value: function beforeTickToLabelConversion() {\n      callback(this.options.beforeTickToLabelConversion, [this]);\n    }\n  }, {\n    key: \"generateTickLabels\",\n    value: function generateTickLabels(ticks) {\n      var tickOpts = this.options.ticks;\n      var i, ilen, tick;\n\n      for (i = 0, ilen = ticks.length; i < ilen; i++) {\n        tick = ticks[i];\n        tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this);\n      }\n    }\n  }, {\n    key: \"afterTickToLabelConversion\",\n    value: function afterTickToLabelConversion() {\n      callback(this.options.afterTickToLabelConversion, [this]);\n    }\n  }, {\n    key: \"beforeCalculateLabelRotation\",\n    value: function beforeCalculateLabelRotation() {\n      callback(this.options.beforeCalculateLabelRotation, [this]);\n    }\n  }, {\n    key: \"calculateLabelRotation\",\n    value: function calculateLabelRotation() {\n      var options = this.options;\n      var tickOpts = options.ticks;\n      var numTicks = this.ticks.length;\n      var minRotation = tickOpts.minRotation || 0;\n      var maxRotation = tickOpts.maxRotation;\n      var labelRotation = minRotation;\n      var tickWidth, maxHeight, maxLabelDiagonal;\n\n      if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n        this.labelRotation = minRotation;\n        return;\n      }\n\n      var labelSizes = this._getLabelSizes();\n\n      var maxLabelWidth = labelSizes.widest.width;\n      var maxLabelHeight = labelSizes.highest.height;\n\n      var maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n\n      tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n\n      if (maxLabelWidth + 6 > tickWidth) {\n        tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n        maxHeight = this.maxHeight - getTickMarkLength(options.grid) - tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n        maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n        labelRotation = toDegrees(Math.min(Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)), Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))));\n        labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n      }\n\n      this.labelRotation = labelRotation;\n    }\n  }, {\n    key: \"afterCalculateLabelRotation\",\n    value: function afterCalculateLabelRotation() {\n      callback(this.options.afterCalculateLabelRotation, [this]);\n    }\n  }, {\n    key: \"beforeFit\",\n    value: function beforeFit() {\n      callback(this.options.beforeFit, [this]);\n    }\n  }, {\n    key: \"fit\",\n    value: function fit() {\n      var minSize = {\n        width: 0,\n        height: 0\n      };\n      var chart = this.chart,\n          _this$options4 = this.options,\n          tickOpts = _this$options4.ticks,\n          titleOpts = _this$options4.title,\n          gridOpts = _this$options4.grid;\n\n      var display = this._isVisible();\n\n      var isHorizontal = this.isHorizontal();\n\n      if (display) {\n        var titleHeight = getTitleHeight(titleOpts, chart.options.font);\n\n        if (isHorizontal) {\n          minSize.width = this.maxWidth;\n          minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n        } else {\n          minSize.height = this.maxHeight;\n          minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n        }\n\n        if (tickOpts.display && this.ticks.length) {\n          var _this$_getLabelSizes = this._getLabelSizes(),\n              first = _this$_getLabelSizes.first,\n              last = _this$_getLabelSizes.last,\n              widest = _this$_getLabelSizes.widest,\n              highest = _this$_getLabelSizes.highest;\n\n          var tickPadding = tickOpts.padding * 2;\n          var angleRadians = toRadians(this.labelRotation);\n          var cos = Math.cos(angleRadians);\n          var sin = Math.sin(angleRadians);\n\n          if (isHorizontal) {\n            var labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n            minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n          } else {\n            var labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n            minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n          }\n\n          this._calculatePadding(first, last, sin, cos);\n        }\n      }\n\n      this._handleMargins();\n\n      if (isHorizontal) {\n        this.width = this._length = chart.width - this._margins.left - this._margins.right;\n        this.height = minSize.height;\n      } else {\n        this.width = minSize.width;\n        this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n      }\n    }\n  }, {\n    key: \"_calculatePadding\",\n    value: function _calculatePadding(first, last, sin, cos) {\n      var _this$options5 = this.options,\n          _this$options5$ticks = _this$options5.ticks,\n          align = _this$options5$ticks.align,\n          padding = _this$options5$ticks.padding,\n          position = _this$options5.position;\n      var isRotated = this.labelRotation !== 0;\n      var labelsBelowTicks = position !== 'top' && this.axis === 'x';\n\n      if (this.isHorizontal()) {\n        var offsetLeft = this.getPixelForTick(0) - this.left;\n        var offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n        var paddingLeft = 0;\n        var paddingRight = 0;\n\n        if (isRotated) {\n          if (labelsBelowTicks) {\n            paddingLeft = cos * first.width;\n            paddingRight = sin * last.height;\n          } else {\n            paddingLeft = sin * first.height;\n            paddingRight = cos * last.width;\n          }\n        } else if (align === 'start') {\n          paddingRight = last.width;\n        } else if (align === 'end') {\n          paddingLeft = first.width;\n        } else {\n          paddingLeft = first.width / 2;\n          paddingRight = last.width / 2;\n        }\n\n        this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n        this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n      } else {\n        var paddingTop = last.height / 2;\n        var paddingBottom = first.height / 2;\n\n        if (align === 'start') {\n          paddingTop = 0;\n          paddingBottom = first.height;\n        } else if (align === 'end') {\n          paddingTop = last.height;\n          paddingBottom = 0;\n        }\n\n        this.paddingTop = paddingTop + padding;\n        this.paddingBottom = paddingBottom + padding;\n      }\n    }\n  }, {\n    key: \"_handleMargins\",\n    value: function _handleMargins() {\n      if (this._margins) {\n        this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n        this._margins.top = Math.max(this.paddingTop, this._margins.top);\n        this._margins.right = Math.max(this.paddingRight, this._margins.right);\n        this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n      }\n    }\n  }, {\n    key: \"afterFit\",\n    value: function afterFit() {\n      callback(this.options.afterFit, [this]);\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      var _this$options6 = this.options,\n          axis = _this$options6.axis,\n          position = _this$options6.position;\n      return position === 'top' || position === 'bottom' || axis === 'x';\n    }\n  }, {\n    key: \"isFullSize\",\n    value: function isFullSize() {\n      return this.options.fullSize;\n    }\n  }, {\n    key: \"_convertTicksToLabels\",\n    value: function _convertTicksToLabels(ticks) {\n      this.beforeTickToLabelConversion();\n      this.generateTickLabels(ticks);\n      var i, ilen;\n\n      for (i = 0, ilen = ticks.length; i < ilen; i++) {\n        if (isNullOrUndef(ticks[i].label)) {\n          ticks.splice(i, 1);\n          ilen--;\n          i--;\n        }\n      }\n\n      this.afterTickToLabelConversion();\n    }\n  }, {\n    key: \"_getLabelSizes\",\n    value: function _getLabelSizes() {\n      var labelSizes = this._labelSizes;\n\n      if (!labelSizes) {\n        var sampleSize = this.options.ticks.sampleSize;\n        var ticks = this.ticks;\n\n        if (sampleSize < ticks.length) {\n          ticks = sample(ticks, sampleSize);\n        }\n\n        this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);\n      }\n\n      return labelSizes;\n    }\n  }, {\n    key: \"_computeLabelSizes\",\n    value: function _computeLabelSizes(ticks, length) {\n      var ctx = this.ctx,\n          caches = this._longestTextCache;\n      var widths = [];\n      var heights = [];\n      var widestLabelSize = 0;\n      var highestLabelSize = 0;\n      var i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n\n      for (i = 0; i < length; ++i) {\n        label = ticks[i].label;\n        tickFont = this._resolveTickFontOptions(i);\n        ctx.font = fontString = tickFont.string;\n        cache = caches[fontString] = caches[fontString] || {\n          data: {},\n          gc: []\n        };\n        lineHeight = tickFont.lineHeight;\n        width = height = 0;\n\n        if (!isNullOrUndef(label) && !isArray(label)) {\n          width = _measureText(ctx, cache.data, cache.gc, width, label);\n          height = lineHeight;\n        } else if (isArray(label)) {\n          for (j = 0, jlen = label.length; j < jlen; ++j) {\n            nestedLabel = label[j];\n\n            if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n              width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n              height += lineHeight;\n            }\n          }\n        }\n\n        widths.push(width);\n        heights.push(height);\n        widestLabelSize = Math.max(width, widestLabelSize);\n        highestLabelSize = Math.max(height, highestLabelSize);\n      }\n\n      garbageCollect(caches, length);\n      var widest = widths.indexOf(widestLabelSize);\n      var highest = heights.indexOf(highestLabelSize);\n\n      var valueAt = function valueAt(idx) {\n        return {\n          width: widths[idx] || 0,\n          height: heights[idx] || 0\n        };\n      };\n\n      return {\n        first: valueAt(0),\n        last: valueAt(length - 1),\n        widest: valueAt(widest),\n        highest: valueAt(highest),\n        widths: widths,\n        heights: heights\n      };\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      return value;\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value, index) {\n      return NaN;\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {}\n  }, {\n    key: \"getPixelForTick\",\n    value: function getPixelForTick(index) {\n      var ticks = this.ticks;\n\n      if (index < 0 || index > ticks.length - 1) {\n        return null;\n      }\n\n      return this.getPixelForValue(ticks[index].value);\n    }\n  }, {\n    key: \"getPixelForDecimal\",\n    value: function getPixelForDecimal(decimal) {\n      if (this._reversePixels) {\n        decimal = 1 - decimal;\n      }\n\n      var pixel = this._startPixel + decimal * this._length;\n      return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n    }\n  }, {\n    key: \"getDecimalForPixel\",\n    value: function getDecimalForPixel(pixel) {\n      var decimal = (pixel - this._startPixel) / this._length;\n      return this._reversePixels ? 1 - decimal : decimal;\n    }\n  }, {\n    key: \"getBasePixel\",\n    value: function getBasePixel() {\n      return this.getPixelForValue(this.getBaseValue());\n    }\n  }, {\n    key: \"getBaseValue\",\n    value: function getBaseValue() {\n      var min = this.min,\n          max = this.max;\n      return min < 0 && max < 0 ? max : min > 0 && max > 0 ? min : 0;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext(index) {\n      var ticks = this.ticks || [];\n\n      if (index >= 0 && index < ticks.length) {\n        var tick = ticks[index];\n        return tick.$context || (tick.$context = createTickContext(this.getContext(), index, tick));\n      }\n\n      return this.$context || (this.$context = createScaleContext(this.chart.getContext(), this));\n    }\n  }, {\n    key: \"_tickSize\",\n    value: function _tickSize() {\n      var optionTicks = this.options.ticks;\n      var rot = toRadians(this.labelRotation);\n      var cos = Math.abs(Math.cos(rot));\n      var sin = Math.abs(Math.sin(rot));\n\n      var labelSizes = this._getLabelSizes();\n\n      var padding = optionTicks.autoSkipPadding || 0;\n      var w = labelSizes ? labelSizes.widest.width + padding : 0;\n      var h = labelSizes ? labelSizes.highest.height + padding : 0;\n      return this.isHorizontal() ? h * cos > w * sin ? w / cos : h / sin : h * sin < w * cos ? h / cos : w / sin;\n    }\n  }, {\n    key: \"_isVisible\",\n    value: function _isVisible() {\n      var display = this.options.display;\n\n      if (display !== 'auto') {\n        return !!display;\n      }\n\n      return this.getMatchingVisibleMetas().length > 0;\n    }\n  }, {\n    key: \"_computeGridLineItems\",\n    value: function _computeGridLineItems(chartArea) {\n      var axis = this.axis;\n      var chart = this.chart;\n      var options = this.options;\n      var grid = options.grid,\n          position = options.position;\n      var offset = grid.offset;\n      var isHorizontal = this.isHorizontal();\n      var ticks = this.ticks;\n      var ticksLength = ticks.length + (offset ? 1 : 0);\n      var tl = getTickMarkLength(grid);\n      var items = [];\n      var borderOpts = grid.setContext(this.getContext());\n      var axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n      var axisHalfWidth = axisWidth / 2;\n\n      var alignBorderValue = function alignBorderValue(pixel) {\n        return _alignPixel(chart, pixel, axisWidth);\n      };\n\n      var borderValue, i, lineValue, alignedLineValue;\n      var tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n\n      if (position === 'top') {\n        borderValue = alignBorderValue(this.bottom);\n        ty1 = this.bottom - tl;\n        ty2 = borderValue - axisHalfWidth;\n        y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n        y2 = chartArea.bottom;\n      } else if (position === 'bottom') {\n        borderValue = alignBorderValue(this.top);\n        y1 = chartArea.top;\n        y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n        ty1 = borderValue + axisHalfWidth;\n        ty2 = this.top + tl;\n      } else if (position === 'left') {\n        borderValue = alignBorderValue(this.right);\n        tx1 = this.right - tl;\n        tx2 = borderValue - axisHalfWidth;\n        x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n        x2 = chartArea.right;\n      } else if (position === 'right') {\n        borderValue = alignBorderValue(this.left);\n        x1 = chartArea.left;\n        x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n        tx1 = borderValue + axisHalfWidth;\n        tx2 = this.left + tl;\n      } else if (axis === 'x') {\n        if (position === 'center') {\n          borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n        } else if (isObject(position)) {\n          var positionAxisID = Object.keys(position)[0];\n          var value = position[positionAxisID];\n          borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n        }\n\n        y1 = chartArea.top;\n        y2 = chartArea.bottom;\n        ty1 = borderValue + axisHalfWidth;\n        ty2 = ty1 + tl;\n      } else if (axis === 'y') {\n        if (position === 'center') {\n          borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n        } else if (isObject(position)) {\n          var _positionAxisID2 = Object.keys(position)[0];\n          var _value2 = position[_positionAxisID2];\n          borderValue = alignBorderValue(this.chart.scales[_positionAxisID2].getPixelForValue(_value2));\n        }\n\n        tx1 = borderValue - axisHalfWidth;\n        tx2 = tx1 - tl;\n        x1 = chartArea.left;\n        x2 = chartArea.right;\n      }\n\n      var limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n      var step = Math.max(1, Math.ceil(ticksLength / limit));\n\n      for (i = 0; i < ticksLength; i += step) {\n        var optsAtIndex = grid.setContext(this.getContext(i));\n        var lineWidth = optsAtIndex.lineWidth;\n        var lineColor = optsAtIndex.color;\n        var borderDash = grid.borderDash || [];\n        var borderDashOffset = optsAtIndex.borderDashOffset;\n        var tickWidth = optsAtIndex.tickWidth;\n        var tickColor = optsAtIndex.tickColor;\n        var tickBorderDash = optsAtIndex.tickBorderDash || [];\n        var tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n        lineValue = getPixelForGridLine(this, i, offset);\n\n        if (lineValue === undefined) {\n          continue;\n        }\n\n        alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n\n        if (isHorizontal) {\n          tx1 = tx2 = x1 = x2 = alignedLineValue;\n        } else {\n          ty1 = ty2 = y1 = y2 = alignedLineValue;\n        }\n\n        items.push({\n          tx1: tx1,\n          ty1: ty1,\n          tx2: tx2,\n          ty2: ty2,\n          x1: x1,\n          y1: y1,\n          x2: x2,\n          y2: y2,\n          width: lineWidth,\n          color: lineColor,\n          borderDash: borderDash,\n          borderDashOffset: borderDashOffset,\n          tickWidth: tickWidth,\n          tickColor: tickColor,\n          tickBorderDash: tickBorderDash,\n          tickBorderDashOffset: tickBorderDashOffset\n        });\n      }\n\n      this._ticksLength = ticksLength;\n      this._borderValue = borderValue;\n      return items;\n    }\n  }, {\n    key: \"_computeLabelItems\",\n    value: function _computeLabelItems(chartArea) {\n      var axis = this.axis;\n      var options = this.options;\n      var position = options.position,\n          optionTicks = options.ticks;\n      var isHorizontal = this.isHorizontal();\n      var ticks = this.ticks;\n      var align = optionTicks.align,\n          crossAlign = optionTicks.crossAlign,\n          padding = optionTicks.padding,\n          mirror = optionTicks.mirror;\n      var tl = getTickMarkLength(options.grid);\n      var tickAndPadding = tl + padding;\n      var hTickAndPadding = mirror ? -padding : tickAndPadding;\n      var rotation = -toRadians(this.labelRotation);\n      var items = [];\n      var i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n      var textBaseline = 'middle';\n\n      if (position === 'top') {\n        y = this.bottom - hTickAndPadding;\n        textAlign = this._getXAxisLabelAlignment();\n      } else if (position === 'bottom') {\n        y = this.top + hTickAndPadding;\n        textAlign = this._getXAxisLabelAlignment();\n      } else if (position === 'left') {\n        var ret = this._getYAxisLabelAlignment(tl);\n\n        textAlign = ret.textAlign;\n        x = ret.x;\n      } else if (position === 'right') {\n        var _ret = this._getYAxisLabelAlignment(tl);\n\n        textAlign = _ret.textAlign;\n        x = _ret.x;\n      } else if (axis === 'x') {\n        if (position === 'center') {\n          y = (chartArea.top + chartArea.bottom) / 2 + tickAndPadding;\n        } else if (isObject(position)) {\n          var positionAxisID = Object.keys(position)[0];\n          var value = position[positionAxisID];\n          y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n        }\n\n        textAlign = this._getXAxisLabelAlignment();\n      } else if (axis === 'y') {\n        if (position === 'center') {\n          x = (chartArea.left + chartArea.right) / 2 - tickAndPadding;\n        } else if (isObject(position)) {\n          var _positionAxisID3 = Object.keys(position)[0];\n          var _value3 = position[_positionAxisID3];\n          x = this.chart.scales[_positionAxisID3].getPixelForValue(_value3);\n        }\n\n        textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n      }\n\n      if (axis === 'y') {\n        if (align === 'start') {\n          textBaseline = 'top';\n        } else if (align === 'end') {\n          textBaseline = 'bottom';\n        }\n      }\n\n      var labelSizes = this._getLabelSizes();\n\n      for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n        tick = ticks[i];\n        label = tick.label;\n        var optsAtIndex = optionTicks.setContext(this.getContext(i));\n        pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n        font = this._resolveTickFontOptions(i);\n        lineHeight = font.lineHeight;\n        lineCount = isArray(label) ? label.length : 1;\n        var halfCount = lineCount / 2;\n        var color = optsAtIndex.color;\n        var strokeColor = optsAtIndex.textStrokeColor;\n        var strokeWidth = optsAtIndex.textStrokeWidth;\n\n        if (isHorizontal) {\n          x = pixel;\n\n          if (position === 'top') {\n            if (crossAlign === 'near' || rotation !== 0) {\n              textOffset = -lineCount * lineHeight + lineHeight / 2;\n            } else if (crossAlign === 'center') {\n              textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n            } else {\n              textOffset = -labelSizes.highest.height + lineHeight / 2;\n            }\n          } else {\n            if (crossAlign === 'near' || rotation !== 0) {\n              textOffset = lineHeight / 2;\n            } else if (crossAlign === 'center') {\n              textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n            } else {\n              textOffset = labelSizes.highest.height - lineCount * lineHeight;\n            }\n          }\n\n          if (mirror) {\n            textOffset *= -1;\n          }\n        } else {\n          y = pixel;\n          textOffset = (1 - lineCount) * lineHeight / 2;\n        }\n\n        var backdrop = void 0;\n\n        if (optsAtIndex.showLabelBackdrop) {\n          var labelPadding = toPadding(optsAtIndex.backdropPadding);\n          var height = labelSizes.heights[i];\n          var width = labelSizes.widths[i];\n          var top = y + textOffset - labelPadding.top;\n          var left = x - labelPadding.left;\n\n          switch (textBaseline) {\n            case 'middle':\n              top -= height / 2;\n              break;\n\n            case 'bottom':\n              top -= height;\n              break;\n          }\n\n          switch (textAlign) {\n            case 'center':\n              left -= width / 2;\n              break;\n\n            case 'right':\n              left -= width;\n              break;\n          }\n\n          backdrop = {\n            left: left,\n            top: top,\n            width: width + labelPadding.width,\n            height: height + labelPadding.height,\n            color: optsAtIndex.backdropColor\n          };\n        }\n\n        items.push({\n          rotation: rotation,\n          label: label,\n          font: font,\n          color: color,\n          strokeColor: strokeColor,\n          strokeWidth: strokeWidth,\n          textOffset: textOffset,\n          textAlign: textAlign,\n          textBaseline: textBaseline,\n          translation: [x, y],\n          backdrop: backdrop\n        });\n      }\n\n      return items;\n    }\n  }, {\n    key: \"_getXAxisLabelAlignment\",\n    value: function _getXAxisLabelAlignment() {\n      var _this$options7 = this.options,\n          position = _this$options7.position,\n          ticks = _this$options7.ticks;\n      var rotation = -toRadians(this.labelRotation);\n\n      if (rotation) {\n        return position === 'top' ? 'left' : 'right';\n      }\n\n      var align = 'center';\n\n      if (ticks.align === 'start') {\n        align = 'left';\n      } else if (ticks.align === 'end') {\n        align = 'right';\n      }\n\n      return align;\n    }\n  }, {\n    key: \"_getYAxisLabelAlignment\",\n    value: function _getYAxisLabelAlignment(tl) {\n      var _this$options8 = this.options,\n          position = _this$options8.position,\n          _this$options8$ticks = _this$options8.ticks,\n          crossAlign = _this$options8$ticks.crossAlign,\n          mirror = _this$options8$ticks.mirror,\n          padding = _this$options8$ticks.padding;\n\n      var labelSizes = this._getLabelSizes();\n\n      var tickAndPadding = tl + padding;\n      var widest = labelSizes.widest.width;\n      var textAlign;\n      var x;\n\n      if (position === 'left') {\n        if (mirror) {\n          x = this.right + padding;\n\n          if (crossAlign === 'near') {\n            textAlign = 'left';\n          } else if (crossAlign === 'center') {\n            textAlign = 'center';\n            x += widest / 2;\n          } else {\n            textAlign = 'right';\n            x += widest;\n          }\n        } else {\n          x = this.right - tickAndPadding;\n\n          if (crossAlign === 'near') {\n            textAlign = 'right';\n          } else if (crossAlign === 'center') {\n            textAlign = 'center';\n            x -= widest / 2;\n          } else {\n            textAlign = 'left';\n            x = this.left;\n          }\n        }\n      } else if (position === 'right') {\n        if (mirror) {\n          x = this.left + padding;\n\n          if (crossAlign === 'near') {\n            textAlign = 'right';\n          } else if (crossAlign === 'center') {\n            textAlign = 'center';\n            x -= widest / 2;\n          } else {\n            textAlign = 'left';\n            x -= widest;\n          }\n        } else {\n          x = this.left + tickAndPadding;\n\n          if (crossAlign === 'near') {\n            textAlign = 'left';\n          } else if (crossAlign === 'center') {\n            textAlign = 'center';\n            x += widest / 2;\n          } else {\n            textAlign = 'right';\n            x = this.right;\n          }\n        }\n      } else {\n        textAlign = 'right';\n      }\n\n      return {\n        textAlign: textAlign,\n        x: x\n      };\n    }\n  }, {\n    key: \"_computeLabelArea\",\n    value: function _computeLabelArea() {\n      if (this.options.ticks.mirror) {\n        return;\n      }\n\n      var chart = this.chart;\n      var position = this.options.position;\n\n      if (position === 'left' || position === 'right') {\n        return {\n          top: 0,\n          left: this.left,\n          bottom: chart.height,\n          right: this.right\n        };\n      }\n\n      if (position === 'top' || position === 'bottom') {\n        return {\n          top: this.top,\n          left: 0,\n          bottom: this.bottom,\n          right: chart.width\n        };\n      }\n    }\n  }, {\n    key: \"drawBackground\",\n    value: function drawBackground() {\n      var ctx = this.ctx,\n          backgroundColor = this.options.backgroundColor,\n          left = this.left,\n          top = this.top,\n          width = this.width,\n          height = this.height;\n\n      if (backgroundColor) {\n        ctx.save();\n        ctx.fillStyle = backgroundColor;\n        ctx.fillRect(left, top, width, height);\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"getLineWidthForValue\",\n    value: function getLineWidthForValue(value) {\n      var grid = this.options.grid;\n\n      if (!this._isVisible() || !grid.display) {\n        return 0;\n      }\n\n      var ticks = this.ticks;\n      var index = ticks.findIndex(function (t) {\n        return t.value === value;\n      });\n\n      if (index >= 0) {\n        var opts = grid.setContext(this.getContext(index));\n        return opts.lineWidth;\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"drawGrid\",\n    value: function drawGrid(chartArea) {\n      var grid = this.options.grid;\n      var ctx = this.ctx;\n\n      var items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n\n      var i, ilen;\n\n      var drawLine = function drawLine(p1, p2, style) {\n        if (!style.width || !style.color) {\n          return;\n        }\n\n        ctx.save();\n        ctx.lineWidth = style.width;\n        ctx.strokeStyle = style.color;\n        ctx.setLineDash(style.borderDash || []);\n        ctx.lineDashOffset = style.borderDashOffset;\n        ctx.beginPath();\n        ctx.moveTo(p1.x, p1.y);\n        ctx.lineTo(p2.x, p2.y);\n        ctx.stroke();\n        ctx.restore();\n      };\n\n      if (grid.display) {\n        for (i = 0, ilen = items.length; i < ilen; ++i) {\n          var item = items[i];\n\n          if (grid.drawOnChartArea) {\n            drawLine({\n              x: item.x1,\n              y: item.y1\n            }, {\n              x: item.x2,\n              y: item.y2\n            }, item);\n          }\n\n          if (grid.drawTicks) {\n            drawLine({\n              x: item.tx1,\n              y: item.ty1\n            }, {\n              x: item.tx2,\n              y: item.ty2\n            }, {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"drawBorder\",\n    value: function drawBorder() {\n      var chart = this.chart,\n          ctx = this.ctx,\n          grid = this.options.grid;\n      var borderOpts = grid.setContext(this.getContext());\n      var axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n\n      if (!axisWidth) {\n        return;\n      }\n\n      var lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n      var borderValue = this._borderValue;\n      var x1, x2, y1, y2;\n\n      if (this.isHorizontal()) {\n        x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n        x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n        y1 = y2 = borderValue;\n      } else {\n        y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n        y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n        x1 = x2 = borderValue;\n      }\n\n      ctx.save();\n      ctx.lineWidth = borderOpts.borderWidth;\n      ctx.strokeStyle = borderOpts.borderColor;\n      ctx.beginPath();\n      ctx.moveTo(x1, y1);\n      ctx.lineTo(x2, y2);\n      ctx.stroke();\n      ctx.restore();\n    }\n  }, {\n    key: \"drawLabels\",\n    value: function drawLabels(chartArea) {\n      var optionTicks = this.options.ticks;\n\n      if (!optionTicks.display) {\n        return;\n      }\n\n      var ctx = this.ctx;\n\n      var area = this._computeLabelArea();\n\n      if (area) {\n        clipArea(ctx, area);\n      }\n\n      var items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n\n      var i, ilen;\n\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        var item = items[i];\n        var tickFont = item.font;\n        var label = item.label;\n\n        if (item.backdrop) {\n          ctx.fillStyle = item.backdrop.color;\n          ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n        }\n\n        var y = item.textOffset;\n        renderText(ctx, label, 0, y, tickFont, item);\n      }\n\n      if (area) {\n        unclipArea(ctx);\n      }\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle() {\n      var ctx = this.ctx,\n          _this$options9 = this.options,\n          position = _this$options9.position,\n          title = _this$options9.title,\n          reverse = _this$options9.reverse;\n\n      if (!title.display) {\n        return;\n      }\n\n      var font = toFont(title.font);\n      var padding = toPadding(title.padding);\n      var align = title.align;\n      var offset = font.lineHeight / 2;\n\n      if (position === 'bottom' || position === 'center' || isObject(position)) {\n        offset += padding.bottom;\n\n        if (isArray(title.text)) {\n          offset += font.lineHeight * (title.text.length - 1);\n        }\n      } else {\n        offset += padding.top;\n      }\n\n      var _titleArgs = titleArgs(this, offset, position, align),\n          titleX = _titleArgs.titleX,\n          titleY = _titleArgs.titleY,\n          maxWidth = _titleArgs.maxWidth,\n          rotation = _titleArgs.rotation;\n\n      renderText(ctx, title.text, 0, 0, font, {\n        color: title.color,\n        maxWidth: maxWidth,\n        rotation: rotation,\n        textAlign: titleAlign(align, position, reverse),\n        textBaseline: 'middle',\n        translation: [titleX, titleY]\n      });\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(chartArea) {\n      if (!this._isVisible()) {\n        return;\n      }\n\n      this.drawBackground();\n      this.drawGrid(chartArea);\n      this.drawBorder();\n      this.drawTitle();\n      this.drawLabels(chartArea);\n    }\n  }, {\n    key: \"_layers\",\n    value: function _layers() {\n      var _this9 = this;\n\n      var opts = this.options;\n      var tz = opts.ticks && opts.ticks.z || 0;\n      var gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n\n      if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n        return [{\n          z: tz,\n          draw: function draw(chartArea) {\n            _this9.draw(chartArea);\n          }\n        }];\n      }\n\n      return [{\n        z: gz,\n        draw: function draw(chartArea) {\n          _this9.drawBackground();\n\n          _this9.drawGrid(chartArea);\n\n          _this9.drawTitle();\n        }\n      }, {\n        z: gz + 1,\n        draw: function draw() {\n          _this9.drawBorder();\n        }\n      }, {\n        z: tz,\n        draw: function draw(chartArea) {\n          _this9.drawLabels(chartArea);\n        }\n      }];\n    }\n  }, {\n    key: \"getMatchingVisibleMetas\",\n    value: function getMatchingVisibleMetas(type) {\n      var metas = this.chart.getSortedVisibleDatasetMetas();\n      var axisID = this.axis + 'AxisID';\n      var result = [];\n      var i, ilen;\n\n      for (i = 0, ilen = metas.length; i < ilen; ++i) {\n        var meta = metas[i];\n\n        if (meta[axisID] === this.id && (!type || meta.type === type)) {\n          result.push(meta);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_resolveTickFontOptions\",\n    value: function _resolveTickFontOptions(index) {\n      var opts = this.options.ticks.setContext(this.getContext(index));\n      return toFont(opts.font);\n    }\n  }, {\n    key: \"_maxDigits\",\n    value: function _maxDigits() {\n      var fontSize = this._resolveTickFontOptions(0).lineHeight;\n\n      return (this.isHorizontal() ? this.width : this.height) / fontSize;\n    }\n  }]);\n\n  return Scale;\n}(Element);\n\nvar TypedRegistry = /*#__PURE__*/function () {\n  function TypedRegistry(type, scope, override) {\n    _classCallCheck(this, TypedRegistry);\n\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n\n  _createClass(TypedRegistry, [{\n    key: \"isForType\",\n    value: function isForType(type) {\n      return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n    }\n  }, {\n    key: \"register\",\n    value: function register(item) {\n      var proto = Object.getPrototypeOf(item);\n      var parentScope;\n\n      if (isIChartComponent(proto)) {\n        parentScope = this.register(proto);\n      }\n\n      var items = this.items;\n      var id = item.id;\n      var scope = this.scope + '.' + id;\n\n      if (!id) {\n        throw new Error('class does not have id: ' + item);\n      }\n\n      if (id in items) {\n        return scope;\n      }\n\n      items[id] = item;\n      registerDefaults(item, scope, parentScope);\n\n      if (this.override) {\n        defaults.override(item.id, item.overrides);\n      }\n\n      return scope;\n    }\n  }, {\n    key: \"get\",\n    value: function get(id) {\n      return this.items[id];\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister(item) {\n      var items = this.items;\n      var id = item.id;\n      var scope = this.scope;\n\n      if (id in items) {\n        delete items[id];\n      }\n\n      if (scope && id in defaults[scope]) {\n        delete defaults[scope][id];\n\n        if (this.override) {\n          delete overrides[id];\n        }\n      }\n    }\n  }]);\n\n  return TypedRegistry;\n}();\n\nfunction registerDefaults(item, scope, parentScope) {\n  var itemDefaults = merge(Object.create(null), [parentScope ? defaults.get(parentScope) : {}, defaults.get(scope), item.defaults]);\n  defaults.set(scope, itemDefaults);\n\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\n\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(function (property) {\n    var propertyParts = property.split('.');\n    var sourceName = propertyParts.pop();\n    var sourceScope = [scope].concat(propertyParts).join('.');\n    var parts = routes[property].split('.');\n    var targetName = parts.pop();\n    var targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\n\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nvar Registry = /*#__PURE__*/function () {\n  function Registry() {\n    _classCallCheck(this, Registry);\n\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n\n  _createClass(Registry, [{\n    key: \"add\",\n    value: function add() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this._each('register', args);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      this._each('unregister', args);\n    }\n  }, {\n    key: \"addControllers\",\n    value: function addControllers() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this._each('register', args, this.controllers);\n    }\n  }, {\n    key: \"addElements\",\n    value: function addElements() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      this._each('register', args, this.elements);\n    }\n  }, {\n    key: \"addPlugins\",\n    value: function addPlugins() {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      this._each('register', args, this.plugins);\n    }\n  }, {\n    key: \"addScales\",\n    value: function addScales() {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      this._each('register', args, this.scales);\n    }\n  }, {\n    key: \"getController\",\n    value: function getController(id) {\n      return this._get(id, this.controllers, 'controller');\n    }\n  }, {\n    key: \"getElement\",\n    value: function getElement(id) {\n      return this._get(id, this.elements, 'element');\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(id) {\n      return this._get(id, this.plugins, 'plugin');\n    }\n  }, {\n    key: \"getScale\",\n    value: function getScale(id) {\n      return this._get(id, this.scales, 'scale');\n    }\n  }, {\n    key: \"removeControllers\",\n    value: function removeControllers() {\n      for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n\n      this._each('unregister', args, this.controllers);\n    }\n  }, {\n    key: \"removeElements\",\n    value: function removeElements() {\n      for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        args[_key8] = arguments[_key8];\n      }\n\n      this._each('unregister', args, this.elements);\n    }\n  }, {\n    key: \"removePlugins\",\n    value: function removePlugins() {\n      for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n        args[_key9] = arguments[_key9];\n      }\n\n      this._each('unregister', args, this.plugins);\n    }\n  }, {\n    key: \"removeScales\",\n    value: function removeScales() {\n      for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n        args[_key10] = arguments[_key10];\n      }\n\n      this._each('unregister', args, this.scales);\n    }\n  }, {\n    key: \"_each\",\n    value: function _each(method, args, typedRegistry) {\n      var _this10 = this;\n\n      _toConsumableArray(args).forEach(function (arg) {\n        var reg = typedRegistry || _this10._getRegistryForType(arg);\n\n        if (typedRegistry || reg.isForType(arg) || reg === _this10.plugins && arg.id) {\n          _this10._exec(method, reg, arg);\n        } else {\n          each(arg, function (item) {\n            var itemReg = typedRegistry || _this10._getRegistryForType(item);\n\n            _this10._exec(method, itemReg, item);\n          });\n        }\n      });\n    }\n  }, {\n    key: \"_exec\",\n    value: function _exec(method, registry, component) {\n      var camelMethod = _capitalize(method);\n\n      callback(component['before' + camelMethod], [], component);\n      registry[method](component);\n      callback(component['after' + camelMethod], [], component);\n    }\n  }, {\n    key: \"_getRegistryForType\",\n    value: function _getRegistryForType(type) {\n      for (var i = 0; i < this._typedRegistries.length; i++) {\n        var reg = this._typedRegistries[i];\n\n        if (reg.isForType(type)) {\n          return reg;\n        }\n      }\n\n      return this.plugins;\n    }\n  }, {\n    key: \"_get\",\n    value: function _get(id, typedRegistry, type) {\n      var item = typedRegistry.get(id);\n\n      if (item === undefined) {\n        throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n      }\n\n      return item;\n    }\n  }]);\n\n  return Registry;\n}();\n\nvar registry = new Registry();\n\nvar PluginService = /*#__PURE__*/function () {\n  function PluginService() {\n    _classCallCheck(this, PluginService);\n\n    this._init = [];\n  }\n\n  _createClass(PluginService, [{\n    key: \"notify\",\n    value: function notify(chart, hook, args, filter) {\n      if (hook === 'beforeInit') {\n        this._init = this._createDescriptors(chart, true);\n\n        this._notify(this._init, chart, 'install');\n      }\n\n      var descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n\n      var result = this._notify(descriptors, chart, hook, args);\n\n      if (hook === 'destroy') {\n        this._notify(descriptors, chart, 'stop');\n\n        this._notify(this._init, chart, 'uninstall');\n      }\n\n      return result;\n    }\n  }, {\n    key: \"_notify\",\n    value: function _notify(descriptors, chart, hook, args) {\n      args = args || {};\n\n      var _iterator11 = _createForOfIteratorHelper(descriptors),\n          _step11;\n\n      try {\n        for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n          var descriptor = _step11.value;\n          var plugin = descriptor.plugin;\n          var method = plugin[hook];\n          var params = [chart, args, descriptor.options];\n\n          if (callback(method, params, plugin) === false && args.cancelable) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _iterator11.e(err);\n      } finally {\n        _iterator11.f();\n      }\n\n      return true;\n    }\n  }, {\n    key: \"invalidate\",\n    value: function invalidate() {\n      if (!isNullOrUndef(this._cache)) {\n        this._oldCache = this._cache;\n        this._cache = undefined;\n      }\n    }\n  }, {\n    key: \"_descriptors\",\n    value: function _descriptors(chart) {\n      if (this._cache) {\n        return this._cache;\n      }\n\n      var descriptors = this._cache = this._createDescriptors(chart);\n\n      this._notifyStateChanges(chart);\n\n      return descriptors;\n    }\n  }, {\n    key: \"_createDescriptors\",\n    value: function _createDescriptors(chart, all) {\n      var config = chart && chart.config;\n      var options = valueOrDefault(config.options && config.options.plugins, {});\n      var plugins = allPlugins(config);\n      return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n    }\n  }, {\n    key: \"_notifyStateChanges\",\n    value: function _notifyStateChanges(chart) {\n      var previousDescriptors = this._oldCache || [];\n      var descriptors = this._cache;\n\n      var diff = function diff(a, b) {\n        return a.filter(function (x) {\n          return !b.some(function (y) {\n            return x.plugin.id === y.plugin.id;\n          });\n        });\n      };\n\n      this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n\n      this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n    }\n  }]);\n\n  return PluginService;\n}();\n\nfunction allPlugins(config) {\n  var plugins = [];\n  var keys = Object.keys(registry.plugins.items);\n\n  for (var i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n\n  var local = config.plugins || [];\n\n  for (var _i = 0; _i < local.length; _i++) {\n    var plugin = local[_i];\n\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n    }\n  }\n\n  return plugins;\n}\n\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n\n  if (options === true) {\n    return {};\n  }\n\n  return options;\n}\n\nfunction createDescriptors(chart, plugins, options, all) {\n  var result = [];\n  var context = chart.getContext();\n\n  for (var i = 0; i < plugins.length; i++) {\n    var plugin = plugins[i];\n    var id = plugin.id;\n    var opts = getOpts(options[id], all);\n\n    if (opts === null) {\n      continue;\n    }\n\n    result.push({\n      plugin: plugin,\n      options: pluginOpts(chart.config, plugin, opts, context)\n    });\n  }\n\n  return result;\n}\n\nfunction pluginOpts(config, plugin, opts, context) {\n  var keys = config.pluginScopeKeys(plugin);\n  var scopes = config.getOptionScopes(opts, keys);\n  return config.createResolver(scopes, context, [''], {\n    scriptable: false,\n    indexable: false,\n    allKeys: true\n  });\n}\n\nfunction getIndexAxis(type, options) {\n  var datasetDefaults = defaults.datasets[type] || {};\n  var datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\n\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  var axis = id;\n\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n\n  return axis;\n}\n\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\n\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\n\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\n\nfunction mergeScaleConfig(config, options) {\n  var chartDefaults = overrides[config.type] || {\n    scales: {}\n  };\n  var configScales = options.scales || {};\n  var chartIndexAxis = getIndexAxis(config.type, options);\n  var firstIDs = Object.create(null);\n  var scales = Object.create(null);\n  Object.keys(configScales).forEach(function (id) {\n    var scaleConf = configScales[id];\n\n    if (!isObject(scaleConf)) {\n      return console.error(\"Invalid scale configuration for scale: \".concat(id));\n    }\n\n    if (scaleConf._proxy) {\n      return console.warn(\"Ignoring resolver passed as options for scale: \".concat(id));\n    }\n\n    var axis = determineAxis(id, scaleConf);\n    var defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    var defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{\n      axis: axis\n    }, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(function (dataset) {\n    var type = dataset.type || config.type;\n    var indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    var datasetDefaults = overrides[type] || {};\n    var defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(function (defaultID) {\n      var axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      var id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{\n        axis: axis\n      }, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(function (key) {\n    var scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\n\nfunction initOptions(config) {\n  var options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\n\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\n\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\n\nvar keyCache = new Map();\nvar keysCached = new Set();\n\nfunction cachedKeys(cacheKey, generate) {\n  var keys = keyCache.get(cacheKey);\n\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n\n  return keys;\n}\n\nvar addIfFound = function addIfFound(set, obj, key) {\n  var opts = resolveObjectKey(obj, key);\n\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\n\nvar Config = /*#__PURE__*/function () {\n  function Config(config) {\n    _classCallCheck(this, Config);\n\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n\n  _createClass(Config, [{\n    key: \"update\",\n    value: function update() {\n      var config = this._config;\n      this.clearCache();\n      initOptions(config);\n    }\n  }, {\n    key: \"clearCache\",\n    value: function clearCache() {\n      this._scopeCache.clear();\n\n      this._resolverCache.clear();\n    }\n  }, {\n    key: \"datasetScopeKeys\",\n    value: function datasetScopeKeys(datasetType) {\n      return cachedKeys(datasetType, function () {\n        return [[\"datasets.\".concat(datasetType), '']];\n      });\n    }\n  }, {\n    key: \"datasetAnimationScopeKeys\",\n    value: function datasetAnimationScopeKeys(datasetType, transition) {\n      return cachedKeys(\"\".concat(datasetType, \".transition.\").concat(transition), function () {\n        return [[\"datasets.\".concat(datasetType, \".transitions.\").concat(transition), \"transitions.\".concat(transition)], [\"datasets.\".concat(datasetType), '']];\n      });\n    }\n  }, {\n    key: \"datasetElementScopeKeys\",\n    value: function datasetElementScopeKeys(datasetType, elementType) {\n      return cachedKeys(\"\".concat(datasetType, \"-\").concat(elementType), function () {\n        return [[\"datasets.\".concat(datasetType, \".elements.\").concat(elementType), \"datasets.\".concat(datasetType), \"elements.\".concat(elementType), '']];\n      });\n    }\n  }, {\n    key: \"pluginScopeKeys\",\n    value: function pluginScopeKeys(plugin) {\n      var id = plugin.id;\n      var type = this.type;\n      return cachedKeys(\"\".concat(type, \"-plugin-\").concat(id), function () {\n        return [[\"plugins.\".concat(id)].concat(_toConsumableArray(plugin.additionalOptionScopes || []))];\n      });\n    }\n  }, {\n    key: \"_cachedScopes\",\n    value: function _cachedScopes(mainScope, resetCache) {\n      var _scopeCache = this._scopeCache;\n\n      var cache = _scopeCache.get(mainScope);\n\n      if (!cache || resetCache) {\n        cache = new Map();\n\n        _scopeCache.set(mainScope, cache);\n      }\n\n      return cache;\n    }\n  }, {\n    key: \"getOptionScopes\",\n    value: function getOptionScopes(mainScope, keyLists, resetCache) {\n      var options = this.options,\n          type = this.type;\n\n      var cache = this._cachedScopes(mainScope, resetCache);\n\n      var cached = cache.get(keyLists);\n\n      if (cached) {\n        return cached;\n      }\n\n      var scopes = new Set();\n      keyLists.forEach(function (keys) {\n        if (mainScope) {\n          scopes.add(mainScope);\n          keys.forEach(function (key) {\n            return addIfFound(scopes, mainScope, key);\n          });\n        }\n\n        keys.forEach(function (key) {\n          return addIfFound(scopes, options, key);\n        });\n        keys.forEach(function (key) {\n          return addIfFound(scopes, overrides[type] || {}, key);\n        });\n        keys.forEach(function (key) {\n          return addIfFound(scopes, defaults, key);\n        });\n        keys.forEach(function (key) {\n          return addIfFound(scopes, descriptors, key);\n        });\n      });\n      var array = Array.from(scopes);\n\n      if (array.length === 0) {\n        array.push(Object.create(null));\n      }\n\n      if (keysCached.has(keyLists)) {\n        cache.set(keyLists, array);\n      }\n\n      return array;\n    }\n  }, {\n    key: \"chartOptionScopes\",\n    value: function chartOptionScopes() {\n      var options = this.options,\n          type = this.type;\n      return [options, overrides[type] || {}, defaults.datasets[type] || {}, {\n        type: type\n      }, defaults, descriptors];\n    }\n  }, {\n    key: \"resolveNamedOptions\",\n    value: function resolveNamedOptions(scopes, names, context) {\n      var prefixes = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [''];\n      var result = {\n        $shared: true\n      };\n\n      var _getResolver = getResolver(this._resolverCache, scopes, prefixes),\n          resolver = _getResolver.resolver,\n          subPrefixes = _getResolver.subPrefixes;\n\n      var options = resolver;\n\n      if (needContext(resolver, names)) {\n        result.$shared = false;\n        context = isFunction(context) ? context() : context;\n        var subResolver = this.createResolver(scopes, context, subPrefixes);\n        options = _attachContext(resolver, context, subResolver);\n      }\n\n      var _iterator12 = _createForOfIteratorHelper(names),\n          _step12;\n\n      try {\n        for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n          var prop = _step12.value;\n          result[prop] = options[prop];\n        }\n      } catch (err) {\n        _iterator12.e(err);\n      } finally {\n        _iterator12.f();\n      }\n\n      return result;\n    }\n  }, {\n    key: \"createResolver\",\n    value: function createResolver(scopes, context) {\n      var prefixes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [''];\n      var descriptorDefaults = arguments.length > 3 ? arguments[3] : undefined;\n\n      var _getResolver2 = getResolver(this._resolverCache, scopes, prefixes),\n          resolver = _getResolver2.resolver;\n\n      return isObject(context) ? _attachContext(resolver, context, undefined, descriptorDefaults) : resolver;\n    }\n  }, {\n    key: \"platform\",\n    get: function get() {\n      return this._config.platform;\n    }\n  }, {\n    key: \"type\",\n    get: function get() {\n      return this._config.type;\n    },\n    set: function set(type) {\n      this._config.type = type;\n    }\n  }, {\n    key: \"data\",\n    get: function get() {\n      return this._config.data;\n    },\n    set: function set(data) {\n      this._config.data = initData(data);\n    }\n  }, {\n    key: \"options\",\n    get: function get() {\n      return this._config.options;\n    },\n    set: function set(options) {\n      this._config.options = options;\n    }\n  }, {\n    key: \"plugins\",\n    get: function get() {\n      return this._config.plugins;\n    }\n  }]);\n\n  return Config;\n}();\n\nfunction getResolver(resolverCache, scopes, prefixes) {\n  var cache = resolverCache.get(scopes);\n\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n\n  var cacheKey = prefixes.join();\n  var cached = cache.get(cacheKey);\n\n  if (!cached) {\n    var resolver = _createResolver(scopes, prefixes);\n\n    cached = {\n      resolver: resolver,\n      subPrefixes: prefixes.filter(function (p) {\n        return !p.toLowerCase().includes('hover');\n      })\n    };\n    cache.set(cacheKey, cached);\n  }\n\n  return cached;\n}\n\nvar hasFunction = function hasFunction(value) {\n  return isObject(value) && Object.getOwnPropertyNames(value).reduce(function (acc, key) {\n    return acc || isFunction(value[key]);\n  }, false);\n};\n\nfunction needContext(proxy, names) {\n  var _descriptors2 = _descriptors(proxy),\n      isScriptable = _descriptors2.isScriptable,\n      isIndexable = _descriptors2.isIndexable;\n\n  var _iterator13 = _createForOfIteratorHelper(names),\n      _step13;\n\n  try {\n    for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n      var prop = _step13.value;\n      var scriptable = isScriptable(prop);\n      var indexable = isIndexable(prop);\n      var value = (indexable || scriptable) && proxy[prop];\n\n      if (scriptable && (isFunction(value) || hasFunction(value)) || indexable && isArray(value)) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _iterator13.e(err);\n  } finally {\n    _iterator13.f();\n  }\n\n  return false;\n}\n\nvar version = \"3.6.0\";\nvar KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\n\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x';\n}\n\nfunction compare2Level(l1, l2) {\n  return function (a, b) {\n    return a[l1] === b[l1] ? a[l2] - b[l2] : a[l1] - b[l1];\n  };\n}\n\nfunction onAnimationsComplete(context) {\n  var chart = context.chart;\n  var animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\n\nfunction onAnimationProgress(context) {\n  var chart = context.chart;\n  var animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\n\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n\n  return item;\n}\n\nvar instances = {};\n\nvar getChart = function getChart(key) {\n  var canvas = getCanvas(key);\n  return Object.values(instances).filter(function (c) {\n    return c.canvas === canvas;\n  }).pop();\n};\n\nvar Chart = /*#__PURE__*/function () {\n  function Chart(item, userConfig) {\n    var _this11 = this;\n\n    _classCallCheck(this, Chart);\n\n    var config = this.config = new Config(userConfig);\n    var initialCanvas = getCanvas(item);\n    var existingChart = getChart(initialCanvas);\n\n    if (existingChart) {\n      throw new Error('Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' + ' must be destroyed before the canvas can be reused.');\n    }\n\n    var options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n    var context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    var canvas = context && context.canvas;\n    var height = canvas && canvas.height;\n    var width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(function (mode) {\n      return _this11.update(mode);\n    }, options.resizeDelay || 0);\n    instances[this.id] = this;\n\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n\n    this._initialize();\n\n    if (this.attached) {\n      this.update();\n    }\n  }\n\n  _createClass(Chart, [{\n    key: \"_initialize\",\n    value: function _initialize() {\n      this.notifyPlugins('beforeInit');\n\n      if (this.options.responsive) {\n        this.resize();\n      } else {\n        retinaScale(this, this.options.devicePixelRatio);\n      }\n\n      this.bindEvents();\n      this.notifyPlugins('afterInit');\n      return this;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      clearCanvas(this.canvas, this.ctx);\n      return this;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      animator.stop(this);\n      return this;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(width, height) {\n      if (!animator.running(this)) {\n        this._resize(width, height);\n      } else {\n        this._resizeBeforeDraw = {\n          width: width,\n          height: height\n        };\n      }\n    }\n  }, {\n    key: \"_resize\",\n    value: function _resize(width, height) {\n      var options = this.options;\n      var canvas = this.canvas;\n      var aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n      var newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n      var newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n      var mode = this.width ? 'resize' : 'attach';\n      this.width = newSize.width;\n      this.height = newSize.height;\n      this._aspectRatio = this.aspectRatio;\n\n      if (!retinaScale(this, newRatio, true)) {\n        return;\n      }\n\n      this.notifyPlugins('resize', {\n        size: newSize\n      });\n      callback(options.onResize, [this, newSize], this);\n\n      if (this.attached) {\n        if (this._doResize(mode)) {\n          this.render();\n        }\n      }\n    }\n  }, {\n    key: \"ensureScalesHaveIDs\",\n    value: function ensureScalesHaveIDs() {\n      var options = this.options;\n      var scalesOptions = options.scales || {};\n      each(scalesOptions, function (axisOptions, axisID) {\n        axisOptions.id = axisID;\n      });\n    }\n  }, {\n    key: \"buildOrUpdateScales\",\n    value: function buildOrUpdateScales() {\n      var _this12 = this;\n\n      var options = this.options;\n      var scaleOpts = options.scales;\n      var scales = this.scales;\n      var updated = Object.keys(scales).reduce(function (obj, id) {\n        obj[id] = false;\n        return obj;\n      }, {});\n      var items = [];\n\n      if (scaleOpts) {\n        items = items.concat(Object.keys(scaleOpts).map(function (id) {\n          var scaleOptions = scaleOpts[id];\n          var axis = determineAxis(id, scaleOptions);\n          var isRadial = axis === 'r';\n          var isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        }));\n      }\n\n      each(items, function (item) {\n        var scaleOptions = item.options;\n        var id = scaleOptions.id;\n        var axis = determineAxis(id, scaleOptions);\n        var scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n\n        if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n          scaleOptions.position = item.dposition;\n        }\n\n        updated[id] = true;\n        var scale = null;\n\n        if (id in scales && scales[id].type === scaleType) {\n          scale = scales[id];\n        } else {\n          var scaleClass = registry.getScale(scaleType);\n          scale = new scaleClass({\n            id: id,\n            type: scaleType,\n            ctx: _this12.ctx,\n            chart: _this12\n          });\n          scales[scale.id] = scale;\n        }\n\n        scale.init(scaleOptions, options);\n      });\n      each(updated, function (hasUpdated, id) {\n        if (!hasUpdated) {\n          delete scales[id];\n        }\n      });\n      each(scales, function (scale) {\n        layouts.configure(_this12, scale, scale.options);\n        layouts.addBox(_this12, scale);\n      });\n    }\n  }, {\n    key: \"_updateMetasets\",\n    value: function _updateMetasets() {\n      var metasets = this._metasets;\n      var numData = this.data.datasets.length;\n      var numMeta = metasets.length;\n      metasets.sort(function (a, b) {\n        return a.index - b.index;\n      });\n\n      if (numMeta > numData) {\n        for (var i = numData; i < numMeta; ++i) {\n          this._destroyDatasetMeta(i);\n        }\n\n        metasets.splice(numData, numMeta - numData);\n      }\n\n      this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n    }\n  }, {\n    key: \"_removeUnreferencedMetasets\",\n    value: function _removeUnreferencedMetasets() {\n      var _this13 = this;\n\n      var metasets = this._metasets,\n          datasets = this.data.datasets;\n\n      if (metasets.length > datasets.length) {\n        delete this._stacks;\n      }\n\n      metasets.forEach(function (meta, index) {\n        if (datasets.filter(function (x) {\n          return x === meta._dataset;\n        }).length === 0) {\n          _this13._destroyDatasetMeta(index);\n        }\n      });\n    }\n  }, {\n    key: \"buildOrUpdateControllers\",\n    value: function buildOrUpdateControllers() {\n      var newControllers = [];\n      var datasets = this.data.datasets;\n      var i, ilen;\n\n      this._removeUnreferencedMetasets();\n\n      for (i = 0, ilen = datasets.length; i < ilen; i++) {\n        var dataset = datasets[i];\n        var meta = this.getDatasetMeta(i);\n        var type = dataset.type || this.config.type;\n\n        if (meta.type && meta.type !== type) {\n          this._destroyDatasetMeta(i);\n\n          meta = this.getDatasetMeta(i);\n        }\n\n        meta.type = type;\n        meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n        meta.order = dataset.order || 0;\n        meta.index = i;\n        meta.label = '' + dataset.label;\n        meta.visible = this.isDatasetVisible(i);\n\n        if (meta.controller) {\n          meta.controller.updateIndex(i);\n          meta.controller.linkScales();\n        } else {\n          var ControllerClass = registry.getController(type);\n          var _defaults$datasets$ty = defaults.datasets[type],\n              datasetElementType = _defaults$datasets$ty.datasetElementType,\n              dataElementType = _defaults$datasets$ty.dataElementType;\n          Object.assign(ControllerClass.prototype, {\n            dataElementType: registry.getElement(dataElementType),\n            datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n          });\n          meta.controller = new ControllerClass(this, i);\n          newControllers.push(meta.controller);\n        }\n      }\n\n      this._updateMetasets();\n\n      return newControllers;\n    }\n  }, {\n    key: \"_resetElements\",\n    value: function _resetElements() {\n      var _this14 = this;\n\n      each(this.data.datasets, function (dataset, datasetIndex) {\n        _this14.getDatasetMeta(datasetIndex).controller.reset();\n      }, this);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._resetElements();\n\n      this.notifyPlugins('reset');\n    }\n  }, {\n    key: \"update\",\n    value: function update(mode) {\n      var _this15 = this;\n\n      var config = this.config;\n      config.update();\n      var options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n      each(this.scales, function (scale) {\n        layouts.removeBox(_this15, scale);\n      });\n      var animsDisabled = this._animationsDisabled = !options.animation;\n      this.ensureScalesHaveIDs();\n      this.buildOrUpdateScales();\n      var existingEvents = new Set(Object.keys(this._listeners));\n      var newEvents = new Set(options.events);\n\n      if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n        this.unbindEvents();\n        this.bindEvents();\n      }\n\n      this._plugins.invalidate();\n\n      if (this.notifyPlugins('beforeUpdate', {\n        mode: mode,\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      var newControllers = this.buildOrUpdateControllers();\n      this.notifyPlugins('beforeElementsUpdate');\n      var minPadding = 0;\n\n      for (var i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n        var _this$getDatasetMeta = this.getDatasetMeta(i),\n            controller = _this$getDatasetMeta.controller;\n\n        var reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n        controller.buildOrUpdateElements(reset);\n        minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n      }\n\n      minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n\n      this._updateLayout(minPadding);\n\n      if (!animsDisabled) {\n        each(newControllers, function (controller) {\n          controller.reset();\n        });\n      }\n\n      this._updateDatasets(mode);\n\n      this.notifyPlugins('afterUpdate', {\n        mode: mode\n      });\n\n      this._layers.sort(compare2Level('z', '_idx'));\n\n      if (this._lastEvent) {\n        this._eventHandler(this._lastEvent, true);\n      }\n\n      this.render();\n    }\n  }, {\n    key: \"_updateLayout\",\n    value: function _updateLayout(minPadding) {\n      var _this16 = this;\n\n      if (this.notifyPlugins('beforeLayout', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      layouts.update(this, this.width, this.height, minPadding);\n      var area = this.chartArea;\n      var noArea = area.width <= 0 || area.height <= 0;\n      this._layers = [];\n      each(this.boxes, function (box) {\n        var _this16$_layers;\n\n        if (noArea && box.position === 'chartArea') {\n          return;\n        }\n\n        if (box.configure) {\n          box.configure();\n        }\n\n        (_this16$_layers = _this16._layers).push.apply(_this16$_layers, _toConsumableArray(box._layers()));\n      }, this);\n\n      this._layers.forEach(function (item, index) {\n        item._idx = index;\n      });\n\n      this.notifyPlugins('afterLayout');\n    }\n  }, {\n    key: \"_updateDatasets\",\n    value: function _updateDatasets(mode) {\n      if (this.notifyPlugins('beforeDatasetsUpdate', {\n        mode: mode,\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      for (var i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n        this._updateDataset(i, isFunction(mode) ? mode({\n          datasetIndex: i\n        }) : mode);\n      }\n\n      this.notifyPlugins('afterDatasetsUpdate', {\n        mode: mode\n      });\n    }\n  }, {\n    key: \"_updateDataset\",\n    value: function _updateDataset(index, mode) {\n      var meta = this.getDatasetMeta(index);\n      var args = {\n        meta: meta,\n        index: index,\n        mode: mode,\n        cancelable: true\n      };\n\n      if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n        return;\n      }\n\n      meta.controller._update(mode);\n\n      args.cancelable = false;\n      this.notifyPlugins('afterDatasetUpdate', args);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.notifyPlugins('beforeRender', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      if (animator.has(this)) {\n        if (this.attached && !animator.running(this)) {\n          animator.start(this);\n        }\n      } else {\n        this.draw();\n        onAnimationsComplete({\n          chart: this\n        });\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var i;\n\n      if (this._resizeBeforeDraw) {\n        var _this$_resizeBeforeDr = this._resizeBeforeDraw,\n            width = _this$_resizeBeforeDr.width,\n            height = _this$_resizeBeforeDr.height;\n\n        this._resize(width, height);\n\n        this._resizeBeforeDraw = null;\n      }\n\n      this.clear();\n\n      if (this.width <= 0 || this.height <= 0) {\n        return;\n      }\n\n      if (this.notifyPlugins('beforeDraw', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      var layers = this._layers;\n\n      for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n        layers[i].draw(this.chartArea);\n      }\n\n      this._drawDatasets();\n\n      for (; i < layers.length; ++i) {\n        layers[i].draw(this.chartArea);\n      }\n\n      this.notifyPlugins('afterDraw');\n    }\n  }, {\n    key: \"_getSortedDatasetMetas\",\n    value: function _getSortedDatasetMetas(filterVisible) {\n      var metasets = this._sortedMetasets;\n      var result = [];\n      var i, ilen;\n\n      for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n        var meta = metasets[i];\n\n        if (!filterVisible || meta.visible) {\n          result.push(meta);\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: \"getSortedVisibleDatasetMetas\",\n    value: function getSortedVisibleDatasetMetas() {\n      return this._getSortedDatasetMetas(true);\n    }\n  }, {\n    key: \"_drawDatasets\",\n    value: function _drawDatasets() {\n      if (this.notifyPlugins('beforeDatasetsDraw', {\n        cancelable: true\n      }) === false) {\n        return;\n      }\n\n      var metasets = this.getSortedVisibleDatasetMetas();\n\n      for (var i = metasets.length - 1; i >= 0; --i) {\n        this._drawDataset(metasets[i]);\n      }\n\n      this.notifyPlugins('afterDatasetsDraw');\n    }\n  }, {\n    key: \"_drawDataset\",\n    value: function _drawDataset(meta) {\n      var ctx = this.ctx;\n      var clip = meta._clip;\n      var useClip = !clip.disabled;\n      var area = this.chartArea;\n      var args = {\n        meta: meta,\n        index: meta.index,\n        cancelable: true\n      };\n\n      if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n        return;\n      }\n\n      if (useClip) {\n        clipArea(ctx, {\n          left: clip.left === false ? 0 : area.left - clip.left,\n          right: clip.right === false ? this.width : area.right + clip.right,\n          top: clip.top === false ? 0 : area.top - clip.top,\n          bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n        });\n      }\n\n      meta.controller.draw();\n\n      if (useClip) {\n        unclipArea(ctx);\n      }\n\n      args.cancelable = false;\n      this.notifyPlugins('afterDatasetDraw', args);\n    }\n  }, {\n    key: \"getElementsAtEventForMode\",\n    value: function getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n      var method = Interaction.modes[mode];\n\n      if (typeof method === 'function') {\n        return method(this, e, options, useFinalPosition);\n      }\n\n      return [];\n    }\n  }, {\n    key: \"getDatasetMeta\",\n    value: function getDatasetMeta(datasetIndex) {\n      var dataset = this.data.datasets[datasetIndex];\n      var metasets = this._metasets;\n      var meta = metasets.filter(function (x) {\n        return x && x._dataset === dataset;\n      }).pop();\n\n      if (!meta) {\n        meta = {\n          type: null,\n          data: [],\n          dataset: null,\n          controller: null,\n          hidden: null,\n          xAxisID: null,\n          yAxisID: null,\n          order: dataset && dataset.order || 0,\n          index: datasetIndex,\n          _dataset: dataset,\n          _parsed: [],\n          _sorted: false\n        };\n        metasets.push(meta);\n      }\n\n      return meta;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext() {\n      return this.$context || (this.$context = createContext(null, {\n        chart: this,\n        type: 'chart'\n      }));\n    }\n  }, {\n    key: \"getVisibleDatasetCount\",\n    value: function getVisibleDatasetCount() {\n      return this.getSortedVisibleDatasetMetas().length;\n    }\n  }, {\n    key: \"isDatasetVisible\",\n    value: function isDatasetVisible(datasetIndex) {\n      var dataset = this.data.datasets[datasetIndex];\n\n      if (!dataset) {\n        return false;\n      }\n\n      var meta = this.getDatasetMeta(datasetIndex);\n      return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n    }\n  }, {\n    key: \"setDatasetVisibility\",\n    value: function setDatasetVisibility(datasetIndex, visible) {\n      var meta = this.getDatasetMeta(datasetIndex);\n      meta.hidden = !visible;\n    }\n  }, {\n    key: \"toggleDataVisibility\",\n    value: function toggleDataVisibility(index) {\n      this._hiddenIndices[index] = !this._hiddenIndices[index];\n    }\n  }, {\n    key: \"getDataVisibility\",\n    value: function getDataVisibility(index) {\n      return !this._hiddenIndices[index];\n    }\n  }, {\n    key: \"_updateVisibility\",\n    value: function _updateVisibility(datasetIndex, dataIndex, visible) {\n      var mode = visible ? 'show' : 'hide';\n      var meta = this.getDatasetMeta(datasetIndex);\n\n      var anims = meta.controller._resolveAnimations(undefined, mode);\n\n      if (defined(dataIndex)) {\n        meta.data[dataIndex].hidden = !visible;\n        this.update();\n      } else {\n        this.setDatasetVisibility(datasetIndex, visible);\n        anims.update(meta, {\n          visible: visible\n        });\n        this.update(function (ctx) {\n          return ctx.datasetIndex === datasetIndex ? mode : undefined;\n        });\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide(datasetIndex, dataIndex) {\n      this._updateVisibility(datasetIndex, dataIndex, false);\n    }\n  }, {\n    key: \"show\",\n    value: function show(datasetIndex, dataIndex) {\n      this._updateVisibility(datasetIndex, dataIndex, true);\n    }\n  }, {\n    key: \"_destroyDatasetMeta\",\n    value: function _destroyDatasetMeta(datasetIndex) {\n      var meta = this._metasets[datasetIndex];\n\n      if (meta && meta.controller) {\n        meta.controller._destroy();\n      }\n\n      delete this._metasets[datasetIndex];\n    }\n  }, {\n    key: \"_stop\",\n    value: function _stop() {\n      var i, ilen;\n      this.stop();\n      animator.remove(this);\n\n      for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var canvas = this.canvas,\n          ctx = this.ctx;\n\n      this._stop();\n\n      this.config.clearCache();\n\n      if (canvas) {\n        this.unbindEvents();\n        clearCanvas(canvas, ctx);\n        this.platform.releaseContext(ctx);\n        this.canvas = null;\n        this.ctx = null;\n      }\n\n      this.notifyPlugins('destroy');\n      delete instances[this.id];\n    }\n  }, {\n    key: \"toBase64Image\",\n    value: function toBase64Image() {\n      var _this$canvas;\n\n      return (_this$canvas = this.canvas).toDataURL.apply(_this$canvas, arguments);\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      this.bindUserEvents();\n\n      if (this.options.responsive) {\n        this.bindResponsiveEvents();\n      } else {\n        this.attached = true;\n      }\n    }\n  }, {\n    key: \"bindUserEvents\",\n    value: function bindUserEvents() {\n      var _this17 = this;\n\n      var listeners = this._listeners;\n      var platform = this.platform;\n\n      var _add = function _add(type, listener) {\n        platform.addEventListener(_this17, type, listener);\n        listeners[type] = listener;\n      };\n\n      var listener = function listener(e, x, y) {\n        e.offsetX = x;\n        e.offsetY = y;\n\n        _this17._eventHandler(e);\n      };\n\n      each(this.options.events, function (type) {\n        return _add(type, listener);\n      });\n    }\n  }, {\n    key: \"bindResponsiveEvents\",\n    value: function bindResponsiveEvents() {\n      var _this18 = this;\n\n      if (!this._responsiveListeners) {\n        this._responsiveListeners = {};\n      }\n\n      var listeners = this._responsiveListeners;\n      var platform = this.platform;\n\n      var _add = function _add(type, listener) {\n        platform.addEventListener(_this18, type, listener);\n        listeners[type] = listener;\n      };\n\n      var _remove = function _remove(type, listener) {\n        if (listeners[type]) {\n          platform.removeEventListener(_this18, type, listener);\n          delete listeners[type];\n        }\n      };\n\n      var listener = function listener(width, height) {\n        if (_this18.canvas) {\n          _this18.resize(width, height);\n        }\n      };\n\n      var detached;\n\n      var attached = function attached() {\n        _remove('attach', attached);\n\n        _this18.attached = true;\n\n        _this18.resize();\n\n        _add('resize', listener);\n\n        _add('detach', detached);\n      };\n\n      detached = function detached() {\n        _this18.attached = false;\n\n        _remove('resize', listener);\n\n        _this18._stop();\n\n        _this18._resize(0, 0);\n\n        _add('attach', attached);\n      };\n\n      if (platform.isAttached(this.canvas)) {\n        attached();\n      } else {\n        detached();\n      }\n    }\n  }, {\n    key: \"unbindEvents\",\n    value: function unbindEvents() {\n      var _this19 = this;\n\n      each(this._listeners, function (listener, type) {\n        _this19.platform.removeEventListener(_this19, type, listener);\n      });\n      this._listeners = {};\n      each(this._responsiveListeners, function (listener, type) {\n        _this19.platform.removeEventListener(_this19, type, listener);\n      });\n      this._responsiveListeners = undefined;\n    }\n  }, {\n    key: \"updateHoverStyle\",\n    value: function updateHoverStyle(items, mode, enabled) {\n      var prefix = enabled ? 'set' : 'remove';\n      var meta, item, i, ilen;\n\n      if (mode === 'dataset') {\n        meta = this.getDatasetMeta(items[0].datasetIndex);\n        meta.controller['_' + prefix + 'DatasetHoverStyle']();\n      }\n\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        item = items[i];\n        var controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n\n        if (controller) {\n          controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n        }\n      }\n    }\n  }, {\n    key: \"getActiveElements\",\n    value: function getActiveElements() {\n      return this._active || [];\n    }\n  }, {\n    key: \"setActiveElements\",\n    value: function setActiveElements(activeElements) {\n      var _this20 = this;\n\n      var lastActive = this._active || [];\n      var active = activeElements.map(function (_ref2) {\n        var datasetIndex = _ref2.datasetIndex,\n            index = _ref2.index;\n\n        var meta = _this20.getDatasetMeta(datasetIndex);\n\n        if (!meta) {\n          throw new Error('No dataset found at index ' + datasetIndex);\n        }\n\n        return {\n          datasetIndex: datasetIndex,\n          element: meta.data[index],\n          index: index\n        };\n      });\n      var changed = !_elementsEqual(active, lastActive);\n\n      if (changed) {\n        this._active = active;\n\n        this._updateHoverStyles(active, lastActive);\n      }\n    }\n  }, {\n    key: \"notifyPlugins\",\n    value: function notifyPlugins(hook, args, filter) {\n      return this._plugins.notify(this, hook, args, filter);\n    }\n  }, {\n    key: \"_updateHoverStyles\",\n    value: function _updateHoverStyles(active, lastActive, replay) {\n      var hoverOptions = this.options.hover;\n\n      var diff = function diff(a, b) {\n        return a.filter(function (x) {\n          return !b.some(function (y) {\n            return x.datasetIndex === y.datasetIndex && x.index === y.index;\n          });\n        });\n      };\n\n      var deactivated = diff(lastActive, active);\n      var activated = replay ? active : diff(active, lastActive);\n\n      if (deactivated.length) {\n        this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n      }\n\n      if (activated.length && hoverOptions.mode) {\n        this.updateHoverStyle(activated, hoverOptions.mode, true);\n      }\n    }\n  }, {\n    key: \"_eventHandler\",\n    value: function _eventHandler(e, replay) {\n      var _this21 = this;\n\n      var args = {\n        event: e,\n        replay: replay,\n        cancelable: true\n      };\n\n      var eventFilter = function eventFilter(plugin) {\n        return (plugin.options.events || _this21.options.events).includes(e[\"native\"].type);\n      };\n\n      if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n        return;\n      }\n\n      var changed = this._handleEvent(e, replay);\n\n      args.cancelable = false;\n      this.notifyPlugins('afterEvent', args, eventFilter);\n\n      if (changed || args.changed) {\n        this.render();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_handleEvent\",\n    value: function _handleEvent(e, replay) {\n      var _this$_active = this._active,\n          lastActive = _this$_active === void 0 ? [] : _this$_active,\n          options = this.options;\n      var hoverOptions = options.hover;\n      var useFinalPosition = replay;\n      var active = [];\n      var changed = false;\n      var lastEvent = null;\n\n      if (e.type !== 'mouseout') {\n        active = this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n        lastEvent = e.type === 'click' ? this._lastEvent : e;\n      }\n\n      this._lastEvent = null;\n\n      if (_isPointInArea(e, this.chartArea, this._minPadding)) {\n        callback(options.onHover, [e, active, this], this);\n\n        if (e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu') {\n          callback(options.onClick, [e, active, this], this);\n        }\n      }\n\n      changed = !_elementsEqual(active, lastActive);\n\n      if (changed || replay) {\n        this._active = active;\n\n        this._updateHoverStyles(active, lastActive, replay);\n      }\n\n      this._lastEvent = lastEvent;\n      return changed;\n    }\n  }, {\n    key: \"aspectRatio\",\n    get: function get() {\n      var _this$options10 = this.options,\n          aspectRatio = _this$options10.aspectRatio,\n          maintainAspectRatio = _this$options10.maintainAspectRatio,\n          width = this.width,\n          height = this.height,\n          _aspectRatio = this._aspectRatio;\n\n      if (!isNullOrUndef(aspectRatio)) {\n        return aspectRatio;\n      }\n\n      if (maintainAspectRatio && _aspectRatio) {\n        return _aspectRatio;\n      }\n\n      return height ? width / height : null;\n    }\n  }, {\n    key: \"data\",\n    get: function get() {\n      return this.config.data;\n    },\n    set: function set(data) {\n      this.config.data = data;\n    }\n  }, {\n    key: \"options\",\n    get: function get() {\n      return this._options;\n    },\n    set: function set(options) {\n      this.config.options = options;\n    }\n  }]);\n\n  return Chart;\n}();\n\nvar invalidatePlugins = function invalidatePlugins() {\n  return each(Chart.instances, function (chart) {\n    return chart._plugins.invalidate();\n  });\n};\n\nvar enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable: enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable: enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable: enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable: enumerable,\n    value: registry\n  },\n  version: {\n    enumerable: enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable: enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable: enumerable,\n    value: function value() {\n      registry.add.apply(registry, arguments);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable: enumerable,\n    value: function value() {\n      registry.remove.apply(registry, arguments);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element, endAngle) {\n  var startAngle = element.startAngle,\n      pixelMargin = element.pixelMargin,\n      x = element.x,\n      y = element.y,\n      outerRadius = element.outerRadius,\n      innerRadius = element.innerRadius;\n  var angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\n\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  var o = toRadiusCorners(arc.options.borderRadius);\n  var halfThickness = (outerRadius - innerRadius) / 2;\n  var innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n\n  var computeOuterLimit = function computeOuterLimit(val) {\n    var outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit)\n  };\n}\n\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta)\n  };\n}\n\nfunction pathArc(ctx, element, offset, spacing, end) {\n  var x = element.x,\n      y = element.y,\n      start = element.startAngle,\n      pixelMargin = element.pixelMargin,\n      innerR = element.innerRadius;\n  var outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  var innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n  var spacingOffset = 0;\n  var alpha = end - start;\n\n  if (spacing) {\n    var noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    var noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    var avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    var adjustedAngle = avNogSpacingRadius !== 0 ? alpha * avNogSpacingRadius / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n\n  var beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  var angleOffset = (alpha - beta) / 2;\n  var startAngle = start + angleOffset + spacingOffset;\n  var endAngle = end - angleOffset - spacingOffset;\n\n  var _parseBorderRadius$ = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle),\n      outerStart = _parseBorderRadius$.outerStart,\n      outerEnd = _parseBorderRadius$.outerEnd,\n      innerStart = _parseBorderRadius$.innerStart,\n      innerEnd = _parseBorderRadius$.innerEnd;\n\n  var outerStartAdjustedRadius = outerRadius - outerStart;\n  var outerEndAdjustedRadius = outerRadius - outerEnd;\n  var outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  var outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  var innerStartAdjustedRadius = innerRadius + innerStart;\n  var innerEndAdjustedRadius = innerRadius + innerEnd;\n  var innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  var innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n\n  if (outerEnd > 0) {\n    var pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n  }\n\n  var p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n  ctx.lineTo(p4.x, p4.y);\n\n  if (innerEnd > 0) {\n    var _pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n\n    ctx.arc(_pCenter.x, _pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n  }\n\n  ctx.arc(x, y, innerRadius, endAngle - innerEnd / innerRadius, startAngle + innerStart / innerRadius, true);\n\n  if (innerStart > 0) {\n    var _pCenter2 = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n\n    ctx.arc(_pCenter2.x, _pCenter2.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n  }\n\n  var p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n  ctx.lineTo(p8.x, p8.y);\n\n  if (outerStart > 0) {\n    var _pCenter3 = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n\n    ctx.arc(_pCenter3.x, _pCenter3.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n  }\n\n  ctx.closePath();\n}\n\nfunction drawArc(ctx, element, offset, spacing) {\n  var fullCircles = element.fullCircles,\n      startAngle = element.startAngle,\n      circumference = element.circumference;\n  var endAngle = element.endAngle;\n\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, startAngle + TAU);\n\n    for (var i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + circumference % TAU;\n\n      if (circumference % TAU === 0) {\n        endAngle += TAU;\n      }\n    }\n  }\n\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.fill();\n  return endAngle;\n}\n\nfunction drawFullCircleBorders(ctx, element, inner) {\n  var x = element.x,\n      y = element.y,\n      startAngle = element.startAngle,\n      pixelMargin = element.pixelMargin,\n      fullCircles = element.fullCircles;\n  var outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  var innerRadius = element.innerRadius + pixelMargin;\n  var i;\n\n  if (inner) {\n    clipArc(ctx, element, startAngle + TAU);\n  }\n\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\n\nfunction drawBorder(ctx, element, offset, spacing, endAngle) {\n  var options = element.options;\n  var inner = options.borderAlign === 'inner';\n\n  if (!options.borderWidth) {\n    return;\n  }\n\n  if (inner) {\n    ctx.lineWidth = options.borderWidth * 2;\n    ctx.lineJoin = 'round';\n  } else {\n    ctx.lineWidth = options.borderWidth;\n    ctx.lineJoin = 'bevel';\n  }\n\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.stroke();\n}\n\nvar ArcElement = /*#__PURE__*/function (_Element2) {\n  _inherits(ArcElement, _Element2);\n\n  var _super12 = _createSuper(ArcElement);\n\n  function ArcElement(cfg) {\n    var _this22;\n\n    _classCallCheck(this, ArcElement);\n\n    _this22 = _super12.call(this);\n    _this22.options = undefined;\n    _this22.circumference = undefined;\n    _this22.startAngle = undefined;\n    _this22.endAngle = undefined;\n    _this22.innerRadius = undefined;\n    _this22.outerRadius = undefined;\n    _this22.pixelMargin = 0;\n    _this22.fullCircles = 0;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this22), cfg);\n    }\n\n    return _this22;\n  }\n\n  _createClass(ArcElement, [{\n    key: \"inRange\",\n    value: function inRange(chartX, chartY, useFinalPosition) {\n      var point = this.getProps(['x', 'y'], useFinalPosition);\n\n      var _getAngleFromPoint = getAngleFromPoint(point, {\n        x: chartX,\n        y: chartY\n      }),\n          angle = _getAngleFromPoint.angle,\n          distance = _getAngleFromPoint.distance;\n\n      var _this$getProps2 = this.getProps(['startAngle', 'endAngle', 'innerRadius', 'outerRadius', 'circumference'], useFinalPosition),\n          startAngle = _this$getProps2.startAngle,\n          endAngle = _this$getProps2.endAngle,\n          innerRadius = _this$getProps2.innerRadius,\n          outerRadius = _this$getProps2.outerRadius,\n          circumference = _this$getProps2.circumference;\n\n      var rAdjust = this.options.spacing / 2;\n\n      var betweenAngles = circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n\n      var withinRadius = distance >= innerRadius + rAdjust && distance <= outerRadius + rAdjust;\n      return betweenAngles && withinRadius;\n    }\n  }, {\n    key: \"getCenterPoint\",\n    value: function getCenterPoint(useFinalPosition) {\n      var _this$getProps3 = this.getProps(['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius', 'circumference'], useFinalPosition),\n          x = _this$getProps3.x,\n          y = _this$getProps3.y,\n          startAngle = _this$getProps3.startAngle,\n          endAngle = _this$getProps3.endAngle,\n          innerRadius = _this$getProps3.innerRadius,\n          outerRadius = _this$getProps3.outerRadius;\n\n      var _this$options11 = this.options,\n          offset = _this$options11.offset,\n          spacing = _this$options11.spacing;\n      var halfAngle = (startAngle + endAngle) / 2;\n      var halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n      return {\n        x: x + Math.cos(halfAngle) * halfRadius,\n        y: y + Math.sin(halfAngle) * halfRadius\n      };\n    }\n  }, {\n    key: \"tooltipPosition\",\n    value: function tooltipPosition(useFinalPosition) {\n      return this.getCenterPoint(useFinalPosition);\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx) {\n      var options = this.options,\n          circumference = this.circumference;\n      var offset = (options.offset || 0) / 2;\n      var spacing = (options.spacing || 0) / 2;\n      this.pixelMargin = options.borderAlign === 'inner' ? 0.33 : 0;\n      this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n\n      if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n        return;\n      }\n\n      ctx.save();\n      var radiusOffset = 0;\n\n      if (offset) {\n        radiusOffset = offset / 2;\n        var halfAngle = (this.startAngle + this.endAngle) / 2;\n        ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);\n\n        if (this.circumference >= PI) {\n          radiusOffset = offset;\n        }\n      }\n\n      ctx.fillStyle = options.backgroundColor;\n      ctx.strokeStyle = options.borderColor;\n      var endAngle = drawArc(ctx, this, radiusOffset, spacing);\n      drawBorder(ctx, this, radiusOffset, spacing, endAngle);\n      ctx.restore();\n    }\n  }]);\n\n  return ArcElement;\n}(Element);\n\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  spacing: 0,\n  angle: undefined\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options) {\n  var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : options;\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\n\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\n\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n\n  return lineTo;\n}\n\nfunction pathVars(points, segment) {\n  var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var count = points.length;\n  var _params$start = params.start,\n      paramsStart = _params$start === void 0 ? 0 : _params$start,\n      _params$end = params.end,\n      paramsEnd = _params$end === void 0 ? count - 1 : _params$end;\n  var segmentStart = segment.start,\n      segmentEnd = segment.end;\n  var start = Math.max(paramsStart, segmentStart);\n  var end = Math.min(paramsEnd, segmentEnd);\n  var outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count: count,\n    start: start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\n\nfunction pathSegment(ctx, line, segment, params) {\n  var points = line.points,\n      options = line.options;\n\n  var _pathVars = pathVars(points, segment, params),\n      count = _pathVars.count,\n      start = _pathVars.start,\n      loop = _pathVars.loop,\n      ilen = _pathVars.ilen;\n\n  var lineMethod = getLineMethod(options);\n\n  var _ref3 = params || {},\n      _ref3$move = _ref3.move,\n      move = _ref3$move === void 0 ? true : _ref3$move,\n      reverse = _ref3.reverse;\n\n  var i, point, prev;\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n\n    prev = point;\n  }\n\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n\n  return !!loop;\n}\n\nfunction fastPathSegment(ctx, line, segment, params) {\n  var points = line.points;\n\n  var _pathVars2 = pathVars(points, segment, params),\n      count = _pathVars2.count,\n      start = _pathVars2.start,\n      ilen = _pathVars2.ilen;\n\n  var _ref4 = params || {},\n      _ref4$move = _ref4.move,\n      move = _ref4$move === void 0 ? true : _ref4$move,\n      reverse = _ref4.reverse;\n\n  var avgX = 0;\n  var countX = 0;\n  var i, point, prevX, minY, maxY, lastY;\n\n  var pointIndex = function pointIndex(index) {\n    return (start + (reverse ? ilen - index : index)) % count;\n  };\n\n  var drawX = function drawX() {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n\n    if (point.skip) {\n      continue;\n    }\n\n    var x = point.x;\n    var y = point.y;\n    var truncX = x | 0;\n\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n\n    lastY = y;\n  }\n\n  drawX();\n}\n\nfunction _getSegmentMethod(line) {\n  var opts = line.options;\n  var borderDash = opts.borderDash && opts.borderDash.length;\n  var useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\n\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n\n  return _pointInLine;\n}\n\nfunction strokePathWithCache(ctx, line, start, count) {\n  var path = line._path;\n\n  if (!path) {\n    path = line._path = new Path2D();\n\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\n\nfunction strokePathDirect(ctx, line, start, count) {\n  var segments = line.segments,\n      options = line.options;\n\n  var segmentMethod = _getSegmentMethod(line);\n\n  var _iterator14 = _createForOfIteratorHelper(segments),\n      _step14;\n\n  try {\n    for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n      var segment = _step14.value;\n      setStyle(ctx, options, segment.style);\n      ctx.beginPath();\n\n      if (segmentMethod(ctx, line, segment, {\n        start: start,\n        end: start + count - 1\n      })) {\n        ctx.closePath();\n      }\n\n      ctx.stroke();\n    }\n  } catch (err) {\n    _iterator14.e(err);\n  } finally {\n    _iterator14.f();\n  }\n}\n\nvar usePath2D = typeof Path2D === 'function';\n\nfunction _draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\n\nvar LineElement = /*#__PURE__*/function (_Element3) {\n  _inherits(LineElement, _Element3);\n\n  var _super13 = _createSuper(LineElement);\n\n  function LineElement(cfg) {\n    var _this23;\n\n    _classCallCheck(this, LineElement);\n\n    _this23 = _super13.call(this);\n    _this23.animated = true;\n    _this23.options = undefined;\n    _this23._chart = undefined;\n    _this23._loop = undefined;\n    _this23._fullLoop = undefined;\n    _this23._path = undefined;\n    _this23._points = undefined;\n    _this23._segments = undefined;\n    _this23._decimated = false;\n    _this23._pointsUpdated = false;\n    _this23._datasetIndex = undefined;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this23), cfg);\n    }\n\n    return _this23;\n  }\n\n  _createClass(LineElement, [{\n    key: \"updateControlPoints\",\n    value: function updateControlPoints(chartArea, indexAxis) {\n      var options = this.options;\n\n      if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n        var loop = options.spanGaps ? this._loop : this._fullLoop;\n\n        _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n\n        this._pointsUpdated = true;\n      }\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      var segments = this.segments;\n      var points = this.points;\n      return segments.length && points[segments[0].start];\n    }\n  }, {\n    key: \"last\",\n    value: function last() {\n      var segments = this.segments;\n      var points = this.points;\n      var count = segments.length;\n      return count && points[segments[count - 1].end];\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(point, property) {\n      var options = this.options;\n      var value = point[property];\n      var points = this.points;\n\n      var segments = _boundSegments(this, {\n        property: property,\n        start: value,\n        end: value\n      });\n\n      if (!segments.length) {\n        return;\n      }\n\n      var result = [];\n\n      var _interpolate = _getInterpolationMethod(options);\n\n      var i, ilen;\n\n      for (i = 0, ilen = segments.length; i < ilen; ++i) {\n        var _segments$i = segments[i],\n            start = _segments$i.start,\n            end = _segments$i.end;\n        var p1 = points[start];\n        var p2 = points[end];\n\n        if (p1 === p2) {\n          result.push(p1);\n          continue;\n        }\n\n        var t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n\n        var interpolated = _interpolate(p1, p2, t, options.stepped);\n\n        interpolated[property] = point[property];\n        result.push(interpolated);\n      }\n\n      return result.length === 1 ? result[0] : result;\n    }\n  }, {\n    key: \"pathSegment\",\n    value: function pathSegment(ctx, segment, params) {\n      var segmentMethod = _getSegmentMethod(this);\n\n      return segmentMethod(ctx, this, segment, params);\n    }\n  }, {\n    key: \"path\",\n    value: function path(ctx, start, count) {\n      var segments = this.segments;\n\n      var segmentMethod = _getSegmentMethod(this);\n\n      var loop = this._loop;\n      start = start || 0;\n      count = count || this.points.length - start;\n\n      var _iterator15 = _createForOfIteratorHelper(segments),\n          _step15;\n\n      try {\n        for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n          var segment = _step15.value;\n          loop &= segmentMethod(ctx, this, segment, {\n            start: start,\n            end: start + count - 1\n          });\n        }\n      } catch (err) {\n        _iterator15.e(err);\n      } finally {\n        _iterator15.f();\n      }\n\n      return !!loop;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx, chartArea, start, count) {\n      var options = this.options || {};\n      var points = this.points || [];\n\n      if (points.length && options.borderWidth) {\n        ctx.save();\n\n        _draw(ctx, this, start, count);\n\n        ctx.restore();\n      }\n\n      if (this.animated) {\n        this._pointsUpdated = false;\n        this._path = undefined;\n      }\n    }\n  }, {\n    key: \"points\",\n    set: function set(points) {\n      this._points = points;\n      delete this._segments;\n      delete this._path;\n      this._pointsUpdated = false;\n    },\n    get: function get() {\n      return this._points;\n    }\n  }, {\n    key: \"segments\",\n    get: function get() {\n      return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n    }\n  }]);\n\n  return LineElement;\n}(Element);\n\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: function _indexable(name) {\n    return name !== 'borderDash' && name !== 'fill';\n  }\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  var options = el.options;\n\n  var _el$getProps = el.getProps([axis], useFinalPosition),\n      value = _el$getProps[axis];\n\n  return Math.abs(pos - value) < options.radius + options.hitRadius;\n}\n\nvar PointElement = /*#__PURE__*/function (_Element4) {\n  _inherits(PointElement, _Element4);\n\n  var _super14 = _createSuper(PointElement);\n\n  function PointElement(cfg) {\n    var _this24;\n\n    _classCallCheck(this, PointElement);\n\n    _this24 = _super14.call(this);\n    _this24.options = undefined;\n    _this24.parsed = undefined;\n    _this24.skip = undefined;\n    _this24.stop = undefined;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this24), cfg);\n    }\n\n    return _this24;\n  }\n\n  _createClass(PointElement, [{\n    key: \"inRange\",\n    value: function inRange(mouseX, mouseY, useFinalPosition) {\n      var options = this.options;\n\n      var _this$getProps4 = this.getProps(['x', 'y'], useFinalPosition),\n          x = _this$getProps4.x,\n          y = _this$getProps4.y;\n\n      return Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2) < Math.pow(options.hitRadius + options.radius, 2);\n    }\n  }, {\n    key: \"inXRange\",\n    value: function inXRange(mouseX, useFinalPosition) {\n      return inRange$1(this, mouseX, 'x', useFinalPosition);\n    }\n  }, {\n    key: \"inYRange\",\n    value: function inYRange(mouseY, useFinalPosition) {\n      return inRange$1(this, mouseY, 'y', useFinalPosition);\n    }\n  }, {\n    key: \"getCenterPoint\",\n    value: function getCenterPoint(useFinalPosition) {\n      var _this$getProps5 = this.getProps(['x', 'y'], useFinalPosition),\n          x = _this$getProps5.x,\n          y = _this$getProps5.y;\n\n      return {\n        x: x,\n        y: y\n      };\n    }\n  }, {\n    key: \"size\",\n    value: function size(options) {\n      options = options || this.options || {};\n      var radius = options.radius || 0;\n      radius = Math.max(radius, radius && options.hoverRadius || 0);\n      var borderWidth = radius && options.borderWidth || 0;\n      return (radius + borderWidth) * 2;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx, area) {\n      var options = this.options;\n\n      if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n        return;\n      }\n\n      ctx.strokeStyle = options.borderColor;\n      ctx.lineWidth = options.borderWidth;\n      ctx.fillStyle = options.backgroundColor;\n      drawPoint(ctx, options, this.x, this.y);\n    }\n  }, {\n    key: \"getRange\",\n    value: function getRange() {\n      var options = this.options || {};\n      return options.radius + options.hitRadius;\n    }\n  }]);\n\n  return PointElement;\n}(Element);\n\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  var _bar$getProps = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition),\n      x = _bar$getProps.x,\n      y = _bar$getProps.y,\n      base = _bar$getProps.base,\n      width = _bar$getProps.width,\n      height = _bar$getProps.height;\n\n  var left, right, top, bottom, half;\n\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom\n  };\n}\n\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\n\nfunction parseBorderWidth(bar, maxW, maxH) {\n  var value = bar.options.borderWidth;\n  var skip = bar.borderSkipped;\n  var o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\n\nfunction parseBorderRadius(bar, maxW, maxH) {\n  var _bar$getProps2 = bar.getProps(['enableBorderRadius']),\n      enableBorderRadius = _bar$getProps2.enableBorderRadius;\n\n  var value = bar.options.borderRadius;\n  var o = toTRBLCorners(value);\n  var maxR = Math.min(maxW, maxH);\n  var skip = bar.borderSkipped;\n  var enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\n\nfunction boundingRects(bar) {\n  var bounds = getBarBounds(bar);\n  var width = bounds.right - bounds.left;\n  var height = bounds.bottom - bounds.top;\n  var border = parseBorderWidth(bar, width / 2, height / 2);\n  var radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius: radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r))\n      }\n    }\n  };\n}\n\nfunction _inRange(bar, x, y, useFinalPosition) {\n  var skipX = x === null;\n  var skipY = y === null;\n  var skipBoth = skipX && skipY;\n  var bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds && (skipX || x >= bounds.left && x <= bounds.right) && (skipY || y >= bounds.top && y <= bounds.bottom);\n}\n\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\n\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\n\nfunction inflateRect(rect, amount) {\n  var refRect = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var x = rect.x !== refRect.x ? -amount : 0;\n  var y = rect.y !== refRect.y ? -amount : 0;\n  var w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  var h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\n\nvar BarElement = /*#__PURE__*/function (_Element5) {\n  _inherits(BarElement, _Element5);\n\n  var _super15 = _createSuper(BarElement);\n\n  function BarElement(cfg) {\n    var _this25;\n\n    _classCallCheck(this, BarElement);\n\n    _this25 = _super15.call(this);\n    _this25.options = undefined;\n    _this25.horizontal = undefined;\n    _this25.base = undefined;\n    _this25.width = undefined;\n    _this25.height = undefined;\n    _this25.inflateAmount = undefined;\n\n    if (cfg) {\n      Object.assign(_assertThisInitialized(_this25), cfg);\n    }\n\n    return _this25;\n  }\n\n  _createClass(BarElement, [{\n    key: \"draw\",\n    value: function draw(ctx) {\n      var inflateAmount = this.inflateAmount,\n          _this$options12 = this.options,\n          borderColor = _this$options12.borderColor,\n          backgroundColor = _this$options12.backgroundColor;\n\n      var _boundingRects = boundingRects(this),\n          inner = _boundingRects.inner,\n          outer = _boundingRects.outer;\n\n      var addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n      ctx.save();\n\n      if (outer.w !== inner.w || outer.h !== inner.h) {\n        ctx.beginPath();\n        addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n        ctx.clip();\n        addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n        ctx.fillStyle = borderColor;\n        ctx.fill('evenodd');\n      }\n\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(inner, inflateAmount));\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }, {\n    key: \"inRange\",\n    value: function inRange(mouseX, mouseY, useFinalPosition) {\n      return _inRange(this, mouseX, mouseY, useFinalPosition);\n    }\n  }, {\n    key: \"inXRange\",\n    value: function inXRange(mouseX, useFinalPosition) {\n      return _inRange(this, mouseX, null, useFinalPosition);\n    }\n  }, {\n    key: \"inYRange\",\n    value: function inYRange(mouseY, useFinalPosition) {\n      return _inRange(this, null, mouseY, useFinalPosition);\n    }\n  }, {\n    key: \"getCenterPoint\",\n    value: function getCenterPoint(useFinalPosition) {\n      var _this$getProps6 = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition),\n          x = _this$getProps6.x,\n          y = _this$getProps6.y,\n          base = _this$getProps6.base,\n          horizontal = _this$getProps6.horizontal;\n\n      return {\n        x: horizontal ? (x + base) / 2 : x,\n        y: horizontal ? y : (y + base) / 2\n      };\n    }\n  }, {\n    key: \"getRange\",\n    value: function getRange(axis) {\n      return axis === 'x' ? this.width / 2 : this.height / 2;\n    }\n  }]);\n\n  return BarElement;\n}(Element);\n\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  inflateAmount: 'auto',\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nvar elements = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ArcElement: ArcElement,\n  LineElement: LineElement,\n  PointElement: PointElement,\n  BarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  var samples = options.samples || availableWidth;\n\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n\n  var decimated = [];\n  var bucketWidth = (count - 2) / (samples - 2);\n  var sampledIndex = 0;\n  var endIndex = start + count - 1;\n  var a = start;\n  var i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n\n  for (i = 0; i < samples - 2; i++) {\n    var avgX = 0;\n    var avgY = 0;\n    var j = void 0;\n    var avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    var avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    var avgRangeLength = avgRangeEnd - avgRangeStart;\n\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    var rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    var rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    var _data$a = data[a],\n        pointAx = _data$a.x,\n        pointAy = _data$a.y;\n    maxArea = area = -1;\n\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs((pointAx - avgX) * (data[j].y - pointAy) - (pointAx - data[j].x) * (avgY - pointAy));\n\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\n\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  var avgX = 0;\n  var countX = 0;\n  var i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  var decimated = [];\n  var endIndex = start + count - 1;\n  var xMin = data[start].x;\n  var xMax = data[endIndex].x;\n  var dx = xMax - xMin;\n\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    var truncX = x | 0;\n\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      var lastIndex = i - 1;\n\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        var intermediateIndex1 = Math.min(minIndex, maxIndex);\n        var intermediateIndex2 = Math.max(minIndex, maxIndex);\n\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push(_objectSpread(_objectSpread({}, data[intermediateIndex1]), {}, {\n            x: avgX\n          }));\n        }\n\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push(_objectSpread(_objectSpread({}, data[intermediateIndex2]), {}, {\n            x: avgX\n          }));\n        }\n      }\n\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n\n  return decimated;\n}\n\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    var data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {\n      value: data\n    });\n  }\n}\n\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach(function (dataset) {\n    cleanDecimatedDataset(dataset);\n  });\n}\n\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  var pointCount = points.length;\n  var start = 0;\n  var count;\n  var iScale = meta.iScale;\n\n  var _iScale$getUserBounds2 = iScale.getUserBounds(),\n      min = _iScale$getUserBounds2.min,\n      max = _iScale$getUserBounds2.max,\n      minDefined = _iScale$getUserBounds2.minDefined,\n      maxDefined = _iScale$getUserBounds2.maxDefined;\n\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n\n  return {\n    start: start,\n    count: count\n  };\n}\n\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false\n  },\n  beforeElementsUpdate: function beforeElementsUpdate(chart, args, options) {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n\n    var availableWidth = chart.width;\n    chart.data.datasets.forEach(function (dataset, datasetIndex) {\n      var _data = dataset._data,\n          indexAxis = dataset.indexAxis;\n      var meta = chart.getDatasetMeta(datasetIndex);\n      var data = _data || dataset.data;\n\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n\n      if (meta.type !== 'line') {\n        return;\n      }\n\n      var xAxis = chart.scales[meta.xAxisID];\n\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n\n      if (chart.options.parsing) {\n        return;\n      }\n\n      var _getStartAndCountOfVi2 = getStartAndCountOfVisiblePointsSimplified(meta, data),\n          start = _getStartAndCountOfVi2.start,\n          count = _getStartAndCountOfVi2.count;\n\n      var threshold = options.threshold || 4 * availableWidth;\n\n      if (count <= threshold) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function get() {\n            return this._decimated;\n          },\n          set: function set(d) {\n            this._data = d;\n          }\n        });\n      }\n\n      var decimated;\n\n      switch (options.algorithm) {\n        case 'lttb':\n          decimated = lttbDecimation(data, start, count, availableWidth, options);\n          break;\n\n        case 'min-max':\n          decimated = minMaxDecimation(data, start, count, availableWidth);\n          break;\n\n        default:\n          throw new Error(\"Unsupported decimation algorithm '\".concat(options.algorithm, \"'\"));\n      }\n\n      dataset._decimated = decimated;\n    });\n  },\n  destroy: function destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction getLineByIndex(chart, index) {\n  var meta = chart.getDatasetMeta(index);\n  var visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\n\nfunction parseFillOption(line) {\n  var options = line.options;\n  var fillOption = options.fill;\n  var fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n\n  if (fill === false || fill === null) {\n    return false;\n  }\n\n  if (fill === true) {\n    return 'origin';\n  }\n\n  return fill;\n}\n\nfunction decodeFill(line, index, count) {\n  var fill = parseFillOption(line);\n\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n\n  var target = parseFloat(fill);\n\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    if (fill[0] === '-' || fill[0] === '+') {\n      target = index + target;\n    }\n\n    if (target === index || target < 0 || target >= count) {\n      return false;\n    }\n\n    return target;\n  }\n\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\n\nfunction computeLinearBoundary(source) {\n  var _source$scale = source.scale,\n      scale = _source$scale === void 0 ? {} : _source$scale,\n      fill = source.fill;\n  var target = null;\n  var horizontal;\n\n  if (fill === 'start') {\n    target = scale.bottom;\n  } else if (fill === 'end') {\n    target = scale.top;\n  } else if (isObject(fill)) {\n    target = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    target = scale.getBasePixel();\n  }\n\n  if (isNumberFinite(target)) {\n    horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? target : null,\n      y: horizontal ? null : target\n    };\n  }\n\n  return null;\n}\n\nvar simpleArc = /*#__PURE__*/function () {\n  function simpleArc(opts) {\n    _classCallCheck(this, simpleArc);\n\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n\n  _createClass(simpleArc, [{\n    key: \"pathSegment\",\n    value: function pathSegment(ctx, bounds, opts) {\n      var x = this.x,\n          y = this.y,\n          radius = this.radius;\n      bounds = bounds || {\n        start: 0,\n        end: TAU\n      };\n      ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n      return !opts.bounds;\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(point) {\n      var x = this.x,\n          y = this.y,\n          radius = this.radius;\n      var angle = point.angle;\n      return {\n        x: x + Math.cos(angle) * radius,\n        y: y + Math.sin(angle) * radius,\n        angle: angle\n      };\n    }\n  }]);\n\n  return simpleArc;\n}();\n\nfunction computeCircularBoundary(source) {\n  var scale = source.scale,\n      fill = source.fill;\n  var options = scale.options;\n  var length = scale.getLabels().length;\n  var target = [];\n  var start = options.reverse ? scale.max : scale.min;\n  var end = options.reverse ? scale.min : scale.max;\n  var i, center, value;\n\n  if (fill === 'start') {\n    value = start;\n  } else if (fill === 'end') {\n    value = end;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n\n  if (options.grid.circular) {\n    center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n\n  for (i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n\n  return target;\n}\n\nfunction computeBoundary(source) {\n  var scale = source.scale || {};\n\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n\n  return computeLinearBoundary(source);\n}\n\nfunction findSegmentEnd(start, end, points) {\n  for (; end > start; end--) {\n    var point = points[end];\n\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n\n  return end;\n}\n\nfunction pointsFromSegments(boundary, line) {\n  var _ref5 = boundary || {},\n      _ref5$x = _ref5.x,\n      x = _ref5$x === void 0 ? null : _ref5$x,\n      _ref5$y = _ref5.y,\n      y = _ref5$y === void 0 ? null : _ref5$y;\n\n  var linePoints = line.points;\n  var points = [];\n  line.segments.forEach(function (_ref6) {\n    var start = _ref6.start,\n        end = _ref6.end;\n    end = findSegmentEnd(start, end, linePoints);\n    var first = linePoints[start];\n    var last = linePoints[end];\n\n    if (y !== null) {\n      points.push({\n        x: first.x,\n        y: y\n      });\n      points.push({\n        x: last.x,\n        y: y\n      });\n    } else if (x !== null) {\n      points.push({\n        x: x,\n        y: first.y\n      });\n      points.push({\n        x: x,\n        y: last.y\n      });\n    }\n  });\n  return points;\n}\n\nfunction buildStackLine(source) {\n  var scale = source.scale,\n      index = source.index,\n      line = source.line;\n  var points = [];\n  var segments = line.segments;\n  var sourcePoints = line.points;\n  var linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(createBoundaryLine({\n    x: null,\n    y: scale.bottom\n  }, line));\n\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n\n    for (var j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n\n  return new LineElement({\n    points: points,\n    options: {}\n  });\n}\n\nfunction getLinesBelow(scale, index) {\n  var below = [];\n  var metas = scale.getMatchingVisibleMetas('line');\n\n  for (var i = 0; i < metas.length; i++) {\n    var meta = metas[i];\n\n    if (meta.index === index) {\n      break;\n    }\n\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n\n  return below;\n}\n\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  var postponed = [];\n\n  for (var j = 0; j < linesBelow.length; j++) {\n    var line = linesBelow[j];\n\n    var _findPoint = findPoint(line, sourcePoint, 'x'),\n        first = _findPoint.first,\n        last = _findPoint.last,\n        point = _findPoint.point;\n\n    if (!point || first && last) {\n      continue;\n    }\n\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n\n      if (!last) {\n        break;\n      }\n    }\n  }\n\n  points.push.apply(points, postponed);\n}\n\nfunction findPoint(line, sourcePoint, property) {\n  var point = line.interpolate(sourcePoint, property);\n\n  if (!point) {\n    return {};\n  }\n\n  var pointValue = point[property];\n  var segments = line.segments;\n  var linePoints = line.points;\n  var first = false;\n  var last = false;\n\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n    var firstValue = linePoints[segment.start][property];\n    var lastValue = linePoints[segment.end][property];\n\n    if (pointValue >= firstValue && pointValue <= lastValue) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n\n  return {\n    first: first,\n    last: last,\n    point: point\n  };\n}\n\nfunction getTarget(source) {\n  var chart = source.chart,\n      fill = source.fill,\n      line = source.line;\n\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n\n  if (fill === 'stack') {\n    return buildStackLine(source);\n  }\n\n  if (fill === 'shape') {\n    return true;\n  }\n\n  var boundary = computeBoundary(source);\n\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n\n  return createBoundaryLine(boundary, line);\n}\n\nfunction createBoundaryLine(boundary, line) {\n  var points = [];\n  var _loop = false;\n\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = pointsFromSegments(boundary, line);\n  }\n\n  return points.length ? new LineElement({\n    points: points,\n    options: {\n      tension: 0\n    },\n    _loop: _loop,\n    _fullLoop: _loop\n  }) : null;\n}\n\nfunction resolveTarget(sources, index, propagate) {\n  var source = sources[index];\n  var fill = source.fill;\n  var visited = [index];\n  var target;\n\n  if (!propagate) {\n    return fill;\n  }\n\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n\n    target = sources[fill];\n\n    if (!target) {\n      return false;\n    }\n\n    if (target.visible) {\n      return fill;\n    }\n\n    visited.push(fill);\n    fill = target.fill;\n  }\n\n  return false;\n}\n\nfunction _clip(ctx, target, clipY) {\n  ctx.beginPath();\n  target.path(ctx);\n  ctx.lineTo(target.last().x, clipY);\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\n\nfunction getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n\n  var start = first[property];\n  var end = last[property];\n\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n\n  return {\n    property: property,\n    start: start,\n    end: end\n  };\n}\n\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n\n  return a ? a[prop] : b ? b[prop] : 0;\n}\n\nfunction _segments(line, target, property) {\n  var segments = line.segments;\n  var points = line.points;\n  var tpoints = target.points;\n  var parts = [];\n\n  var _iterator16 = _createForOfIteratorHelper(segments),\n      _step16;\n\n  try {\n    for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n      var segment = _step16.value;\n      var start = segment.start,\n          end = segment.end;\n      end = findSegmentEnd(start, end, points);\n      var bounds = getBounds(property, points[start], points[end], segment.loop);\n\n      if (!target.segments) {\n        parts.push({\n          source: segment,\n          target: bounds,\n          start: points[start],\n          end: points[end]\n        });\n        continue;\n      }\n\n      var targetSegments = _boundSegments(target, bounds);\n\n      var _iterator17 = _createForOfIteratorHelper(targetSegments),\n          _step17;\n\n      try {\n        for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n          var tgt = _step17.value;\n          var subBounds = getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n\n          var fillSources = _boundSegment(segment, points, subBounds);\n\n          var _iterator18 = _createForOfIteratorHelper(fillSources),\n              _step18;\n\n          try {\n            for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n              var fillSource = _step18.value;\n              parts.push({\n                source: fillSource,\n                target: tgt,\n                start: _defineProperty({}, property, _getEdge(bounds, subBounds, 'start', Math.max)),\n                end: _defineProperty({}, property, _getEdge(bounds, subBounds, 'end', Math.min))\n              });\n            }\n          } catch (err) {\n            _iterator18.e(err);\n          } finally {\n            _iterator18.f();\n          }\n        }\n      } catch (err) {\n        _iterator17.e(err);\n      } finally {\n        _iterator17.f();\n      }\n    }\n  } catch (err) {\n    _iterator16.e(err);\n  } finally {\n    _iterator16.f();\n  }\n\n  return parts;\n}\n\nfunction clipBounds(ctx, scale, bounds) {\n  var _scale$chart$chartAre = scale.chart.chartArea,\n      top = _scale$chart$chartAre.top,\n      bottom = _scale$chart$chartAre.bottom;\n\n  var _ref7 = bounds || {},\n      property = _ref7.property,\n      start = _ref7.start,\n      end = _ref7.end;\n\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\n\nfunction interpolatedLineTo(ctx, target, point, property) {\n  var interpolatedPoint = target.interpolate(point, property);\n\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\n\nfunction _fill(ctx, cfg) {\n  var line = cfg.line,\n      target = cfg.target,\n      property = cfg.property,\n      color = cfg.color,\n      scale = cfg.scale;\n\n  var segments = _segments(line, target, property);\n\n  var _iterator19 = _createForOfIteratorHelper(segments),\n      _step19;\n\n  try {\n    for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n      var _step19$value = _step19.value,\n          src = _step19$value.source,\n          tgt = _step19$value.target,\n          start = _step19$value.start,\n          end = _step19$value.end;\n      var _src$style = src.style;\n      _src$style = _src$style === void 0 ? {} : _src$style;\n      var _src$style$background = _src$style.backgroundColor,\n          backgroundColor = _src$style$background === void 0 ? color : _src$style$background;\n      var notShape = target !== true;\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      clipBounds(ctx, scale, notShape && getBounds(property, start, end));\n      ctx.beginPath();\n      var lineLoop = !!line.pathSegment(ctx, src);\n      var loop = void 0;\n\n      if (notShape) {\n        if (lineLoop) {\n          ctx.closePath();\n        } else {\n          interpolatedLineTo(ctx, target, end, property);\n        }\n\n        var targetLoop = !!target.pathSegment(ctx, tgt, {\n          move: lineLoop,\n          reverse: true\n        });\n        loop = lineLoop && targetLoop;\n\n        if (!loop) {\n          interpolatedLineTo(ctx, target, start, property);\n        }\n      }\n\n      ctx.closePath();\n      ctx.fill(loop ? 'evenodd' : 'nonzero');\n      ctx.restore();\n    }\n  } catch (err) {\n    _iterator19.e(err);\n  } finally {\n    _iterator19.f();\n  }\n}\n\nfunction doFill(ctx, cfg) {\n  var line = cfg.line,\n      target = cfg.target,\n      above = cfg.above,\n      below = cfg.below,\n      area = cfg.area,\n      scale = cfg.scale;\n  var property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n\n  if (property === 'x' && below !== above) {\n    _clip(ctx, target, area.top);\n\n    _fill(ctx, {\n      line: line,\n      target: target,\n      color: above,\n      scale: scale,\n      property: property\n    });\n\n    ctx.restore();\n    ctx.save();\n\n    _clip(ctx, target, area.bottom);\n  }\n\n  _fill(ctx, {\n    line: line,\n    target: target,\n    color: below,\n    scale: scale,\n    property: property\n  });\n\n  ctx.restore();\n}\n\nfunction drawfill(ctx, source, area) {\n  var target = getTarget(source);\n  var line = source.line,\n      scale = source.scale,\n      axis = source.axis;\n  var lineOpts = line.options;\n  var fillOption = lineOpts.fill;\n  var color = lineOpts.backgroundColor;\n\n  var _ref8 = fillOption || {},\n      _ref8$above = _ref8.above,\n      above = _ref8$above === void 0 ? color : _ref8$above,\n      _ref8$below = _ref8.below,\n      below = _ref8$below === void 0 ? color : _ref8$below;\n\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {\n      line: line,\n      target: target,\n      above: above,\n      below: below,\n      area: area,\n      scale: scale,\n      axis: axis\n    });\n    unclipArea(ctx);\n  }\n}\n\nvar plugin_filler = {\n  id: 'filler',\n  afterDatasetsUpdate: function afterDatasetsUpdate(chart, _args, options) {\n    var count = (chart.data.datasets || []).length;\n    var sources = [];\n    var meta, i, line, source;\n\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: decodeFill(line, i, count),\n          chart: chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line: line\n        };\n      }\n\n      meta.$filler = source;\n      sources.push(source);\n    }\n\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n\n      if (!source || source.fill === false) {\n        continue;\n      }\n\n      source.fill = resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw: function beforeDraw(chart, _args, options) {\n    var draw = options.drawTime === 'beforeDraw';\n    var metasets = chart.getSortedVisibleDatasetMetas();\n    var area = chart.chartArea;\n\n    for (var i = metasets.length - 1; i >= 0; --i) {\n      var source = metasets[i].$filler;\n\n      if (!source) {\n        continue;\n      }\n\n      source.line.updateControlPoints(area, source.axis);\n\n      if (draw) {\n        drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw: function beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n\n    var metasets = chart.getSortedVisibleDatasetMetas();\n\n    for (var i = metasets.length - 1; i >= 0; --i) {\n      var source = metasets[i].$filler;\n\n      if (source) {\n        drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw: function beforeDatasetDraw(chart, args, options) {\n    var source = args.meta.$filler;\n\n    if (!source || source.fill === false || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n\n    drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nvar getBoxSize = function getBoxSize(labelOpts, fontSize) {\n  var _labelOpts$boxHeight = labelOpts.boxHeight,\n      boxHeight = _labelOpts$boxHeight === void 0 ? fontSize : _labelOpts$boxHeight,\n      _labelOpts$boxWidth = labelOpts.boxWidth,\n      boxWidth = _labelOpts$boxWidth === void 0 ? fontSize : _labelOpts$boxWidth;\n\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = Math.min(boxWidth, fontSize);\n  }\n\n  return {\n    boxWidth: boxWidth,\n    boxHeight: boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\n\nvar itemsEqual = function itemsEqual(a, b) {\n  return a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\n};\n\nvar Legend = /*#__PURE__*/function (_Element6) {\n  _inherits(Legend, _Element6);\n\n  var _super16 = _createSuper(Legend);\n\n  function Legend(config) {\n    var _this26;\n\n    _classCallCheck(this, Legend);\n\n    _this26 = _super16.call(this);\n    _this26._added = false;\n    _this26.legendHitBoxes = [];\n    _this26._hoveredItem = null;\n    _this26.doughnutMode = false;\n    _this26.chart = config.chart;\n    _this26.options = config.options;\n    _this26.ctx = config.ctx;\n    _this26.legendItems = undefined;\n    _this26.columnSizes = undefined;\n    _this26.lineWidths = undefined;\n    _this26.maxHeight = undefined;\n    _this26.maxWidth = undefined;\n    _this26.top = undefined;\n    _this26.bottom = undefined;\n    _this26.left = undefined;\n    _this26.right = undefined;\n    _this26.height = undefined;\n    _this26.width = undefined;\n    _this26._margins = undefined;\n    _this26.position = undefined;\n    _this26.weight = undefined;\n    _this26.fullSize = undefined;\n    return _this26;\n  }\n\n  _createClass(Legend, [{\n    key: \"update\",\n    value: function update(maxWidth, maxHeight, margins) {\n      this.maxWidth = maxWidth;\n      this.maxHeight = maxHeight;\n      this._margins = margins;\n      this.setDimensions();\n      this.buildLabels();\n      this.fit();\n    }\n  }, {\n    key: \"setDimensions\",\n    value: function setDimensions() {\n      if (this.isHorizontal()) {\n        this.width = this.maxWidth;\n        this.left = this._margins.left;\n        this.right = this.width;\n      } else {\n        this.height = this.maxHeight;\n        this.top = this._margins.top;\n        this.bottom = this.height;\n      }\n    }\n  }, {\n    key: \"buildLabels\",\n    value: function buildLabels() {\n      var _this27 = this;\n\n      var labelOpts = this.options.labels || {};\n      var legendItems = callback(labelOpts.generateLabels, [this.chart], this) || [];\n\n      if (labelOpts.filter) {\n        legendItems = legendItems.filter(function (item) {\n          return labelOpts.filter(item, _this27.chart.data);\n        });\n      }\n\n      if (labelOpts.sort) {\n        legendItems = legendItems.sort(function (a, b) {\n          return labelOpts.sort(a, b, _this27.chart.data);\n        });\n      }\n\n      if (this.options.reverse) {\n        legendItems.reverse();\n      }\n\n      this.legendItems = legendItems;\n    }\n  }, {\n    key: \"fit\",\n    value: function fit() {\n      var options = this.options,\n          ctx = this.ctx;\n\n      if (!options.display) {\n        this.width = this.height = 0;\n        return;\n      }\n\n      var labelOpts = options.labels;\n      var labelFont = toFont(labelOpts.font);\n      var fontSize = labelFont.size;\n\n      var titleHeight = this._computeTitleHeight();\n\n      var _getBoxSize = getBoxSize(labelOpts, fontSize),\n          boxWidth = _getBoxSize.boxWidth,\n          itemHeight = _getBoxSize.itemHeight;\n\n      var width, height;\n      ctx.font = labelFont.string;\n\n      if (this.isHorizontal()) {\n        width = this.maxWidth;\n        height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n      } else {\n        height = this.maxHeight;\n        width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n      }\n\n      this.width = Math.min(width, options.maxWidth || this.maxWidth);\n      this.height = Math.min(height, options.maxHeight || this.maxHeight);\n    }\n  }, {\n    key: \"_fitRows\",\n    value: function _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n      var ctx = this.ctx,\n          maxWidth = this.maxWidth,\n          padding = this.options.labels.padding;\n      var hitboxes = this.legendHitBoxes = [];\n      var lineWidths = this.lineWidths = [0];\n      var lineHeight = itemHeight + padding;\n      var totalHeight = titleHeight;\n      ctx.textAlign = 'left';\n      ctx.textBaseline = 'middle';\n      var row = -1;\n      var top = -lineHeight;\n      this.legendItems.forEach(function (legendItem, i) {\n        var itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n\n        if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n          totalHeight += lineHeight;\n          lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n          top += lineHeight;\n          row++;\n        }\n\n        hitboxes[i] = {\n          left: 0,\n          top: top,\n          row: row,\n          width: itemWidth,\n          height: itemHeight\n        };\n        lineWidths[lineWidths.length - 1] += itemWidth + padding;\n      });\n      return totalHeight;\n    }\n  }, {\n    key: \"_fitCols\",\n    value: function _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n      var ctx = this.ctx,\n          maxHeight = this.maxHeight,\n          padding = this.options.labels.padding;\n      var hitboxes = this.legendHitBoxes = [];\n      var columnSizes = this.columnSizes = [];\n      var heightLimit = maxHeight - titleHeight;\n      var totalWidth = padding;\n      var currentColWidth = 0;\n      var currentColHeight = 0;\n      var left = 0;\n      var col = 0;\n      this.legendItems.forEach(function (legendItem, i) {\n        var itemWidth = boxWidth + fontSize / 2 + ctx.measureText(legendItem.text).width;\n\n        if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n          totalWidth += currentColWidth + padding;\n          columnSizes.push({\n            width: currentColWidth,\n            height: currentColHeight\n          });\n          left += currentColWidth + padding;\n          col++;\n          currentColWidth = currentColHeight = 0;\n        }\n\n        hitboxes[i] = {\n          left: left,\n          top: currentColHeight,\n          col: col,\n          width: itemWidth,\n          height: itemHeight\n        };\n        currentColWidth = Math.max(currentColWidth, itemWidth);\n        currentColHeight += itemHeight + padding;\n      });\n      totalWidth += currentColWidth;\n      columnSizes.push({\n        width: currentColWidth,\n        height: currentColHeight\n      });\n      return totalWidth;\n    }\n  }, {\n    key: \"adjustHitBoxes\",\n    value: function adjustHitBoxes() {\n      if (!this.options.display) {\n        return;\n      }\n\n      var titleHeight = this._computeTitleHeight();\n\n      var hitboxes = this.legendHitBoxes,\n          _this$options13 = this.options,\n          align = _this$options13.align,\n          padding = _this$options13.labels.padding,\n          rtl = _this$options13.rtl;\n      var rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n\n      if (this.isHorizontal()) {\n        var row = 0;\n\n        var left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n\n        var _iterator20 = _createForOfIteratorHelper(hitboxes),\n            _step20;\n\n        try {\n          for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n            var hitbox = _step20.value;\n\n            if (row !== hitbox.row) {\n              row = hitbox.row;\n              left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n            }\n\n            hitbox.top += this.top + titleHeight + padding;\n            hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n            left += hitbox.width + padding;\n          }\n        } catch (err) {\n          _iterator20.e(err);\n        } finally {\n          _iterator20.f();\n        }\n      } else {\n        var col = 0;\n\n        var top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n\n        var _iterator21 = _createForOfIteratorHelper(hitboxes),\n            _step21;\n\n        try {\n          for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {\n            var _hitbox = _step21.value;\n\n            if (_hitbox.col !== col) {\n              col = _hitbox.col;\n              top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n            }\n\n            _hitbox.top = top;\n            _hitbox.left += this.left + padding;\n            _hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(_hitbox.left), _hitbox.width);\n            top += _hitbox.height + padding;\n          }\n        } catch (err) {\n          _iterator21.e(err);\n        } finally {\n          _iterator21.f();\n        }\n      }\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      return this.options.position === 'top' || this.options.position === 'bottom';\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      if (this.options.display) {\n        var ctx = this.ctx;\n        clipArea(ctx, this);\n\n        this._draw();\n\n        unclipArea(ctx);\n      }\n    }\n  }, {\n    key: \"_draw\",\n    value: function _draw() {\n      var _this28 = this;\n\n      var opts = this.options,\n          columnSizes = this.columnSizes,\n          lineWidths = this.lineWidths,\n          ctx = this.ctx;\n      var align = opts.align,\n          labelOpts = opts.labels;\n      var defaultColor = defaults.color;\n      var rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n      var labelFont = toFont(labelOpts.font);\n      var fontColor = labelOpts.color,\n          padding = labelOpts.padding;\n      var fontSize = labelFont.size;\n      var halfFontSize = fontSize / 2;\n      var cursor;\n      this.drawTitle();\n      ctx.textAlign = rtlHelper.textAlign('left');\n      ctx.textBaseline = 'middle';\n      ctx.lineWidth = 0.5;\n      ctx.font = labelFont.string;\n\n      var _getBoxSize2 = getBoxSize(labelOpts, fontSize),\n          boxWidth = _getBoxSize2.boxWidth,\n          boxHeight = _getBoxSize2.boxHeight,\n          itemHeight = _getBoxSize2.itemHeight;\n\n      var drawLegendBox = function drawLegendBox(x, y, legendItem) {\n        if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n          return;\n        }\n\n        ctx.save();\n        var lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n        ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n        ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n        ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n        ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n        ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n\n        if (labelOpts.usePointStyle) {\n          var drawOptions = {\n            radius: boxWidth * Math.SQRT2 / 2,\n            pointStyle: legendItem.pointStyle,\n            rotation: legendItem.rotation,\n            borderWidth: lineWidth\n          };\n          var centerX = rtlHelper.xPlus(x, boxWidth / 2);\n          var centerY = y + halfFontSize;\n          drawPoint(ctx, drawOptions, centerX, centerY);\n        } else {\n          var yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n          var xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n          var borderRadius = toTRBLCorners(legendItem.borderRadius);\n          ctx.beginPath();\n\n          if (Object.values(borderRadius).some(function (v) {\n            return v !== 0;\n          })) {\n            addRoundedRectPath(ctx, {\n              x: xBoxLeft,\n              y: yBoxTop,\n              w: boxWidth,\n              h: boxHeight,\n              radius: borderRadius\n            });\n          } else {\n            ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n          }\n\n          ctx.fill();\n\n          if (lineWidth !== 0) {\n            ctx.stroke();\n          }\n        }\n\n        ctx.restore();\n      };\n\n      var fillText = function fillText(x, y, legendItem) {\n        renderText(ctx, legendItem.text, x, y + itemHeight / 2, labelFont, {\n          strikethrough: legendItem.hidden,\n          textAlign: rtlHelper.textAlign(legendItem.textAlign)\n        });\n      };\n\n      var isHorizontal = this.isHorizontal();\n\n      var titleHeight = this._computeTitleHeight();\n\n      if (isHorizontal) {\n        cursor = {\n          x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n          y: this.top + padding + titleHeight,\n          line: 0\n        };\n      } else {\n        cursor = {\n          x: this.left + padding,\n          y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n          line: 0\n        };\n      }\n\n      overrideTextDirection(this.ctx, opts.textDirection);\n      var lineHeight = itemHeight + padding;\n      this.legendItems.forEach(function (legendItem, i) {\n        ctx.strokeStyle = legendItem.fontColor || fontColor;\n        ctx.fillStyle = legendItem.fontColor || fontColor;\n        var textWidth = ctx.measureText(legendItem.text).width;\n        var textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n        var width = boxWidth + halfFontSize + textWidth;\n        var x = cursor.x;\n        var y = cursor.y;\n        rtlHelper.setWidth(_this28.width);\n\n        if (isHorizontal) {\n          if (i > 0 && x + width + padding > _this28.right) {\n            y = cursor.y += lineHeight;\n            cursor.line++;\n            x = cursor.x = _alignStartEnd(align, _this28.left + padding, _this28.right - lineWidths[cursor.line]);\n          }\n        } else if (i > 0 && y + lineHeight > _this28.bottom) {\n          x = cursor.x = x + columnSizes[cursor.line].width + padding;\n          cursor.line++;\n          y = cursor.y = _alignStartEnd(align, _this28.top + titleHeight + padding, _this28.bottom - columnSizes[cursor.line].height);\n        }\n\n        var realX = rtlHelper.x(x);\n        drawLegendBox(realX, y, legendItem);\n        x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : _this28.right, opts.rtl);\n        fillText(rtlHelper.x(x), y, legendItem);\n\n        if (isHorizontal) {\n          cursor.x += width + padding;\n        } else {\n          cursor.y += lineHeight;\n        }\n      });\n      restoreTextDirection(this.ctx, opts.textDirection);\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle() {\n      var opts = this.options;\n      var titleOpts = opts.title;\n      var titleFont = toFont(titleOpts.font);\n      var titlePadding = toPadding(titleOpts.padding);\n\n      if (!titleOpts.display) {\n        return;\n      }\n\n      var rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n      var ctx = this.ctx;\n      var position = titleOpts.position;\n      var halfFontSize = titleFont.size / 2;\n      var topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n      var y;\n      var left = this.left;\n      var maxWidth = this.width;\n\n      if (this.isHorizontal()) {\n        maxWidth = Math.max.apply(Math, _toConsumableArray(this.lineWidths));\n        y = this.top + topPaddingPlusHalfFontSize;\n        left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n      } else {\n        var maxHeight = this.columnSizes.reduce(function (acc, size) {\n          return Math.max(acc, size.height);\n        }, 0);\n        y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n      }\n\n      var x = _alignStartEnd(position, left, left + maxWidth);\n\n      ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n      ctx.textBaseline = 'middle';\n      ctx.strokeStyle = titleOpts.color;\n      ctx.fillStyle = titleOpts.color;\n      ctx.font = titleFont.string;\n      renderText(ctx, titleOpts.text, x, y, titleFont);\n    }\n  }, {\n    key: \"_computeTitleHeight\",\n    value: function _computeTitleHeight() {\n      var titleOpts = this.options.title;\n      var titleFont = toFont(titleOpts.font);\n      var titlePadding = toPadding(titleOpts.padding);\n      return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n    }\n  }, {\n    key: \"_getLegendItemAt\",\n    value: function _getLegendItemAt(x, y) {\n      var i, hitBox, lh;\n\n      if (x >= this.left && x <= this.right && y >= this.top && y <= this.bottom) {\n        lh = this.legendHitBoxes;\n\n        for (i = 0; i < lh.length; ++i) {\n          hitBox = lh[i];\n\n          if (x >= hitBox.left && x <= hitBox.left + hitBox.width && y >= hitBox.top && y <= hitBox.top + hitBox.height) {\n            return this.legendItems[i];\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(e) {\n      var opts = this.options;\n\n      if (!isListened(e.type, opts)) {\n        return;\n      }\n\n      var hoveredItem = this._getLegendItemAt(e.x, e.y);\n\n      if (e.type === 'mousemove') {\n        var previous = this._hoveredItem;\n        var sameItem = itemsEqual(previous, hoveredItem);\n\n        if (previous && !sameItem) {\n          callback(opts.onLeave, [e, previous, this], this);\n        }\n\n        this._hoveredItem = hoveredItem;\n\n        if (hoveredItem && !sameItem) {\n          callback(opts.onHover, [e, hoveredItem, this], this);\n        }\n      } else if (hoveredItem) {\n        callback(opts.onClick, [e, hoveredItem, this], this);\n      }\n    }\n  }]);\n\n  return Legend;\n}(Element);\n\nfunction isListened(type, opts) {\n  if (type === 'mousemove' && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n\n  return false;\n}\n\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start: function start(chart, _args, options) {\n    var legend = chart.legend = new Legend({\n      ctx: chart.ctx,\n      options: options,\n      chart: chart\n    });\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop: function stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    var legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate: function afterUpdate(chart) {\n    var legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent: function afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick: function onClick(e, legendItem, legend) {\n      var index = legendItem.datasetIndex;\n      var ci = legend.chart;\n\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: function color(ctx) {\n        return ctx.chart.options.color;\n      },\n      boxWidth: 40,\n      padding: 10,\n      generateLabels: function generateLabels(chart) {\n        var datasets = chart.data.datasets;\n        var _chart$legend$options = chart.legend.options.labels,\n            usePointStyle = _chart$legend$options.usePointStyle,\n            pointStyle = _chart$legend$options.pointStyle,\n            textAlign = _chart$legend$options.textAlign,\n            color = _chart$legend$options.color;\n        return chart._getSortedDatasetMetas().map(function (meta) {\n          var style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          var borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: function color(ctx) {\n        return ctx.chart.options.color;\n      },\n      display: false,\n      position: 'center',\n      text: ''\n    }\n  },\n  descriptors: {\n    _scriptable: function _scriptable(name) {\n      return !name.startsWith('on');\n    },\n    labels: {\n      _scriptable: function _scriptable(name) {\n        return !['generateLabels', 'filter', 'sort'].includes(name);\n      }\n    }\n  }\n};\n\nvar Title = /*#__PURE__*/function (_Element7) {\n  _inherits(Title, _Element7);\n\n  var _super17 = _createSuper(Title);\n\n  function Title(config) {\n    var _this29;\n\n    _classCallCheck(this, Title);\n\n    _this29 = _super17.call(this);\n    _this29.chart = config.chart;\n    _this29.options = config.options;\n    _this29.ctx = config.ctx;\n    _this29._padding = undefined;\n    _this29.top = undefined;\n    _this29.bottom = undefined;\n    _this29.left = undefined;\n    _this29.right = undefined;\n    _this29.width = undefined;\n    _this29.height = undefined;\n    _this29.position = undefined;\n    _this29.weight = undefined;\n    _this29.fullSize = undefined;\n    return _this29;\n  }\n\n  _createClass(Title, [{\n    key: \"update\",\n    value: function update(maxWidth, maxHeight) {\n      var opts = this.options;\n      this.left = 0;\n      this.top = 0;\n\n      if (!opts.display) {\n        this.width = this.height = this.right = this.bottom = 0;\n        return;\n      }\n\n      this.width = this.right = maxWidth;\n      this.height = this.bottom = maxHeight;\n      var lineCount = isArray(opts.text) ? opts.text.length : 1;\n      this._padding = toPadding(opts.padding);\n\n      var textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n\n      if (this.isHorizontal()) {\n        this.height = textSize;\n      } else {\n        this.width = textSize;\n      }\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      var pos = this.options.position;\n      return pos === 'top' || pos === 'bottom';\n    }\n  }, {\n    key: \"_drawArgs\",\n    value: function _drawArgs(offset) {\n      var top = this.top,\n          left = this.left,\n          bottom = this.bottom,\n          right = this.right,\n          options = this.options;\n      var align = options.align;\n      var rotation = 0;\n      var maxWidth, titleX, titleY;\n\n      if (this.isHorizontal()) {\n        titleX = _alignStartEnd(align, left, right);\n        titleY = top + offset;\n        maxWidth = right - left;\n      } else {\n        if (options.position === 'left') {\n          titleX = left + offset;\n          titleY = _alignStartEnd(align, bottom, top);\n          rotation = PI * -0.5;\n        } else {\n          titleX = right - offset;\n          titleY = _alignStartEnd(align, top, bottom);\n          rotation = PI * 0.5;\n        }\n\n        maxWidth = bottom - top;\n      }\n\n      return {\n        titleX: titleX,\n        titleY: titleY,\n        maxWidth: maxWidth,\n        rotation: rotation\n      };\n    }\n  }, {\n    key: \"draw\",\n    value: function draw() {\n      var ctx = this.ctx;\n      var opts = this.options;\n\n      if (!opts.display) {\n        return;\n      }\n\n      var fontOpts = toFont(opts.font);\n      var lineHeight = fontOpts.lineHeight;\n      var offset = lineHeight / 2 + this._padding.top;\n\n      var _this$_drawArgs = this._drawArgs(offset),\n          titleX = _this$_drawArgs.titleX,\n          titleY = _this$_drawArgs.titleY,\n          maxWidth = _this$_drawArgs.maxWidth,\n          rotation = _this$_drawArgs.rotation;\n\n      renderText(ctx, opts.text, 0, 0, fontOpts, {\n        color: opts.color,\n        maxWidth: maxWidth,\n        rotation: rotation,\n        textAlign: _toLeftRightCenter(opts.align),\n        textBaseline: 'middle',\n        translation: [titleX, titleY]\n      });\n    }\n  }]);\n\n  return Title;\n}(Element);\n\nfunction createTitle(chart, titleOpts) {\n  var title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart: chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\n\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start: function start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop: function stop(chart) {\n    var titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    var title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold'\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false\n  }\n};\nvar map = new WeakMap();\nvar plugin_subtitle = {\n  id: 'subtitle',\n  start: function start(chart, _args, options) {\n    var title = new Title({\n      ctx: chart.ctx,\n      options: options,\n      chart: chart\n    });\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n  stop: function stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map[\"delete\"](chart);\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    var title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal'\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false\n  }\n};\nvar positioners = {\n  average: function average(items) {\n    if (!items.length) {\n      return false;\n    }\n\n    var i, len;\n    var x = 0;\n    var y = 0;\n    var count = 0;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      var el = items[i].element;\n\n      if (el && el.hasValue()) {\n        var pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest: function nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n\n    var x = eventPosition.x;\n    var y = eventPosition.y;\n    var minDistance = Number.POSITIVE_INFINITY;\n    var i, len, nearestElement;\n\n    for (i = 0, len = items.length; i < len; ++i) {\n      var el = items[i].element;\n\n      if (el && el.hasValue()) {\n        var center = el.getCenterPoint();\n\n        var _d = distanceBetweenPoints(eventPosition, center);\n\n        if (_d < minDistance) {\n          minDistance = _d;\n          nearestElement = el;\n        }\n      }\n    }\n\n    if (nearestElement) {\n      var tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n};\n\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n\n  return base;\n}\n\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n\n  return str;\n}\n\nfunction createTooltipItem(chart, item) {\n  var element = item.element,\n      datasetIndex = item.datasetIndex,\n      index = item.index;\n  var controller = chart.getDatasetMeta(datasetIndex).controller;\n\n  var _controller$getLabelA = controller.getLabelAndValue(index),\n      label = _controller$getLabelA.label,\n      value = _controller$getLabelA.value;\n\n  return {\n    chart: chart,\n    label: label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex: datasetIndex,\n    element: element\n  };\n}\n\nfunction getTooltipSize(tooltip, options) {\n  var ctx = tooltip._chart.ctx;\n  var body = tooltip.body,\n      footer = tooltip.footer,\n      title = tooltip.title;\n  var boxWidth = options.boxWidth,\n      boxHeight = options.boxHeight;\n  var bodyFont = toFont(options.bodyFont);\n  var titleFont = toFont(options.titleFont);\n  var footerFont = toFont(options.footerFont);\n  var titleLineCount = title.length;\n  var footerLineCount = footer.length;\n  var bodyLineItemCount = body.length;\n  var padding = toPadding(options.padding);\n  var height = padding.height;\n  var width = 0;\n  var combinedBodyLength = body.reduce(function (count, bodyItem) {\n    return count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length;\n  }, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight + (titleLineCount - 1) * options.titleSpacing + options.titleMarginBottom;\n  }\n\n  if (combinedBodyLength) {\n    var bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight + (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight + (combinedBodyLength - 1) * options.bodySpacing;\n  }\n\n  if (footerLineCount) {\n    height += options.footerMarginTop + footerLineCount * footerFont.lineHeight + (footerLineCount - 1) * options.footerSpacing;\n  }\n\n  var widthPadding = 0;\n\n  var maxLineWidth = function maxLineWidth(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? boxWidth + 2 + options.boxPadding : 0;\n  each(body, function (bodyItem) {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {\n    width: width,\n    height: height\n  };\n}\n\nfunction determineYAlign(chart, size) {\n  var y = size.y,\n      height = size.height;\n\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > chart.height - height / 2) {\n    return 'bottom';\n  }\n\n  return 'center';\n}\n\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  var x = size.x,\n      width = size.width;\n  var caret = options.caretSize + options.caretPadding;\n\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\n\nfunction determineXAlign(chart, options, size, yAlign) {\n  var x = size.x,\n      width = size.width;\n  var chartWidth = chart.width,\n      _chart$chartArea = chart.chartArea,\n      left = _chart$chartArea.left,\n      right = _chart$chartArea.right;\n  var xAlign = 'center';\n\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n\n  return xAlign;\n}\n\nfunction determineAlignment(chart, options, size) {\n  var yAlign = options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign: yAlign\n  };\n}\n\nfunction alignX(size, xAlign) {\n  var x = size.x,\n      width = size.width;\n\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= width / 2;\n  }\n\n  return x;\n}\n\nfunction alignY(size, yAlign, paddingAndSize) {\n  var y = size.y,\n      height = size.height;\n\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= height / 2;\n  }\n\n  return y;\n}\n\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  var caretSize = options.caretSize,\n      caretPadding = options.caretPadding,\n      cornerRadius = options.cornerRadius;\n  var xAlign = alignment.xAlign,\n      yAlign = alignment.yAlign;\n  var paddingAndSize = caretSize + caretPadding;\n\n  var _toTRBLCorners = toTRBLCorners(cornerRadius),\n      topLeft = _toTRBLCorners.topLeft,\n      topRight = _toTRBLCorners.topRight,\n      bottomLeft = _toTRBLCorners.bottomLeft,\n      bottomRight = _toTRBLCorners.bottomRight;\n\n  var x = alignX(size, xAlign);\n  var y = alignY(size, yAlign, paddingAndSize);\n\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretPadding;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretPadding;\n  }\n\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\n\nfunction getAlignedX(tooltip, align, options) {\n  var padding = toPadding(options.padding);\n  return align === 'center' ? tooltip.x + tooltip.width / 2 : align === 'right' ? tooltip.x + tooltip.width - padding.right : tooltip.x + padding.left;\n}\n\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\n\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip: tooltip,\n    tooltipItems: tooltipItems,\n    type: 'tooltip'\n  });\n}\n\nfunction overrideCallbacks(callbacks, context) {\n  var override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\n\nvar Tooltip = /*#__PURE__*/function (_Element8) {\n  _inherits(Tooltip, _Element8);\n\n  var _super18 = _createSuper(Tooltip);\n\n  function Tooltip(config) {\n    var _this30;\n\n    _classCallCheck(this, Tooltip);\n\n    _this30 = _super18.call(this);\n    _this30.opacity = 0;\n    _this30._active = [];\n    _this30._chart = config._chart;\n    _this30._eventPosition = undefined;\n    _this30._size = undefined;\n    _this30._cachedAnimations = undefined;\n    _this30._tooltipItems = [];\n    _this30.$animations = undefined;\n    _this30.$context = undefined;\n    _this30.options = config.options;\n    _this30.dataPoints = undefined;\n    _this30.title = undefined;\n    _this30.beforeBody = undefined;\n    _this30.body = undefined;\n    _this30.afterBody = undefined;\n    _this30.footer = undefined;\n    _this30.xAlign = undefined;\n    _this30.yAlign = undefined;\n    _this30.x = undefined;\n    _this30.y = undefined;\n    _this30.height = undefined;\n    _this30.width = undefined;\n    _this30.caretX = undefined;\n    _this30.caretY = undefined;\n    _this30.labelColors = undefined;\n    _this30.labelPointStyles = undefined;\n    _this30.labelTextColors = undefined;\n    return _this30;\n  }\n\n  _createClass(Tooltip, [{\n    key: \"initialize\",\n    value: function initialize(options) {\n      this.options = options;\n      this._cachedAnimations = undefined;\n      this.$context = undefined;\n    }\n  }, {\n    key: \"_resolveAnimations\",\n    value: function _resolveAnimations() {\n      var cached = this._cachedAnimations;\n\n      if (cached) {\n        return cached;\n      }\n\n      var chart = this._chart;\n      var options = this.options.setContext(this.getContext());\n      var opts = options.enabled && chart.options.animation && options.animations;\n      var animations = new Animations(this._chart, opts);\n\n      if (opts._cacheable) {\n        this._cachedAnimations = Object.freeze(animations);\n      }\n\n      return animations;\n    }\n  }, {\n    key: \"getContext\",\n    value: function getContext() {\n      return this.$context || (this.$context = createTooltipContext(this._chart.getContext(), this, this._tooltipItems));\n    }\n  }, {\n    key: \"getTitle\",\n    value: function getTitle(context, options) {\n      var callbacks = options.callbacks;\n      var beforeTitle = callbacks.beforeTitle.apply(this, [context]);\n      var title = callbacks.title.apply(this, [context]);\n      var afterTitle = callbacks.afterTitle.apply(this, [context]);\n      var lines = [];\n      lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n      lines = pushOrConcat(lines, splitNewlines(title));\n      lines = pushOrConcat(lines, splitNewlines(afterTitle));\n      return lines;\n    }\n  }, {\n    key: \"getBeforeBody\",\n    value: function getBeforeBody(tooltipItems, options) {\n      return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n    }\n  }, {\n    key: \"getBody\",\n    value: function getBody(tooltipItems, options) {\n      var _this31 = this;\n\n      var callbacks = options.callbacks;\n      var bodyItems = [];\n      each(tooltipItems, function (context) {\n        var bodyItem = {\n          before: [],\n          lines: [],\n          after: []\n        };\n        var scoped = overrideCallbacks(callbacks, context);\n        pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(_this31, context)));\n        pushOrConcat(bodyItem.lines, scoped.label.call(_this31, context));\n        pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(_this31, context)));\n        bodyItems.push(bodyItem);\n      });\n      return bodyItems;\n    }\n  }, {\n    key: \"getAfterBody\",\n    value: function getAfterBody(tooltipItems, options) {\n      return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n    }\n  }, {\n    key: \"getFooter\",\n    value: function getFooter(tooltipItems, options) {\n      var callbacks = options.callbacks;\n      var beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);\n      var footer = callbacks.footer.apply(this, [tooltipItems]);\n      var afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);\n      var lines = [];\n      lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n      lines = pushOrConcat(lines, splitNewlines(footer));\n      lines = pushOrConcat(lines, splitNewlines(afterFooter));\n      return lines;\n    }\n  }, {\n    key: \"_createItems\",\n    value: function _createItems(options) {\n      var _this32 = this;\n\n      var active = this._active;\n      var data = this._chart.data;\n      var labelColors = [];\n      var labelPointStyles = [];\n      var labelTextColors = [];\n      var tooltipItems = [];\n      var i, len;\n\n      for (i = 0, len = active.length; i < len; ++i) {\n        tooltipItems.push(createTooltipItem(this._chart, active[i]));\n      }\n\n      if (options.filter) {\n        tooltipItems = tooltipItems.filter(function (element, index, array) {\n          return options.filter(element, index, array, data);\n        });\n      }\n\n      if (options.itemSort) {\n        tooltipItems = tooltipItems.sort(function (a, b) {\n          return options.itemSort(a, b, data);\n        });\n      }\n\n      each(tooltipItems, function (context) {\n        var scoped = overrideCallbacks(options.callbacks, context);\n        labelColors.push(scoped.labelColor.call(_this32, context));\n        labelPointStyles.push(scoped.labelPointStyle.call(_this32, context));\n        labelTextColors.push(scoped.labelTextColor.call(_this32, context));\n      });\n      this.labelColors = labelColors;\n      this.labelPointStyles = labelPointStyles;\n      this.labelTextColors = labelTextColors;\n      this.dataPoints = tooltipItems;\n      return tooltipItems;\n    }\n  }, {\n    key: \"update\",\n    value: function update(changed, replay) {\n      var options = this.options.setContext(this.getContext());\n      var active = this._active;\n      var properties;\n      var tooltipItems = [];\n\n      if (!active.length) {\n        if (this.opacity !== 0) {\n          properties = {\n            opacity: 0\n          };\n        }\n      } else {\n        var position = positioners[options.position].call(this, active, this._eventPosition);\n        tooltipItems = this._createItems(options);\n        this.title = this.getTitle(tooltipItems, options);\n        this.beforeBody = this.getBeforeBody(tooltipItems, options);\n        this.body = this.getBody(tooltipItems, options);\n        this.afterBody = this.getAfterBody(tooltipItems, options);\n        this.footer = this.getFooter(tooltipItems, options);\n        var size = this._size = getTooltipSize(this, options);\n        var positionAndSize = Object.assign({}, position, size);\n        var alignment = determineAlignment(this._chart, options, positionAndSize);\n        var backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this._chart);\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        properties = {\n          opacity: 1,\n          x: backgroundPoint.x,\n          y: backgroundPoint.y,\n          width: size.width,\n          height: size.height,\n          caretX: position.x,\n          caretY: position.y\n        };\n      }\n\n      this._tooltipItems = tooltipItems;\n      this.$context = undefined;\n\n      if (properties) {\n        this._resolveAnimations().update(this, properties);\n      }\n\n      if (changed && options.external) {\n        options.external.call(this, {\n          chart: this._chart,\n          tooltip: this,\n          replay: replay\n        });\n      }\n    }\n  }, {\n    key: \"drawCaret\",\n    value: function drawCaret(tooltipPoint, ctx, size, options) {\n      var caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n      ctx.lineTo(caretPosition.x1, caretPosition.y1);\n      ctx.lineTo(caretPosition.x2, caretPosition.y2);\n      ctx.lineTo(caretPosition.x3, caretPosition.y3);\n    }\n  }, {\n    key: \"getCaretPosition\",\n    value: function getCaretPosition(tooltipPoint, size, options) {\n      var xAlign = this.xAlign,\n          yAlign = this.yAlign;\n      var caretSize = options.caretSize,\n          cornerRadius = options.cornerRadius;\n\n      var _toTRBLCorners2 = toTRBLCorners(cornerRadius),\n          topLeft = _toTRBLCorners2.topLeft,\n          topRight = _toTRBLCorners2.topRight,\n          bottomLeft = _toTRBLCorners2.bottomLeft,\n          bottomRight = _toTRBLCorners2.bottomRight;\n\n      var ptX = tooltipPoint.x,\n          ptY = tooltipPoint.y;\n      var width = size.width,\n          height = size.height;\n      var x1, x2, x3, y1, y2, y3;\n\n      if (yAlign === 'center') {\n        y2 = ptY + height / 2;\n\n        if (xAlign === 'left') {\n          x1 = ptX;\n          x2 = x1 - caretSize;\n          y1 = y2 + caretSize;\n          y3 = y2 - caretSize;\n        } else {\n          x1 = ptX + width;\n          x2 = x1 + caretSize;\n          y1 = y2 - caretSize;\n          y3 = y2 + caretSize;\n        }\n\n        x3 = x1;\n      } else {\n        if (xAlign === 'left') {\n          x2 = ptX + Math.max(topLeft, bottomLeft) + caretSize;\n        } else if (xAlign === 'right') {\n          x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n        } else {\n          x2 = this.caretX;\n        }\n\n        if (yAlign === 'top') {\n          y1 = ptY;\n          y2 = y1 - caretSize;\n          x1 = x2 - caretSize;\n          x3 = x2 + caretSize;\n        } else {\n          y1 = ptY + height;\n          y2 = y1 + caretSize;\n          x1 = x2 + caretSize;\n          x3 = x2 - caretSize;\n        }\n\n        y3 = y1;\n      }\n\n      return {\n        x1: x1,\n        x2: x2,\n        x3: x3,\n        y1: y1,\n        y2: y2,\n        y3: y3\n      };\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle(pt, ctx, options) {\n      var title = this.title;\n      var length = title.length;\n      var titleFont, titleSpacing, i;\n\n      if (length) {\n        var rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n        pt.x = getAlignedX(this, options.titleAlign, options);\n        ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n        ctx.textBaseline = 'middle';\n        titleFont = toFont(options.titleFont);\n        titleSpacing = options.titleSpacing;\n        ctx.fillStyle = options.titleColor;\n        ctx.font = titleFont.string;\n\n        for (i = 0; i < length; ++i) {\n          ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n          pt.y += titleFont.lineHeight + titleSpacing;\n\n          if (i + 1 === length) {\n            pt.y += options.titleMarginBottom - titleSpacing;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_drawColorBox\",\n    value: function _drawColorBox(ctx, pt, i, rtlHelper, options) {\n      var labelColors = this.labelColors[i];\n      var labelPointStyle = this.labelPointStyles[i];\n      var boxHeight = options.boxHeight,\n          boxWidth = options.boxWidth,\n          boxPadding = options.boxPadding;\n      var bodyFont = toFont(options.bodyFont);\n      var colorX = getAlignedX(this, 'left', options);\n      var rtlColorX = rtlHelper.x(colorX);\n      var yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n      var colorY = pt.y + yOffSet;\n\n      if (options.usePointStyle) {\n        var drawOptions = {\n          radius: Math.min(boxWidth, boxHeight) / 2,\n          pointStyle: labelPointStyle.pointStyle,\n          rotation: labelPointStyle.rotation,\n          borderWidth: 1\n        };\n        var centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n        var centerY = colorY + boxHeight / 2;\n        ctx.strokeStyle = options.multiKeyBackground;\n        ctx.fillStyle = options.multiKeyBackground;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n        ctx.strokeStyle = labelColors.borderColor;\n        ctx.fillStyle = labelColors.backgroundColor;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n      } else {\n        ctx.lineWidth = labelColors.borderWidth || 1;\n        ctx.strokeStyle = labelColors.borderColor;\n        ctx.setLineDash(labelColors.borderDash || []);\n        ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n        var outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);\n        var innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);\n        var borderRadius = toTRBLCorners(labelColors.borderRadius);\n\n        if (Object.values(borderRadius).some(function (v) {\n          return v !== 0;\n        })) {\n          ctx.beginPath();\n          ctx.fillStyle = options.multiKeyBackground;\n          addRoundedRectPath(ctx, {\n            x: outerX,\n            y: colorY,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius\n          });\n          ctx.fill();\n          ctx.stroke();\n          ctx.fillStyle = labelColors.backgroundColor;\n          ctx.beginPath();\n          addRoundedRectPath(ctx, {\n            x: innerX,\n            y: colorY + 1,\n            w: boxWidth - 2,\n            h: boxHeight - 2,\n            radius: borderRadius\n          });\n          ctx.fill();\n        } else {\n          ctx.fillStyle = options.multiKeyBackground;\n          ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n          ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n          ctx.fillStyle = labelColors.backgroundColor;\n          ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n        }\n      }\n\n      ctx.fillStyle = this.labelTextColors[i];\n    }\n  }, {\n    key: \"drawBody\",\n    value: function drawBody(pt, ctx, options) {\n      var body = this.body;\n      var bodySpacing = options.bodySpacing,\n          bodyAlign = options.bodyAlign,\n          displayColors = options.displayColors,\n          boxHeight = options.boxHeight,\n          boxWidth = options.boxWidth,\n          boxPadding = options.boxPadding;\n      var bodyFont = toFont(options.bodyFont);\n      var bodyLineHeight = bodyFont.lineHeight;\n      var xLinePadding = 0;\n      var rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n\n      var fillLineOfText = function fillLineOfText(line) {\n        ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n        pt.y += bodyLineHeight + bodySpacing;\n      };\n\n      var bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n      var bodyItem, textColor, lines, i, j, ilen, jlen;\n      ctx.textAlign = bodyAlign;\n      ctx.textBaseline = 'middle';\n      ctx.font = bodyFont.string;\n      pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n      ctx.fillStyle = options.bodyColor;\n      each(this.beforeBody, fillLineOfText);\n      xLinePadding = displayColors && bodyAlignForCalculation !== 'right' ? bodyAlign === 'center' ? boxWidth / 2 + boxPadding : boxWidth + 2 + boxPadding : 0;\n\n      for (i = 0, ilen = body.length; i < ilen; ++i) {\n        bodyItem = body[i];\n        textColor = this.labelTextColors[i];\n        ctx.fillStyle = textColor;\n        each(bodyItem.before, fillLineOfText);\n        lines = bodyItem.lines;\n\n        if (displayColors && lines.length) {\n          this._drawColorBox(ctx, pt, i, rtlHelper, options);\n\n          bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n        }\n\n        for (j = 0, jlen = lines.length; j < jlen; ++j) {\n          fillLineOfText(lines[j]);\n          bodyLineHeight = bodyFont.lineHeight;\n        }\n\n        each(bodyItem.after, fillLineOfText);\n      }\n\n      xLinePadding = 0;\n      bodyLineHeight = bodyFont.lineHeight;\n      each(this.afterBody, fillLineOfText);\n      pt.y -= bodySpacing;\n    }\n  }, {\n    key: \"drawFooter\",\n    value: function drawFooter(pt, ctx, options) {\n      var footer = this.footer;\n      var length = footer.length;\n      var footerFont, i;\n\n      if (length) {\n        var rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n        pt.x = getAlignedX(this, options.footerAlign, options);\n        pt.y += options.footerMarginTop;\n        ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n        ctx.textBaseline = 'middle';\n        footerFont = toFont(options.footerFont);\n        ctx.fillStyle = options.footerColor;\n        ctx.font = footerFont.string;\n\n        for (i = 0; i < length; ++i) {\n          ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n          pt.y += footerFont.lineHeight + options.footerSpacing;\n        }\n      }\n    }\n  }, {\n    key: \"drawBackground\",\n    value: function drawBackground(pt, ctx, tooltipSize, options) {\n      var xAlign = this.xAlign,\n          yAlign = this.yAlign;\n      var x = pt.x,\n          y = pt.y;\n      var width = tooltipSize.width,\n          height = tooltipSize.height;\n\n      var _toTRBLCorners3 = toTRBLCorners(options.cornerRadius),\n          topLeft = _toTRBLCorners3.topLeft,\n          topRight = _toTRBLCorners3.topRight,\n          bottomLeft = _toTRBLCorners3.bottomLeft,\n          bottomRight = _toTRBLCorners3.bottomRight;\n\n      ctx.fillStyle = options.backgroundColor;\n      ctx.strokeStyle = options.borderColor;\n      ctx.lineWidth = options.borderWidth;\n      ctx.beginPath();\n      ctx.moveTo(x + topLeft, y);\n\n      if (yAlign === 'top') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x + width - topRight, y);\n      ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n\n      if (yAlign === 'center' && xAlign === 'right') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x + width, y + height - bottomRight);\n      ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n\n      if (yAlign === 'bottom') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x + bottomLeft, y + height);\n      ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n\n      if (yAlign === 'center' && xAlign === 'left') {\n        this.drawCaret(pt, ctx, tooltipSize, options);\n      }\n\n      ctx.lineTo(x, y + topLeft);\n      ctx.quadraticCurveTo(x, y, x + topLeft, y);\n      ctx.closePath();\n      ctx.fill();\n\n      if (options.borderWidth > 0) {\n        ctx.stroke();\n      }\n    }\n  }, {\n    key: \"_updateAnimationTarget\",\n    value: function _updateAnimationTarget(options) {\n      var chart = this._chart;\n      var anims = this.$animations;\n      var animX = anims && anims.x;\n      var animY = anims && anims.y;\n\n      if (animX || animY) {\n        var position = positioners[options.position].call(this, this._active, this._eventPosition);\n\n        if (!position) {\n          return;\n        }\n\n        var size = this._size = getTooltipSize(this, options);\n        var positionAndSize = Object.assign({}, position, this._size);\n        var alignment = determineAlignment(chart, options, positionAndSize);\n        var point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n\n        if (animX._to !== point.x || animY._to !== point.y) {\n          this.xAlign = alignment.xAlign;\n          this.yAlign = alignment.yAlign;\n          this.width = size.width;\n          this.height = size.height;\n          this.caretX = position.x;\n          this.caretY = position.y;\n\n          this._resolveAnimations().update(this, point);\n        }\n      }\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx) {\n      var options = this.options.setContext(this.getContext());\n      var opacity = this.opacity;\n\n      if (!opacity) {\n        return;\n      }\n\n      this._updateAnimationTarget(options);\n\n      var tooltipSize = {\n        width: this.width,\n        height: this.height\n      };\n      var pt = {\n        x: this.x,\n        y: this.y\n      };\n      opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n      var padding = toPadding(options.padding);\n      var hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n\n      if (options.enabled && hasTooltipContent) {\n        ctx.save();\n        ctx.globalAlpha = opacity;\n        this.drawBackground(pt, ctx, tooltipSize, options);\n        overrideTextDirection(ctx, options.textDirection);\n        pt.y += padding.top;\n        this.drawTitle(pt, ctx, options);\n        this.drawBody(pt, ctx, options);\n        this.drawFooter(pt, ctx, options);\n        restoreTextDirection(ctx, options.textDirection);\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"getActiveElements\",\n    value: function getActiveElements() {\n      return this._active || [];\n    }\n  }, {\n    key: \"setActiveElements\",\n    value: function setActiveElements(activeElements, eventPosition) {\n      var _this33 = this;\n\n      var lastActive = this._active;\n      var active = activeElements.map(function (_ref9) {\n        var datasetIndex = _ref9.datasetIndex,\n            index = _ref9.index;\n\n        var meta = _this33._chart.getDatasetMeta(datasetIndex);\n\n        if (!meta) {\n          throw new Error('Cannot find a dataset at index ' + datasetIndex);\n        }\n\n        return {\n          datasetIndex: datasetIndex,\n          element: meta.data[index],\n          index: index\n        };\n      });\n      var changed = !_elementsEqual(lastActive, active);\n\n      var positionChanged = this._positionChanged(active, eventPosition);\n\n      if (changed || positionChanged) {\n        this._active = active;\n        this._eventPosition = eventPosition;\n        this.update(true);\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(e, replay) {\n      var options = this.options;\n      var lastActive = this._active || [];\n      var changed = false;\n      var active = [];\n\n      if (e.type !== 'mouseout') {\n        active = this._chart.getElementsAtEventForMode(e, options.mode, options, replay);\n\n        if (options.reverse) {\n          active.reverse();\n        }\n      }\n\n      var positionChanged = this._positionChanged(active, e);\n\n      changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n\n      if (changed) {\n        this._active = active;\n\n        if (options.enabled || options.external) {\n          this._eventPosition = {\n            x: e.x,\n            y: e.y\n          };\n          this.update(true, replay);\n        }\n      }\n\n      return changed;\n    }\n  }, {\n    key: \"_positionChanged\",\n    value: function _positionChanged(active, e) {\n      var caretX = this.caretX,\n          caretY = this.caretY,\n          options = this.options;\n      var position = positioners[options.position].call(this, active, e);\n      return position !== false && (caretX !== position.x || caretY !== position.y);\n    }\n  }]);\n\n  return Tooltip;\n}(Element);\n\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners: positioners,\n  afterInit: function afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({\n        _chart: chart,\n        options: options\n      });\n    }\n  },\n  beforeUpdate: function beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset: function reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw: function afterDraw(chart) {\n    var tooltip = chart.tooltip;\n    var args = {\n      tooltip: tooltip\n    };\n\n    if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n      return;\n    }\n\n    if (tooltip) {\n      tooltip.draw(chart.ctx);\n    }\n\n    chart.notifyPlugins('afterTooltipDraw', args);\n  },\n  afterEvent: function afterEvent(chart, args) {\n    if (chart.tooltip) {\n      var useFinalPosition = args.replay;\n\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold'\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {},\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold'\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: function boxHeight(ctx, opts) {\n      return opts.bodyFont.size;\n    },\n    boxWidth: function boxWidth(ctx, opts) {\n      return opts.bodyFont.size;\n    },\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart'\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY']\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title: function title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          var item = tooltipItems[0];\n          var labels = item.chart.data.labels;\n          var labelCount = labels ? labels.length : 0;\n\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label: function label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n\n        var label = tooltipItem.dataset.label || '';\n\n        if (label) {\n          label += ': ';\n        }\n\n        var value = tooltipItem.formattedValue;\n\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n\n        return label;\n      },\n      labelColor: function labelColor(tooltipItem) {\n        var meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        var options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0\n        };\n      },\n      labelTextColor: function labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle: function labelPointStyle(tooltipItem) {\n        var meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        var options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: function _scriptable(name) {\n      return name !== 'filter' && name !== 'itemSort' && name !== 'external';\n    },\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\nvar plugins = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Decimation: plugin_decimation,\n  Filler: plugin_filler,\n  Legend: plugin_legend,\n  SubTitle: plugin_subtitle,\n  Title: plugin_title,\n  Tooltip: plugin_tooltip\n});\n\nvar addIfString = function addIfString(labels, raw, index) {\n  return typeof raw === 'string' ? labels.push(raw) - 1 : isNaN(raw) ? null : index;\n};\n\nfunction findOrAddLabel(labels, raw, index) {\n  var first = labels.indexOf(raw);\n\n  if (first === -1) {\n    return addIfString(labels, raw, index);\n  }\n\n  var last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\n\nvar validIndex = function validIndex(index, max) {\n  return index === null ? null : _limitValue(Math.round(index), 0, max);\n};\n\nvar CategoryScale = /*#__PURE__*/function (_Scale) {\n  _inherits(CategoryScale, _Scale);\n\n  var _super19 = _createSuper(CategoryScale);\n\n  function CategoryScale(cfg) {\n    var _this34;\n\n    _classCallCheck(this, CategoryScale);\n\n    _this34 = _super19.call(this, cfg);\n    _this34._startValue = undefined;\n    _this34._valueRange = 0;\n    return _this34;\n  }\n\n  _createClass(CategoryScale, [{\n    key: \"parse\",\n    value: function parse(raw, index) {\n      if (isNullOrUndef(raw)) {\n        return null;\n      }\n\n      var labels = this.getLabels();\n      index = isFinite(index) && labels[index] === raw ? index : findOrAddLabel(labels, raw, valueOrDefault(index, raw));\n      return validIndex(index, labels.length - 1);\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var _this$getUserBounds2 = this.getUserBounds(),\n          minDefined = _this$getUserBounds2.minDefined,\n          maxDefined = _this$getUserBounds2.maxDefined;\n\n      var _this$getMinMax = this.getMinMax(true),\n          min = _this$getMinMax.min,\n          max = _this$getMinMax.max;\n\n      if (this.options.bounds === 'ticks') {\n        if (!minDefined) {\n          min = 0;\n        }\n\n        if (!maxDefined) {\n          max = this.getLabels().length - 1;\n        }\n      }\n\n      this.min = min;\n      this.max = max;\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var min = this.min;\n      var max = this.max;\n      var offset = this.options.offset;\n      var ticks = [];\n      var labels = this.getLabels();\n      labels = min === 0 && max === labels.length - 1 ? labels : labels.slice(min, max + 1);\n      this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n      this._startValue = this.min - (offset ? 0.5 : 0);\n\n      for (var value = min; value <= max; value++) {\n        ticks.push({\n          value: value\n        });\n      }\n\n      return ticks;\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      var labels = this.getLabels();\n\n      if (value >= 0 && value < labels.length) {\n        return labels[value];\n      }\n\n      return value;\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      _get(_getPrototypeOf(CategoryScale.prototype), \"configure\", this).call(this);\n\n      if (!this.isHorizontal()) {\n        this._reversePixels = !this._reversePixels;\n      }\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      if (typeof value !== 'number') {\n        value = this.parse(value);\n      }\n\n      return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n  }, {\n    key: \"getPixelForTick\",\n    value: function getPixelForTick(index) {\n      var ticks = this.ticks;\n\n      if (index < 0 || index > ticks.length - 1) {\n        return null;\n      }\n\n      return this.getPixelForValue(ticks[index].value);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n    }\n  }, {\n    key: \"getBasePixel\",\n    value: function getBasePixel() {\n      return this.bottom;\n    }\n  }]);\n\n  return CategoryScale;\n}(Scale);\n\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  var ticks = [];\n  var MIN_SPACING = 1e-14;\n  var bounds = generationOptions.bounds,\n      step = generationOptions.step,\n      min = generationOptions.min,\n      max = generationOptions.max,\n      precision = generationOptions.precision,\n      count = generationOptions.count,\n      maxTicks = generationOptions.maxTicks,\n      maxDigits = generationOptions.maxDigits,\n      includeBounds = generationOptions.includeBounds;\n  var unit = step || 1;\n  var maxSpaces = maxTicks - 1;\n  var rmin = dataRange.min,\n      rmax = dataRange.max;\n  var minDefined = !isNullOrUndef(min);\n  var maxDefined = !isNullOrUndef(max);\n  var countDefined = !isNullOrUndef(count);\n  var minSpacing = (rmax - rmin) / (maxDigits + 1);\n  var spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  var factor, niceMin, niceMax, numSpaces;\n\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{\n      value: rmin\n    }, {\n      value: rmax\n    }];\n  }\n\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n\n  var decimalPlaces = Math.max(_decimalPlaces(spacing), _decimalPlaces(niceMin));\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  var j = 0;\n\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({\n        value: min\n      });\n\n      if (niceMin < min) {\n        j++;\n      }\n\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n\n  for (; j < numSpaces; ++j) {\n    ticks.push({\n      value: Math.round((niceMin + j * spacing) * factor) / factor\n    });\n  }\n\n  if (maxDefined && includeBounds && niceMax !== max) {\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({\n        value: max\n      });\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({\n      value: niceMax\n    });\n  }\n\n  return ticks;\n}\n\nfunction relativeLabelSize(value, minSpacing, _ref10) {\n  var horizontal = _ref10.horizontal,\n      minRotation = _ref10.minRotation;\n  var rad = toRadians(minRotation);\n  var ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  var length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\n\nvar LinearScaleBase = /*#__PURE__*/function (_Scale2) {\n  _inherits(LinearScaleBase, _Scale2);\n\n  var _super20 = _createSuper(LinearScaleBase);\n\n  function LinearScaleBase(cfg) {\n    var _this35;\n\n    _classCallCheck(this, LinearScaleBase);\n\n    _this35 = _super20.call(this, cfg);\n    _this35.start = undefined;\n    _this35.end = undefined;\n    _this35._startValue = undefined;\n    _this35._endValue = undefined;\n    _this35._valueRange = 0;\n    return _this35;\n  }\n\n  _createClass(LinearScaleBase, [{\n    key: \"parse\",\n    value: function parse(raw, index) {\n      if (isNullOrUndef(raw)) {\n        return null;\n      }\n\n      if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n        return null;\n      }\n\n      return +raw;\n    }\n  }, {\n    key: \"handleTickRangeOptions\",\n    value: function handleTickRangeOptions() {\n      var beginAtZero = this.options.beginAtZero;\n\n      var _this$getUserBounds3 = this.getUserBounds(),\n          minDefined = _this$getUserBounds3.minDefined,\n          maxDefined = _this$getUserBounds3.maxDefined;\n\n      var min = this.min,\n          max = this.max;\n\n      var setMin = function setMin(v) {\n        return min = minDefined ? min : v;\n      };\n\n      var setMax = function setMax(v) {\n        return max = maxDefined ? max : v;\n      };\n\n      if (beginAtZero) {\n        var minSign = sign(min);\n        var maxSign = sign(max);\n\n        if (minSign < 0 && maxSign < 0) {\n          setMax(0);\n        } else if (minSign > 0 && maxSign > 0) {\n          setMin(0);\n        }\n      }\n\n      if (min === max) {\n        var offset = 1;\n\n        if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {\n          offset = Math.abs(max * 0.05);\n        }\n\n        setMax(max + offset);\n\n        if (!beginAtZero) {\n          setMin(min - offset);\n        }\n      }\n\n      this.min = min;\n      this.max = max;\n    }\n  }, {\n    key: \"getTickLimit\",\n    value: function getTickLimit() {\n      var tickOpts = this.options.ticks;\n      var maxTicksLimit = tickOpts.maxTicksLimit,\n          stepSize = tickOpts.stepSize;\n      var maxTicks;\n\n      if (stepSize) {\n        maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n\n        if (maxTicks > 1000) {\n          console.warn(\"scales.\".concat(this.id, \".ticks.stepSize: \").concat(stepSize, \" would result generating up to \").concat(maxTicks, \" ticks. Limiting to 1000.\"));\n          maxTicks = 1000;\n        }\n      } else {\n        maxTicks = this.computeTickLimit();\n        maxTicksLimit = maxTicksLimit || 11;\n      }\n\n      if (maxTicksLimit) {\n        maxTicks = Math.min(maxTicksLimit, maxTicks);\n      }\n\n      return maxTicks;\n    }\n  }, {\n    key: \"computeTickLimit\",\n    value: function computeTickLimit() {\n      return Number.POSITIVE_INFINITY;\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var opts = this.options;\n      var tickOpts = opts.ticks;\n      var maxTicks = this.getTickLimit();\n      maxTicks = Math.max(2, maxTicks);\n      var numericGeneratorOptions = {\n        maxTicks: maxTicks,\n        bounds: opts.bounds,\n        min: opts.min,\n        max: opts.max,\n        precision: tickOpts.precision,\n        step: tickOpts.stepSize,\n        count: tickOpts.count,\n        maxDigits: this._maxDigits(),\n        horizontal: this.isHorizontal(),\n        minRotation: tickOpts.minRotation || 0,\n        includeBounds: tickOpts.includeBounds !== false\n      };\n      var dataRange = this._range || this;\n      var ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n\n      if (opts.bounds === 'ticks') {\n        _setMinAndMaxByKey(ticks, this, 'value');\n      }\n\n      if (opts.reverse) {\n        ticks.reverse();\n        this.start = this.max;\n        this.end = this.min;\n      } else {\n        this.start = this.min;\n        this.end = this.max;\n      }\n\n      return ticks;\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var ticks = this.ticks;\n      var start = this.min;\n      var end = this.max;\n\n      _get(_getPrototypeOf(LinearScaleBase.prototype), \"configure\", this).call(this);\n\n      if (this.options.offset && ticks.length) {\n        var offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n        start -= offset;\n        end += offset;\n      }\n\n      this._startValue = start;\n      this._endValue = end;\n      this._valueRange = end - start;\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      return formatNumber(value, this.chart.options.locale);\n    }\n  }]);\n\n  return LinearScaleBase;\n}(Scale);\n\nvar LinearScale = /*#__PURE__*/function (_LinearScaleBase) {\n  _inherits(LinearScale, _LinearScaleBase);\n\n  var _super21 = _createSuper(LinearScale);\n\n  function LinearScale() {\n    _classCallCheck(this, LinearScale);\n\n    return _super21.apply(this, arguments);\n  }\n\n  _createClass(LinearScale, [{\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var _this$getMinMax2 = this.getMinMax(true),\n          min = _this$getMinMax2.min,\n          max = _this$getMinMax2.max;\n\n      this.min = isNumberFinite(min) ? min : 0;\n      this.max = isNumberFinite(max) ? max : 1;\n      this.handleTickRangeOptions();\n    }\n  }, {\n    key: \"computeTickLimit\",\n    value: function computeTickLimit() {\n      var horizontal = this.isHorizontal();\n      var length = horizontal ? this.width : this.height;\n      var minRotation = toRadians(this.options.ticks.minRotation);\n      var ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n\n      var tickFont = this._resolveTickFontOptions(0);\n\n      return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n    }\n  }]);\n\n  return LinearScale;\n}(LinearScaleBase);\n\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  var remain = tickVal / Math.pow(10, Math.floor(log10(tickVal)));\n  return remain === 1;\n}\n\nfunction generateTicks(generationOptions, dataRange) {\n  var endExp = Math.floor(log10(dataRange.max));\n  var endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  var ticks = [];\n  var tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  var exp = Math.floor(log10(tickVal));\n  var significand = Math.floor(tickVal / Math.pow(10, exp));\n  var precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n\n  do {\n    ticks.push({\n      value: tickVal,\n      major: isMajor(tickVal)\n    });\n    ++significand;\n\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || exp === endExp && significand < endSignificand);\n\n  var lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({\n    value: lastTick,\n    major: isMajor(tickVal)\n  });\n  return ticks;\n}\n\nvar LogarithmicScale = /*#__PURE__*/function (_Scale3) {\n  _inherits(LogarithmicScale, _Scale3);\n\n  var _super22 = _createSuper(LogarithmicScale);\n\n  function LogarithmicScale(cfg) {\n    var _this36;\n\n    _classCallCheck(this, LogarithmicScale);\n\n    _this36 = _super22.call(this, cfg);\n    _this36.start = undefined;\n    _this36.end = undefined;\n    _this36._startValue = undefined;\n    _this36._valueRange = 0;\n    return _this36;\n  }\n\n  _createClass(LogarithmicScale, [{\n    key: \"parse\",\n    value: function parse(raw, index) {\n      var value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n\n      if (value === 0) {\n        this._zero = true;\n        return undefined;\n      }\n\n      return isNumberFinite(value) && value > 0 ? value : null;\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var _this$getMinMax3 = this.getMinMax(true),\n          min = _this$getMinMax3.min,\n          max = _this$getMinMax3.max;\n\n      this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n      this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n\n      if (this.options.beginAtZero) {\n        this._zero = true;\n      }\n\n      this.handleTickRangeOptions();\n    }\n  }, {\n    key: \"handleTickRangeOptions\",\n    value: function handleTickRangeOptions() {\n      var _this$getUserBounds4 = this.getUserBounds(),\n          minDefined = _this$getUserBounds4.minDefined,\n          maxDefined = _this$getUserBounds4.maxDefined;\n\n      var min = this.min;\n      var max = this.max;\n\n      var setMin = function setMin(v) {\n        return min = minDefined ? min : v;\n      };\n\n      var setMax = function setMax(v) {\n        return max = maxDefined ? max : v;\n      };\n\n      var exp = function exp(v, m) {\n        return Math.pow(10, Math.floor(log10(v)) + m);\n      };\n\n      if (min === max) {\n        if (min <= 0) {\n          setMin(1);\n          setMax(10);\n        } else {\n          setMin(exp(min, -1));\n          setMax(exp(max, +1));\n        }\n      }\n\n      if (min <= 0) {\n        setMin(exp(max, -1));\n      }\n\n      if (max <= 0) {\n        setMax(exp(min, +1));\n      }\n\n      if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {\n        setMin(exp(min, -1));\n      }\n\n      this.min = min;\n      this.max = max;\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var opts = this.options;\n      var generationOptions = {\n        min: this._userMin,\n        max: this._userMax\n      };\n      var ticks = generateTicks(generationOptions, this);\n\n      if (opts.bounds === 'ticks') {\n        _setMinAndMaxByKey(ticks, this, 'value');\n      }\n\n      if (opts.reverse) {\n        ticks.reverse();\n        this.start = this.max;\n        this.end = this.min;\n      } else {\n        this.start = this.min;\n        this.end = this.max;\n      }\n\n      return ticks;\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      return value === undefined ? '0' : formatNumber(value, this.chart.options.locale);\n    }\n  }, {\n    key: \"configure\",\n    value: function configure() {\n      var start = this.min;\n\n      _get(_getPrototypeOf(LogarithmicScale.prototype), \"configure\", this).call(this);\n\n      this._startValue = log10(start);\n      this._valueRange = log10(this.max) - log10(start);\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      if (value === undefined || value === 0) {\n        value = this.min;\n      }\n\n      if (value === null || isNaN(value)) {\n        return NaN;\n      }\n\n      return this.getPixelForDecimal(value === this.min ? 0 : (log10(value) - this._startValue) / this._valueRange);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var decimal = this.getDecimalForPixel(pixel);\n      return Math.pow(10, this._startValue + decimal * this._valueRange);\n    }\n  }]);\n\n  return LogarithmicScale;\n}(Scale);\n\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  var tickOpts = opts.ticks;\n\n  if (tickOpts.display && opts.display) {\n    var padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n\n  return 0;\n}\n\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\n\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - size / 2,\n      end: pos + size / 2\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\n\nfunction fitWithPointLabels(scale) {\n  var furthestLimits = {\n    l: 0,\n    r: scale.width,\n    t: 0,\n    b: scale.height - scale.paddingTop\n  };\n  var furthestAngles = {};\n  var labelSizes = [];\n  var padding = [];\n  var valueCount = scale.getLabels().length;\n\n  for (var i = 0; i < valueCount; i++) {\n    var opts = scale.options.pointLabels.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    var pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i]);\n    var plFont = toFont(opts.font);\n    var textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    var angleRadians = scale.getIndexAngle(i);\n    var angle = toDegrees(angleRadians);\n    var hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    var vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n\n    if (hLimits.start < furthestLimits.l) {\n      furthestLimits.l = hLimits.start;\n      furthestAngles.l = angleRadians;\n    }\n\n    if (hLimits.end > furthestLimits.r) {\n      furthestLimits.r = hLimits.end;\n      furthestAngles.r = angleRadians;\n    }\n\n    if (vLimits.start < furthestLimits.t) {\n      furthestLimits.t = vLimits.start;\n      furthestAngles.t = angleRadians;\n    }\n\n    if (vLimits.end > furthestLimits.b) {\n      furthestLimits.b = vLimits.end;\n      furthestAngles.b = angleRadians;\n    }\n  }\n\n  scale._setReductions(scale.drawingArea, furthestLimits, furthestAngles);\n\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\n\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  var items = [];\n  var valueCount = scale.getLabels().length;\n  var opts = scale.options;\n  var tickBackdropHeight = getTickBackdropHeight(opts);\n  var outerDistance = scale.getDistanceFromCenterForValue(opts.ticks.reverse ? scale.min : scale.max);\n\n  for (var i = 0; i < valueCount; i++) {\n    var extra = i === 0 ? tickBackdropHeight / 2 : 0;\n    var pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i]);\n    var angle = toDegrees(scale.getIndexAngle(i));\n    var size = labelSizes[i];\n    var y = yForAngle(pointLabelPosition.y, size.h, angle);\n    var textAlign = getTextAlignForAngle(angle);\n    var left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    items.push({\n      x: pointLabelPosition.x,\n      y: y,\n      textAlign: textAlign,\n      left: left,\n      top: y,\n      right: left + size.w,\n      bottom: y + size.h\n    });\n  }\n\n  return items;\n}\n\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n\n  return 'right';\n}\n\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= w / 2;\n  }\n\n  return x;\n}\n\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= h / 2;\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n\n  return y;\n}\n\nfunction drawPointLabels(scale, labelCount) {\n  var ctx = scale.ctx,\n      pointLabels = scale.options.pointLabels;\n\n  for (var i = labelCount - 1; i >= 0; i--) {\n    var optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    var plFont = toFont(optsAtIndex.font);\n    var _scale$_pointLabelIte = scale._pointLabelItems[i],\n        x = _scale$_pointLabelIte.x,\n        y = _scale$_pointLabelIte.y,\n        textAlign = _scale$_pointLabelIte.textAlign,\n        left = _scale$_pointLabelIte.left,\n        top = _scale$_pointLabelIte.top,\n        right = _scale$_pointLabelIte.right,\n        bottom = _scale$_pointLabelIte.bottom;\n    var backdropColor = optsAtIndex.backdropColor;\n\n    if (!isNullOrUndef(backdropColor)) {\n      var padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      ctx.fillRect(left - padding.left, top - padding.top, right - left + padding.width, bottom - top + padding.height);\n    }\n\n    renderText(ctx, scale._pointLabels[i], x, y + plFont.lineHeight / 2, plFont, {\n      color: optsAtIndex.color,\n      textAlign: textAlign,\n      textBaseline: 'middle'\n    });\n  }\n}\n\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  var ctx = scale.ctx;\n\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    var pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n\n    for (var i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\n\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  var ctx = scale.ctx;\n  var circular = gridLineOpts.circular;\n  var color = gridLineOpts.color,\n      lineWidth = gridLineOpts.lineWidth;\n\n  if (!circular && !labelCount || !color || !lineWidth || radius < 0) {\n    return;\n  }\n\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\n\nfunction numberOrZero(param) {\n  return isNumber(param) ? param : 0;\n}\n\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label: label,\n    index: index,\n    type: 'pointLabel'\n  });\n}\n\nvar RadialLinearScale = /*#__PURE__*/function (_LinearScaleBase2) {\n  _inherits(RadialLinearScale, _LinearScaleBase2);\n\n  var _super23 = _createSuper(RadialLinearScale);\n\n  function RadialLinearScale(cfg) {\n    var _this37;\n\n    _classCallCheck(this, RadialLinearScale);\n\n    _this37 = _super23.call(this, cfg);\n    _this37.xCenter = undefined;\n    _this37.yCenter = undefined;\n    _this37.drawingArea = undefined;\n    _this37._pointLabels = [];\n    _this37._pointLabelItems = [];\n    return _this37;\n  }\n\n  _createClass(RadialLinearScale, [{\n    key: \"setDimensions\",\n    value: function setDimensions() {\n      this.width = this.maxWidth;\n      this.height = this.maxHeight;\n      this.paddingTop = getTickBackdropHeight(this.options) / 2;\n      this.xCenter = Math.floor(this.width / 2);\n      this.yCenter = Math.floor((this.height - this.paddingTop) / 2);\n      this.drawingArea = Math.min(this.height - this.paddingTop, this.width) / 2;\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var _this$getMinMax4 = this.getMinMax(false),\n          min = _this$getMinMax4.min,\n          max = _this$getMinMax4.max;\n\n      this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n      this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n      this.handleTickRangeOptions();\n    }\n  }, {\n    key: \"computeTickLimit\",\n    value: function computeTickLimit() {\n      return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n    }\n  }, {\n    key: \"generateTickLabels\",\n    value: function generateTickLabels(ticks) {\n      var _this38 = this;\n\n      LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n      this._pointLabels = this.getLabels().map(function (value, index) {\n        var label = callback(_this38.options.pointLabels.callback, [value, index], _this38);\n        return label || label === 0 ? label : '';\n      });\n    }\n  }, {\n    key: \"fit\",\n    value: function fit() {\n      var opts = this.options;\n\n      if (opts.display && opts.pointLabels.display) {\n        fitWithPointLabels(this);\n      } else {\n        this.setCenterPoint(0, 0, 0, 0);\n      }\n    }\n  }, {\n    key: \"_setReductions\",\n    value: function _setReductions(largestPossibleRadius, furthestLimits, furthestAngles) {\n      var radiusReductionLeft = furthestLimits.l / Math.sin(furthestAngles.l);\n      var radiusReductionRight = Math.max(furthestLimits.r - this.width, 0) / Math.sin(furthestAngles.r);\n      var radiusReductionTop = -furthestLimits.t / Math.cos(furthestAngles.t);\n      var radiusReductionBottom = -Math.max(furthestLimits.b - (this.height - this.paddingTop), 0) / Math.cos(furthestAngles.b);\n      radiusReductionLeft = numberOrZero(radiusReductionLeft);\n      radiusReductionRight = numberOrZero(radiusReductionRight);\n      radiusReductionTop = numberOrZero(radiusReductionTop);\n      radiusReductionBottom = numberOrZero(radiusReductionBottom);\n      this.drawingArea = Math.max(largestPossibleRadius / 2, Math.min(Math.floor(largestPossibleRadius - (radiusReductionLeft + radiusReductionRight) / 2), Math.floor(largestPossibleRadius - (radiusReductionTop + radiusReductionBottom) / 2)));\n      this.setCenterPoint(radiusReductionLeft, radiusReductionRight, radiusReductionTop, radiusReductionBottom);\n    }\n  }, {\n    key: \"setCenterPoint\",\n    value: function setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n      var maxRight = this.width - rightMovement - this.drawingArea;\n      var maxLeft = leftMovement + this.drawingArea;\n      var maxTop = topMovement + this.drawingArea;\n      var maxBottom = this.height - this.paddingTop - bottomMovement - this.drawingArea;\n      this.xCenter = Math.floor((maxLeft + maxRight) / 2 + this.left);\n      this.yCenter = Math.floor((maxTop + maxBottom) / 2 + this.top + this.paddingTop);\n    }\n  }, {\n    key: \"getIndexAngle\",\n    value: function getIndexAngle(index) {\n      var angleMultiplier = TAU / this.getLabels().length;\n      var startAngle = this.options.startAngle || 0;\n      return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n    }\n  }, {\n    key: \"getDistanceFromCenterForValue\",\n    value: function getDistanceFromCenterForValue(value) {\n      if (isNullOrUndef(value)) {\n        return NaN;\n      }\n\n      var scalingFactor = this.drawingArea / (this.max - this.min);\n\n      if (this.options.reverse) {\n        return (this.max - value) * scalingFactor;\n      }\n\n      return (value - this.min) * scalingFactor;\n    }\n  }, {\n    key: \"getValueForDistanceFromCenter\",\n    value: function getValueForDistanceFromCenter(distance) {\n      if (isNullOrUndef(distance)) {\n        return NaN;\n      }\n\n      var scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n      return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n    }\n  }, {\n    key: \"getPointLabelContext\",\n    value: function getPointLabelContext(index) {\n      var pointLabels = this._pointLabels || [];\n\n      if (index >= 0 && index < pointLabels.length) {\n        var pointLabel = pointLabels[index];\n        return createPointLabelContext(this.getContext(), index, pointLabel);\n      }\n    }\n  }, {\n    key: \"getPointPosition\",\n    value: function getPointPosition(index, distanceFromCenter) {\n      var angle = this.getIndexAngle(index) - HALF_PI;\n      return {\n        x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n        y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n        angle: angle\n      };\n    }\n  }, {\n    key: \"getPointPositionForValue\",\n    value: function getPointPositionForValue(index, value) {\n      return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n    }\n  }, {\n    key: \"getBasePosition\",\n    value: function getBasePosition(index) {\n      return this.getPointPositionForValue(index || 0, this.getBaseValue());\n    }\n  }, {\n    key: \"getPointLabelPosition\",\n    value: function getPointLabelPosition(index) {\n      var _this$_pointLabelItem = this._pointLabelItems[index],\n          left = _this$_pointLabelItem.left,\n          top = _this$_pointLabelItem.top,\n          right = _this$_pointLabelItem.right,\n          bottom = _this$_pointLabelItem.bottom;\n      return {\n        left: left,\n        top: top,\n        right: right,\n        bottom: bottom\n      };\n    }\n  }, {\n    key: \"drawBackground\",\n    value: function drawBackground() {\n      var _this$options14 = this.options,\n          backgroundColor = _this$options14.backgroundColor,\n          circular = _this$options14.grid.circular;\n\n      if (backgroundColor) {\n        var ctx = this.ctx;\n        ctx.save();\n        ctx.beginPath();\n        pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this.getLabels().length);\n        ctx.closePath();\n        ctx.fillStyle = backgroundColor;\n        ctx.fill();\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"drawGrid\",\n    value: function drawGrid() {\n      var _this39 = this;\n\n      var ctx = this.ctx;\n      var opts = this.options;\n      var angleLines = opts.angleLines,\n          grid = opts.grid;\n      var labelCount = this.getLabels().length;\n      var i, offset, position;\n\n      if (opts.pointLabels.display) {\n        drawPointLabels(this, labelCount);\n      }\n\n      if (grid.display) {\n        this.ticks.forEach(function (tick, index) {\n          if (index !== 0) {\n            offset = _this39.getDistanceFromCenterForValue(tick.value);\n            var optsAtIndex = grid.setContext(_this39.getContext(index - 1));\n            drawRadiusLine(_this39, optsAtIndex, offset, labelCount);\n          }\n        });\n      }\n\n      if (angleLines.display) {\n        ctx.save();\n\n        for (i = this.getLabels().length - 1; i >= 0; i--) {\n          var optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n          var color = optsAtIndex.color,\n              lineWidth = optsAtIndex.lineWidth;\n\n          if (!lineWidth || !color) {\n            continue;\n          }\n\n          ctx.lineWidth = lineWidth;\n          ctx.strokeStyle = color;\n          ctx.setLineDash(optsAtIndex.borderDash);\n          ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n          offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n          position = this.getPointPosition(i, offset);\n          ctx.beginPath();\n          ctx.moveTo(this.xCenter, this.yCenter);\n          ctx.lineTo(position.x, position.y);\n          ctx.stroke();\n        }\n\n        ctx.restore();\n      }\n    }\n  }, {\n    key: \"drawBorder\",\n    value: function drawBorder() {}\n  }, {\n    key: \"drawLabels\",\n    value: function drawLabels() {\n      var _this40 = this;\n\n      var ctx = this.ctx;\n      var opts = this.options;\n      var tickOpts = opts.ticks;\n\n      if (!tickOpts.display) {\n        return;\n      }\n\n      var startAngle = this.getIndexAngle(0);\n      var offset, width;\n      ctx.save();\n      ctx.translate(this.xCenter, this.yCenter);\n      ctx.rotate(startAngle);\n      ctx.textAlign = 'center';\n      ctx.textBaseline = 'middle';\n      this.ticks.forEach(function (tick, index) {\n        if (index === 0 && !opts.reverse) {\n          return;\n        }\n\n        var optsAtIndex = tickOpts.setContext(_this40.getContext(index));\n        var tickFont = toFont(optsAtIndex.font);\n        offset = _this40.getDistanceFromCenterForValue(_this40.ticks[index].value);\n\n        if (optsAtIndex.showLabelBackdrop) {\n          ctx.font = tickFont.string;\n          width = ctx.measureText(tick.label).width;\n          ctx.fillStyle = optsAtIndex.backdropColor;\n          var padding = toPadding(optsAtIndex.backdropPadding);\n          ctx.fillRect(-width / 2 - padding.left, -offset - tickFont.size / 2 - padding.top, width + padding.width, tickFont.size + padding.height);\n        }\n\n        renderText(ctx, tick.label, 0, -offset, tickFont, {\n          color: optsAtIndex.color\n        });\n      });\n      ctx.restore();\n    }\n  }, {\n    key: \"drawTitle\",\n    value: function drawTitle() {}\n  }]);\n\n  return RadialLinearScale;\n}(LinearScaleBase);\n\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback: function callback(label) {\n      return label;\n    },\n    padding: 5\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\nvar INTERVALS = {\n  millisecond: {\n    common: true,\n    size: 1,\n    steps: 1000\n  },\n  second: {\n    common: true,\n    size: 1000,\n    steps: 60\n  },\n  minute: {\n    common: true,\n    size: 60000,\n    steps: 60\n  },\n  hour: {\n    common: true,\n    size: 3600000,\n    steps: 24\n  },\n  day: {\n    common: true,\n    size: 86400000,\n    steps: 30\n  },\n  week: {\n    common: false,\n    size: 604800000,\n    steps: 4\n  },\n  month: {\n    common: true,\n    size: 2.628e9,\n    steps: 12\n  },\n  quarter: {\n    common: false,\n    size: 7.884e9,\n    steps: 4\n  },\n  year: {\n    common: true,\n    size: 3.154e10\n  }\n};\nvar UNITS = Object.keys(INTERVALS);\n\nfunction sorter(a, b) {\n  return a - b;\n}\n\nfunction _parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n\n  var adapter = scale._adapter;\n  var _scale$_parseOpts = scale._parseOpts,\n      parser = _scale$_parseOpts.parser,\n      round = _scale$_parseOpts.round,\n      isoWeekday = _scale$_parseOpts.isoWeekday;\n  var value = input;\n\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string' ? adapter.parse(value, parser) : adapter.parse(value);\n  }\n\n  if (value === null) {\n    return null;\n  }\n\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true) ? adapter.startOf(value, 'isoWeek', isoWeekday) : adapter.startOf(value, round);\n  }\n\n  return +value;\n}\n\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  var ilen = UNITS.length;\n\n  for (var i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    var interval = INTERVALS[UNITS[i]];\n    var factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n\n  return UNITS[ilen - 1];\n}\n\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (var i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    var unit = UNITS[i];\n\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\n\nfunction determineMajorUnit(unit) {\n  for (var i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\n\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    var _lookup2 = _lookup(timestamps, time),\n        lo = _lookup2.lo,\n        hi = _lookup2.hi;\n\n    var timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\n\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  var adapter = scale._adapter;\n  var first = +adapter.startOf(ticks[0].value, majorUnit);\n  var last = ticks[ticks.length - 1].value;\n  var major, index;\n\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n\n  return ticks;\n}\n\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  var ticks = [];\n  var map = {};\n  var ilen = values.length;\n  var i, value;\n\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value: value,\n      major: false\n    });\n  }\n\n  return ilen === 0 || !majorUnit ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\n\nvar TimeScale = /*#__PURE__*/function (_Scale4) {\n  _inherits(TimeScale, _Scale4);\n\n  var _super24 = _createSuper(TimeScale);\n\n  function TimeScale(props) {\n    var _this41;\n\n    _classCallCheck(this, TimeScale);\n\n    _this41 = _super24.call(this, props);\n    _this41._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    _this41._unit = 'day';\n    _this41._majorUnit = undefined;\n    _this41._offsets = {};\n    _this41._normalized = false;\n    _this41._parseOpts = undefined;\n    return _this41;\n  }\n\n  _createClass(TimeScale, [{\n    key: \"init\",\n    value: function init(scaleOpts, opts) {\n      var time = scaleOpts.time || (scaleOpts.time = {});\n      var adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n      mergeIf(time.displayFormats, adapter.formats());\n      this._parseOpts = {\n        parser: time.parser,\n        round: time.round,\n        isoWeekday: time.isoWeekday\n      };\n\n      _get(_getPrototypeOf(TimeScale.prototype), \"init\", this).call(this, scaleOpts);\n\n      this._normalized = opts.normalized;\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(raw, index) {\n      if (raw === undefined) {\n        return null;\n      }\n\n      return _parse(this, raw);\n    }\n  }, {\n    key: \"beforeLayout\",\n    value: function beforeLayout() {\n      _get(_getPrototypeOf(TimeScale.prototype), \"beforeLayout\", this).call(this);\n\n      this._cache = {\n        data: [],\n        labels: [],\n        all: []\n      };\n    }\n  }, {\n    key: \"determineDataLimits\",\n    value: function determineDataLimits() {\n      var options = this.options;\n      var adapter = this._adapter;\n      var unit = options.time.unit || 'day';\n\n      var _this$getUserBounds5 = this.getUserBounds(),\n          min = _this$getUserBounds5.min,\n          max = _this$getUserBounds5.max,\n          minDefined = _this$getUserBounds5.minDefined,\n          maxDefined = _this$getUserBounds5.maxDefined;\n\n      function _applyBounds(bounds) {\n        if (!minDefined && !isNaN(bounds.min)) {\n          min = Math.min(min, bounds.min);\n        }\n\n        if (!maxDefined && !isNaN(bounds.max)) {\n          max = Math.max(max, bounds.max);\n        }\n      }\n\n      if (!minDefined || !maxDefined) {\n        _applyBounds(this._getLabelBounds());\n\n        if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n          _applyBounds(this.getMinMax(false));\n        }\n      }\n\n      min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n      max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n      this.min = Math.min(min, max - 1);\n      this.max = Math.max(min + 1, max);\n    }\n  }, {\n    key: \"_getLabelBounds\",\n    value: function _getLabelBounds() {\n      var arr = this.getLabelTimestamps();\n      var min = Number.POSITIVE_INFINITY;\n      var max = Number.NEGATIVE_INFINITY;\n\n      if (arr.length) {\n        min = arr[0];\n        max = arr[arr.length - 1];\n      }\n\n      return {\n        min: min,\n        max: max\n      };\n    }\n  }, {\n    key: \"buildTicks\",\n    value: function buildTicks() {\n      var options = this.options;\n      var timeOpts = options.time;\n      var tickOpts = options.ticks;\n      var timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n\n      if (options.bounds === 'ticks' && timestamps.length) {\n        this.min = this._userMin || timestamps[0];\n        this.max = this._userMax || timestamps[timestamps.length - 1];\n      }\n\n      var min = this.min;\n      var max = this.max;\n\n      var ticks = _filterBetween(timestamps, min, max);\n\n      this._unit = timeOpts.unit || (tickOpts.autoSkip ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min)) : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n      this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined : determineMajorUnit(this._unit);\n      this.initOffsets(timestamps);\n\n      if (options.reverse) {\n        ticks.reverse();\n      }\n\n      return ticksFromTimestamps(this, ticks, this._majorUnit);\n    }\n  }, {\n    key: \"initOffsets\",\n    value: function initOffsets(timestamps) {\n      var start = 0;\n      var end = 0;\n      var first, last;\n\n      if (this.options.offset && timestamps.length) {\n        first = this.getDecimalForValue(timestamps[0]);\n\n        if (timestamps.length === 1) {\n          start = 1 - first;\n        } else {\n          start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n        }\n\n        last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n\n        if (timestamps.length === 1) {\n          end = last;\n        } else {\n          end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n        }\n      }\n\n      var limit = timestamps.length < 3 ? 0.5 : 0.25;\n      start = _limitValue(start, 0, limit);\n      end = _limitValue(end, 0, limit);\n      this._offsets = {\n        start: start,\n        end: end,\n        factor: 1 / (start + 1 + end)\n      };\n    }\n  }, {\n    key: \"_generate\",\n    value: function _generate() {\n      var adapter = this._adapter;\n      var min = this.min;\n      var max = this.max;\n      var options = this.options;\n      var timeOpts = options.time;\n      var minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n      var stepSize = valueOrDefault(timeOpts.stepSize, 1);\n      var weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n      var hasWeekday = isNumber(weekday) || weekday === true;\n      var ticks = {};\n      var first = min;\n      var time, count;\n\n      if (hasWeekday) {\n        first = +adapter.startOf(first, 'isoWeek', weekday);\n      }\n\n      first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n\n      if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n        throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n      }\n\n      var timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n\n      for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n        addTick(ticks, time, timestamps);\n      }\n\n      if (time === max || options.bounds === 'ticks' || count === 1) {\n        addTick(ticks, time, timestamps);\n      }\n\n      return Object.keys(ticks).sort(function (a, b) {\n        return a - b;\n      }).map(function (x) {\n        return +x;\n      });\n    }\n  }, {\n    key: \"getLabelForValue\",\n    value: function getLabelForValue(value) {\n      var adapter = this._adapter;\n      var timeOpts = this.options.time;\n\n      if (timeOpts.tooltipFormat) {\n        return adapter.format(value, timeOpts.tooltipFormat);\n      }\n\n      return adapter.format(value, timeOpts.displayFormats.datetime);\n    }\n  }, {\n    key: \"_tickFormatFunction\",\n    value: function _tickFormatFunction(time, index, ticks, format) {\n      var options = this.options;\n      var formats = options.time.displayFormats;\n      var unit = this._unit;\n      var majorUnit = this._majorUnit;\n      var minorFormat = unit && formats[unit];\n      var majorFormat = majorUnit && formats[majorUnit];\n      var tick = ticks[index];\n      var major = majorUnit && majorFormat && tick && tick.major;\n\n      var label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n\n      var formatter = options.ticks.callback;\n      return formatter ? callback(formatter, [label, index, ticks], this) : label;\n    }\n  }, {\n    key: \"generateTickLabels\",\n    value: function generateTickLabels(ticks) {\n      var i, ilen, tick;\n\n      for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n        tick = ticks[i];\n        tick.label = this._tickFormatFunction(tick.value, i, ticks);\n      }\n    }\n  }, {\n    key: \"getDecimalForValue\",\n    value: function getDecimalForValue(value) {\n      return value === null ? NaN : (value - this.min) / (this.max - this.min);\n    }\n  }, {\n    key: \"getPixelForValue\",\n    value: function getPixelForValue(value) {\n      var offsets = this._offsets;\n      var pos = this.getDecimalForValue(value);\n      return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var offsets = this._offsets;\n      var pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n      return this.min + pos * (this.max - this.min);\n    }\n  }, {\n    key: \"_getLabelSize\",\n    value: function _getLabelSize(label) {\n      var ticksOpts = this.options.ticks;\n      var tickLabelWidth = this.ctx.measureText(label).width;\n      var angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n      var cosRotation = Math.cos(angle);\n      var sinRotation = Math.sin(angle);\n\n      var tickFontSize = this._resolveTickFontOptions(0).size;\n\n      return {\n        w: tickLabelWidth * cosRotation + tickFontSize * sinRotation,\n        h: tickLabelWidth * sinRotation + tickFontSize * cosRotation\n      };\n    }\n  }, {\n    key: \"_getLabelCapacity\",\n    value: function _getLabelCapacity(exampleTime) {\n      var timeOpts = this.options.time;\n      var displayFormats = timeOpts.displayFormats;\n      var format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n\n      var exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n\n      var size = this._getLabelSize(exampleLabel);\n\n      var capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n      return capacity > 0 ? capacity : 1;\n    }\n  }, {\n    key: \"getDataTimestamps\",\n    value: function getDataTimestamps() {\n      var timestamps = this._cache.data || [];\n      var i, ilen;\n\n      if (timestamps.length) {\n        return timestamps;\n      }\n\n      var metas = this.getMatchingVisibleMetas();\n\n      if (this._normalized && metas.length) {\n        return this._cache.data = metas[0].controller.getAllParsedValues(this);\n      }\n\n      for (i = 0, ilen = metas.length; i < ilen; ++i) {\n        timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n      }\n\n      return this._cache.data = this.normalize(timestamps);\n    }\n  }, {\n    key: \"getLabelTimestamps\",\n    value: function getLabelTimestamps() {\n      var timestamps = this._cache.labels || [];\n      var i, ilen;\n\n      if (timestamps.length) {\n        return timestamps;\n      }\n\n      var labels = this.getLabels();\n\n      for (i = 0, ilen = labels.length; i < ilen; ++i) {\n        timestamps.push(_parse(this, labels[i]));\n      }\n\n      return this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps);\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize(values) {\n      return _arrayUnique(values.sort(sorter));\n    }\n  }]);\n\n  return TimeScale;\n}(Scale);\n\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  var lo = 0;\n  var hi = table.length - 1;\n  var prevSource, nextSource, prevTarget, nextTarget;\n\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      var _lookupByKey2 = _lookupByKey(table, 'pos', val);\n\n      lo = _lookupByKey2.lo;\n      hi = _lookupByKey2.hi;\n    }\n\n    var _table$lo = table[lo];\n    prevSource = _table$lo.pos;\n    prevTarget = _table$lo.time;\n    var _table$hi = table[hi];\n    nextSource = _table$hi.pos;\n    nextTarget = _table$hi.time;\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      var _lookupByKey3 = _lookupByKey(table, 'time', val);\n\n      lo = _lookupByKey3.lo;\n      hi = _lookupByKey3.hi;\n    }\n\n    var _table$lo2 = table[lo];\n    prevSource = _table$lo2.time;\n    prevTarget = _table$lo2.pos;\n    var _table$hi2 = table[hi];\n    nextSource = _table$hi2.time;\n    nextTarget = _table$hi2.pos;\n  }\n\n  var span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\n\nvar TimeSeriesScale = /*#__PURE__*/function (_TimeScale) {\n  _inherits(TimeSeriesScale, _TimeScale);\n\n  var _super25 = _createSuper(TimeSeriesScale);\n\n  function TimeSeriesScale(props) {\n    var _this42;\n\n    _classCallCheck(this, TimeSeriesScale);\n\n    _this42 = _super25.call(this, props);\n    _this42._table = [];\n    _this42._minPos = undefined;\n    _this42._tableRange = undefined;\n    return _this42;\n  }\n\n  _createClass(TimeSeriesScale, [{\n    key: \"initOffsets\",\n    value: function initOffsets() {\n      var timestamps = this._getTimestampsForTable();\n\n      var table = this._table = this.buildLookupTable(timestamps);\n      this._minPos = interpolate(table, this.min);\n      this._tableRange = interpolate(table, this.max) - this._minPos;\n\n      _get(_getPrototypeOf(TimeSeriesScale.prototype), \"initOffsets\", this).call(this, timestamps);\n    }\n  }, {\n    key: \"buildLookupTable\",\n    value: function buildLookupTable(timestamps) {\n      var min = this.min,\n          max = this.max;\n      var items = [];\n      var table = [];\n      var i, ilen, prev, curr, next;\n\n      for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n        curr = timestamps[i];\n\n        if (curr >= min && curr <= max) {\n          items.push(curr);\n        }\n      }\n\n      if (items.length < 2) {\n        return [{\n          time: min,\n          pos: 0\n        }, {\n          time: max,\n          pos: 1\n        }];\n      }\n\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        next = items[i + 1];\n        prev = items[i - 1];\n        curr = items[i];\n\n        if (Math.round((next + prev) / 2) !== curr) {\n          table.push({\n            time: curr,\n            pos: i / (ilen - 1)\n          });\n        }\n      }\n\n      return table;\n    }\n  }, {\n    key: \"_getTimestampsForTable\",\n    value: function _getTimestampsForTable() {\n      var timestamps = this._cache.all || [];\n\n      if (timestamps.length) {\n        return timestamps;\n      }\n\n      var data = this.getDataTimestamps();\n      var label = this.getLabelTimestamps();\n\n      if (data.length && label.length) {\n        timestamps = this.normalize(data.concat(label));\n      } else {\n        timestamps = data.length ? data : label;\n      }\n\n      timestamps = this._cache.all = timestamps;\n      return timestamps;\n    }\n  }, {\n    key: \"getDecimalForValue\",\n    value: function getDecimalForValue(value) {\n      return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n    }\n  }, {\n    key: \"getValueForPixel\",\n    value: function getValueForPixel(pixel) {\n      var offsets = this._offsets;\n      var decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n      return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n    }\n  }]);\n\n  return TimeSeriesScale;\n}(TimeScale);\n\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\nvar scales = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  CategoryScale: CategoryScale,\n  LinearScale: LinearScale,\n  LogarithmicScale: LogarithmicScale,\n  RadialLinearScale: RadialLinearScale,\n  TimeScale: TimeScale,\n  TimeSeriesScale: TimeSeriesScale\n});\nvar registerables = [controllers, elements, plugins, scales];\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, plugin_filler as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, elements, layouts, plugins, registerables, registry, scales };"],"sourceRoot":""}