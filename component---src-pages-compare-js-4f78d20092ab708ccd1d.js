(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{sQKK:function(e,t,a){"use strict";a.r(t);a("VRzm"),a("Btvt"),a("91GP"),a("KKXr"),a("pIFo");var n=a("kD0k"),r=a.n(n),c=(a("OG14"),a("ls82"),a("q1tI")),l=a.n(c),o=a("BYIe"),s=a("Kvkj"),i=a("7Qib"),m=a("zM5D"),u=a("XQC9"),d=a("cWnB"),h=a("zUrK"),g=a("DZHF"),b=(a("IP2g"),a("lay5")),E=(a("WHqd"),a("+eM2"),a("q4sD"),a("LUGt")),f=(a("5uP9"),a("NQsN"),a("1g23")),p=a("Abnl"),v=a("YwZP");function y(e,t,a,n,r,c,l){try{var o=e[c](l),s=o.value}catch(i){return void a(i)}o.done?t(s):Promise.resolve(s).then(n,r)}function B(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var c=e.apply(t,a);function l(e){y(c,n,r,l,o,"next",e)}function o(e){y(c,n,r,l,o,"throw",e)}l(void 0)}))}}var w=function(){var e=B(r.a.mark((function e(){var t,a,n,c,l,o,s,i,m,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!=typeof window&&(t=new URLSearchParams(window.location.search)),a=t.get("home1"),n=a.search("_"),c=a.substring(0,n),l=a.substring(n+1),o=t.get("home2"),s=o.search("_"),i=o.substring(0,s),m=o.substring(s+1),u={},e.next=12,b.b.firestore().collection("States").doc(String(l)).collection("buffer").doc(c).get().then((function(e){e.exists?u.home1=e.data():console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));case 12:return e.next=14,b.b.firestore().collection("States").doc(String(m)).collection("buffer").doc(i).get().then((function(e){e.exists?u.home2=e.data():console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}));case 14:return e.abrupt("return",u);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.default=function(e){e.location;var t=Object(f.b)(),a=Object(c.useState)({}),n=a[0],y=(a[1],Object(c.useState)("")),x=y[0],k=(y[1],Object(c.useState)({})),S=k[0],C=k[1],N=Object(c.useState)([]),D=N[0],O=N[1],j=Object(c.useState)([{category:"filler",text:["filler","filler"]}]),W=j[0],z=j[1],_=Object(c.useState)({}),F=_[0],I=_[1],H=Object(c.useState)([]),A=H[0],K=H[1],P=Object(c.useState)([{category:"filler",text:["filler","filler"]}]),Y=P[0],M=P[1],R=Object(c.useState)(!1),T=R[0],$=R[1],U=Object(c.useState)(""),J=U[0],L=U[1],Q=Object(c.useState)(""),q=Q[0],G=Q[1],X=Object(c.useState)(""),Z=X[0],V=X[1],ee=Object(c.useContext)(o.b).dark,te=Object(c.useState)(0),ae=te[0],ne=te[1],re=function(e){C(e);var t=[];e.photos.forEach((function(e){var a=e.href,n=a.substring(0,a.length-5).concat("od-w1024_h768_x2.webp");t.push({src:n})})),z(e.features),O(t)},ce=function(e){I(e);var t=[];e.photos.forEach((function(e){var a=e.href,n=a.substring(0,a.length-5).concat("od-w1024_h768_x2.webp");t.push({src:n})})),M(e.features),K(t)};function le(e){null==e&&(e="");for(var t=(e=(e=(e=(e=(e=(e=(e+="").replace(",","")).replace(",","")).replace(",","")).replace(",","")).replace(",","")).replace(",","")).split("."),a=t[0],n=t.length>1?"."+t[1]:"",r=/(\d+)(\d{3})/;r.test(a);)a=a.replace(r,"$1,$2");return a+n}Object(c.useEffect)((function(){B(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,re(t.home1),ce(t.home2);case 5:case"end":return e.stop()}}),e)})))()}),[x,ae]);var oe=0,se="",ie=0,me="",ue="",de="";S&&(ie=S.price,S.building_size&&(oe=S.building_size.size,se=S.building_size.units),S.address&&(me=S.address.city,ue=S.address.state,S.address.line,de=S.address.postal_code,S.address.lat,S.address.lon));var he=0,ge="",be=0,Ee="",fe="",pe="";F&&(be=F.price,F.building_size&&(he=F.building_size.size,ge=F.building_size.units),F.address&&(Ee=F.address.city,fe=F.address.state,F.address.line,pe=F.address.postal_code,F.address.lat,F.address.lon));var ve=function(){var e=B(r.a.mark((function e(a){var n,c,l,o,s,i,m,u,d,h,g,E,f,p,v,y,B;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.preventDefault(),l=!1,(n=ie)>(c=be)&&"A"==J?(V("Right"),l=!0):n>c&&"B"==J||n<c&&"A"==J?V("Wrong"):n<c&&"B"==J&&(V("Right"),l=!0),!l){e.next=30;break}if(!t||!t.uid){e.next=30;break}if(o=""+t.uid,s={},null!=(i=JSON.parse(localStorage.getItem("userData")))){e.next=15;break}return e.next=13,b.b.firestore().collection("Users").doc(String(t.uid)).get().then((function(e){e.exists?(s=e.data(),localStorage.setItem("userData",JSON.stringify(e.data()))):console.log("No such user!")})).catch((function(e){console.log("Error getting user:",e)}));case 13:e.next=16;break;case 15:s=i;case 16:"undefined"!=typeof window&&(m=new URLSearchParams(window.location.search)),u=m.get("home1"),d=u.search("_"),h=u.substring(0,d),g=u.substring(d+1),E=m.get("home2"),f=E.search("_"),p=E.substring(0,f),v=E.substring(f+1),y=String(h).localeCompare(String(p)),B=1==y?"compare".concat(h).concat(".").concat(g).concat("+").concat(p).concat(".").concat(v):"compare".concat(p).concat(".").concat(v).concat("+").concat(h).concat(".").concat(g),s[B]=[100],b.b.firestore().collection("Users").doc(String(o)).set(s),localStorage.setItem("userData",JSON.stringify(s));case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=B(r.a.mark((function e(t){var a,c,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"return",e.next=3,Object(p.a)(n,"return");case 3:a=e.sent,c=a[0],l=a[1],L(""),G(""),$(!1),V(""),Object(v.navigate)("/compare?home1="+c+"&home2="+l),setTimeout((function(){var e=Math.random()+Math.random()+Math.random();ne(e)}),100);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Be(e){return l.a.createElement(m.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"my-modal"}),l.a.createElement(m.a.Header,{style:{backgroundColor:ee?"#222":"white",color:ee?"white":"black"}},l.a.createElement(m.a.Title,{id:"contained-modal-title-vcenter"},""==Z?l.a.createElement(l.a.Fragment,null,"You selected:",l.a.createElement("span",{style:{color:"#00dd00",fontSize:"2rem"}}," ",J)," costs more than ",l.a.createElement("span",{style:{color:"#00dd00",fontSize:"2rem"}},q)):"Right"==Z?l.a.createElement(l.a.Fragment,null,"Congratulations!!! ðŸ˜€"):"Wrong"==Z?l.a.createElement(l.a.Fragment,null,"Sorry ðŸ˜¢"):void 0),l.a.createElement(u.a,{onClick:e.onHide,variant:ee?"white":""})),l.a.createElement(m.a.Body,{style:{backgroundColor:ee?"#222":"white",color:ee?"white":"black"}},""==Z?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"thicc"},"Click 'Yes' to confirm or 'Close' to change your answer."),l.a.createElement("br",null),l.a.createElement(d.a,{onClick:ve,style:{fontSize:"1.5rem",fontWeight:"500",color:"white"},variant:"primary"},"Yes!")):"Right"==Z?l.a.createElement(l.a.Fragment,null,"You are correct! You scored 100 points!!!! ",l.a.createElement("br",null),"House A is ",l.a.createElement("span",{style:{color:"#00DD00",fontWeight:"800"}},"$",le(String(ie).replace(/\D/g,""))," "),"and House B is ",l.a.createElement("span",{style:{color:"#00DD00",fontWeight:"800"}},"$",le(String(be).replace(/\D/g,"")))):"Wrong"==Z?l.a.createElement(l.a.Fragment,null,"That is incorrect. Better luck next time. ",l.a.createElement("br",null),"House A is ",l.a.createElement("span",{style:{color:"#00DD00",fontWeight:"800"}},"$",le(String(ie).replace(/\D/g,""))," "),"and House B is ",l.a.createElement("span",{style:{color:"#00DD00",fontWeight:"800"}},"$",le(String(be).replace(/\D/g,"")))):void 0),l.a.createElement(m.a.Footer,{style:{backgroundColor:ee?"#222":"white",color:ee?"white":"black"}},""==Z?l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{variant:"danger",onClick:e.onHide},"Close")):l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{variant:"danger",onClick:function(){e.onHide()}},"Close"))))}return l.a.createElement(s.a,null,l.a.createElement(i.a,{title:"Compare"}),""==Z?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"inputCompare text-color"},l.a.createElement("h3",null,"  Which Price is Higher? "),l.a.createElement(h.a,{style:{justifyContent:"center"}},l.a.createElement(d.a,{onClick:function(){L("A"),G("B"),$(!0)},style:{fontSize:"1.5rem",fontWeight:"900",backgroundColor:"#00BB00",borderColor:"#00BB00",width:"40%"},variant:"success",value:"Submit"},"A"),l.a.createElement(d.a,{disabled:!0,style:{backgroundColor:"grey",borderColor:"grey",color:"white",fontSize:"1.2rem",fontWeight:"900",width:"20%",textAlign:"center"}},"OR"),l.a.createElement(d.a,{onClick:function(){L("B"),G("A"),$(!0)},style:{fontSize:"1.5rem",fontWeight:"900",backgroundColor:"#00BB00",borderColor:"#00BB00",width:"40%"},variant:"success",value:"Submit"},"B")))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"inputCompare text-color"},l.a.createElement(h.a,{style:{justifyContent:"center"}},l.a.createElement(d.a,{onClick:function(){ye()},style:{fontSize:"1.5rem",fontWeight:"900",backgroundColor:"#00BB00",borderColor:"#00BB00",width:"90%"},variant:"success",value:"Submit"},"New Comparison")))),T?l.a.createElement(Be,{show:T,onHide:function(){return $(!1)}}):" ",l.a.createElement("br",null),l.a.createElement("div",{className:"pageMargin pt-6 mt-6 text-color"},l.a.createElement("div",{className:"compareTop-grid"},l.a.createElement("div",{className:"compareTopBox"},""==Z?l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null," A ")):l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null," ",l.a.createElement("span",{style:{color:"#00DD00",fontWeight:"800"}},"$",le(String(ie).replace(/\D/g,""))," ")," ")),l.a.createElement("div",{className:"compareBasic-grid"},l.a.createElement("div",{className:"compareBasicBoxes "},l.a.createElement(E.a,{images:D,style:{height:400,backgroundColor:"transparent"},hasMediaButton:!1,hasIndexBoard:!1})),l.a.createElement("div",{className:"compareBasicBoxes text-left thicc "},l.a.createElement("hr",{style:{borderTop:"1px solid "+(ee?"white":"black")}})," ",me,", ",ue,", ",de," ",l.a.createElement("br",null),S.beds," ",l.a.createElement("div",{className:"thin"},"Beds")," ",S.baths," ",l.a.createElement("div",{className:"thin"},"Baths"),"Â ",oe," ",l.a.createElement("div",{className:"thin"},se)," ",S.style," ",l.a.createElement("br",null),S.year_built," ",l.a.createElement("div",{className:"thin"},"Year Built")),l.a.createElement(g.a,null,l.a.createElement(g.a.Item,{eventKey:"0",style:{borderColor:"#bbb",borderWidth:"1px"}},l.a.createElement(g.a.Button,{style:{backgroundColor:ee?"#222":"white",color:ee?"white":"black"}},l.a.createElement("u",null,"Description:")),l.a.createElement(g.a.Body,null,l.a.createElement("div",{className:"compareBasicBoxes text-left thicc scrolling"},l.a.createElement("div",{className:"thin"},S.description))))),l.a.createElement("div",{className:"compareBasicBoxes text-left thicc "},l.a.createElement(g.a,null,l.a.createElement(g.a.Item,{eventKey:"0",style:{borderColor:"#bbb",borderWidth:"1px"}},l.a.createElement(g.a.Button,{style:{backgroundColor:ee?"#222":"white",color:ee?"white":"black"}},l.a.createElement("u",null,"Details:")),l.a.createElement(g.a.Body,null,l.a.createElement("div",{className:"thin feat-grid"},W.map((function(e,t){return l.a.createElement("div",{key:"featCat-"+t,className:"featBoxes"},l.a.createElement("div",{className:"mid"},e.category," "),l.a.createElement("ul",null,e.text.map((function(e,t){return l.a.createElement("li",{key:"featList-"+t},e)}))))}))))))))),l.a.createElement("div",{className:"compareTopBox"},""==Z?l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null," B ")):l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null," ",l.a.createElement("span",{style:{color:"#00DD00",fontWeight:"800"}},"$",le(String(be).replace(/\D/g,""))," ")," ")),l.a.createElement("div",{className:"compareBasic-grid"},l.a.createElement("div",{className:"compareBasicBoxes"},l.a.createElement(E.a,{images:A,style:{height:400,backgroundColor:"transparent"},hasMediaButton:!1,hasIndexBoard:!1})),l.a.createElement("div",{className:"compareBasicBoxes text-left thicc "},l.a.createElement("hr",{style:{borderTop:"1px solid "+(ee?"white":"black")}})," ",Ee,", ",fe,", ",pe," ",l.a.createElement("br",null),F.beds," ",l.a.createElement("div",{className:"thin"},"Beds")," ",F.baths," ",l.a.createElement("div",{className:"thin"},"Baths"),"Â ",he," ",l.a.createElement("div",{className:"thin"},ge)," ",F.style," ",l.a.createElement("br",null),F.year_built," ",l.a.createElement("div",{className:"thin"},"Year Built")),l.a.createElement(g.a,null,l.a.createElement(g.a.Item,{eventKey:"0",style:{borderColor:"#bbb",borderWidth:"1px"}},l.a.createElement(g.a.Button,{style:{backgroundColor:ee?"#222":"white",color:ee?"white":"black"}},l.a.createElement("u",null,"Description:")),l.a.createElement(g.a.Body,null,l.a.createElement("div",{className:"compareBasicBoxes text-left thicc scrolling"},l.a.createElement("div",{className:"thin"},F.description))))),l.a.createElement("div",{className:"compareBasicBoxes text-left thicc "},l.a.createElement(g.a,null,l.a.createElement(g.a.Item,{eventKey:"0",style:{borderColor:"#bbb",borderWidth:"1px"}},l.a.createElement(g.a.Button,{style:{backgroundColor:ee?"#222":"white",color:ee?"white":"black"}},l.a.createElement("u",null,"Details:")),l.a.createElement(g.a.Body,null,l.a.createElement("div",{className:"thin feat-grid"},Y.map((function(e,t){return l.a.createElement("div",{key:"featCat-"+t,className:"featBoxes"},l.a.createElement("div",{className:"mid"},e.category," "),l.a.createElement("ul",null,e.text.map((function(e,t){return l.a.createElement("li",{key:"featList-"+t},e)}))))}))))))))))))}}}]);
//# sourceMappingURL=component---src-pages-compare-js-4f78d20092ab708ccd1d.js.map