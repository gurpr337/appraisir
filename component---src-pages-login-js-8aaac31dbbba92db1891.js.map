{"version":3,"sources":["webpack:///./src/pages/Login.js"],"names":["Login","emailRef","useRef","passwordRef","useState","error","setError","loading","setLoading","callLogin","a","login","current","value","then","resp","profileInfo","loggedUser","neededData","email","displayName","uid","localStorage","setItem","JSON","stringify","navigate","catch","String","loginWithGoogle","e","preventDefault","title","className","style","maxWidth","borderColor","borderWidth","Body","fontWeight","backgroundColor","color","disabled","onClick","onSubmit","Group","id","Label","Control","type","ref","required","to"],"mappings":"ioBAOe,SAASA,IAEtB,IAAMC,EAAWC,mBACXC,EAAcD,mBAFtB,EAG4BE,mBAAS,IAA5BC,EAHT,KAGgBC,EAHhB,OAIgCF,oBAAS,GAAhCG,EAJT,KAIkBC,EAJlB,cAMiBC,IANjB,iEAME,sBAAAC,EAAA,sEAEQC,YAAMV,EAASW,QAAQC,MAAOV,EAAYS,QAAQC,OAAOC,MAAK,SAACC,GAEnE,IAAIC,EAAcC,cACdC,EAAa,CAAC,MAAQF,EAAYG,MAAM,YAAcH,EAAYI,YAAY,IAAMJ,EAAYK,KAEpGC,aAAaC,QAAQ,cAAeC,KAAKC,UAAUP,IACnDQ,mBAAS,QAERC,OAAM,SAACtB,GAERC,EAASsB,OAAOvB,OAZpB,4CANF,wDAqBE,sBAAAK,EAAA,sEAEQmB,cAAkBf,MAAK,SAACC,GAG5B,IAAIC,EAAcC,cACdC,EAAa,CAAC,MAAQF,EAAYG,MAAM,YAAcH,EAAYI,YAAY,IAAMJ,EAAYK,KAEpGC,aAAaC,QAAQ,cAAeC,KAAKC,UAAUP,IACnDQ,mBAAS,QACRC,OAAM,SAACtB,GAERC,EAASsB,OAAOvB,OAZpB,4CArBF,wDAqCE,WAA4ByB,GAA5B,SAAApB,EAAA,sDAEEoB,EAAEC,iBACF,IAEEzB,EAAS,IACTE,GAAW,GACXC,IAEF,SAEEH,EAAS,oBAEXE,GAAW,GAbb,4CArCF,sBAqDE,OACE,oCACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKwB,MAAM,UACX,kBAAC,IAAD,CAAWC,UAAU,oDACrB,yBAAKA,UAAU,mBAAmBC,MAAO,CAAEC,SAAU,UACnD,kBAAC,IAAD,CAAMD,MAAO,CAAEE,YAAY,OAAOC,YAAY,QAC5C,kBAAC,IAAKC,KAAN,KAEE,wBAAIL,UAAU,oBAAd,UAEC5B,GAAS,kBAAC,IAAD,CAAO6B,MAAO,CAACK,WAAW,MAAMC,gBAAgB,UAAUC,MAAM,QAAQL,YAAY,YAAa/B,GAE3G,kBAAC,IAAD,CAAQqC,SAAUnC,EAAS2B,MAAO,CAACM,gBAAgB,UAAUH,YAAY,OAAQM,QAlE7F,4CAkEY,sBAGA,6BAAK,6BACL,kBAAC,IAAD,CAAMC,SAtElB,6CAuEc,kBAAC,IAAKC,MAAN,CAAYC,GAAG,SACb,kBAAC,IAAKC,MAAN,cACA,kBAAC,IAAKC,QAAN,CAAcC,KAAK,QAAQC,IAAKjD,EAAUkD,UAAQ,KAEpD,kBAAC,IAAKN,MAAN,CAAYC,GAAG,YACb,kBAAC,IAAKC,MAAN,iBACA,kBAAC,IAAKC,QAAN,CAAcC,KAAK,WAAWC,IAAK/C,EAAagD,UAAQ,KAE1D,kBAAC,IAAD,CAAQT,SAAUnC,EAAS0B,UAAU,QAAQgB,KAAK,UAAlD,WAIF,yBAAKhB,UAAU,0BACb,kBAAC,OAAD,CAAMmB,GAAG,mBAAT,uBAMN,yBAAKnB,UAAU,0BAAf,oBACmB,kBAAC,OAAD,CAAMmB,GAAG,WAAT","file":"component---src-pages-login-js-8aaac31dbbba92db1891.js","sourcesContent":["import React, { useRef, useState, useContext } from \"react\"\r\nimport { Form, Button, Card, Alert, Container } from \"react-bootstrap\"\r\nimport { login,loggedUser,loginWithGoogle } from  \"../components/FirebaseAuth\"\r\nimport { Link, navigate } from \"gatsby\"\r\nimport { PageLayout } from \"../components\"\r\nimport { SEO } from \"../utils\"\r\n\r\nexport default function Login() \r\n{\r\n  const emailRef = useRef()\r\n  const passwordRef = useRef()\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  async function callLogin()\r\n  {\r\n    await login(emailRef.current.value, passwordRef.current.value).then((resp) => \r\n    {\r\n      let profileInfo = loggedUser()\r\n      let neededData = {\"email\":profileInfo.email,\"displayName\":profileInfo.displayName,\"uid\":profileInfo.uid}\r\n      //console.log(\"profile is\",neededData)\r\n      localStorage.setItem('profileData', JSON.stringify(neededData) )\r\n      navigate(`/`)\r\n\r\n    }).catch((error) => \r\n    {\r\n      setError(String(error) )\r\n    })\r\n  }\r\n  async function callGoogleLogin()\r\n  {\r\n    await loginWithGoogle().then((resp) => \r\n    {\r\n      //console.log(resp)\r\n      let profileInfo = loggedUser()\r\n      let neededData = {\"email\":profileInfo.email,\"displayName\":profileInfo.displayName,\"uid\":profileInfo.uid}\r\n      //console.log(\"profile is\",neededData)\r\n      localStorage.setItem('profileData', JSON.stringify(neededData) )\r\n      navigate(`/`)\r\n    }).catch((error) => \r\n    {\r\n      setError(String(error) )\r\n    })\r\n  }\r\n\r\n  async function handleSubmit(e) \r\n  {\r\n    e.preventDefault()\r\n    try \r\n    {\r\n      setError(\"\")\r\n      setLoading(true)\r\n      callLogin()\r\n    } \r\n    catch \r\n    {\r\n      setError(\"Failed to log in\")\r\n    }\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <PageLayout>\r\n      <SEO title=\"Login\" />\r\n      <Container className=\"d-flex align-items-center justify-content-center\" >\r\n      <div className=\"w-100 text-color\" style={{ maxWidth: \"400px\" }}>\r\n        <Card style={{ borderColor:\"grey\",borderWidth:\"3px\" }}>\r\n          <Card.Body>\r\n\r\n            <h2 className=\"text-center mb-4\">Log In</h2>\r\n            \r\n            {error && <Alert style={{fontWeight:\"900\",backgroundColor:\"#d9534f\",color:\"white\",borderColor:\"#d9534f\"}}>{error}</Alert>}\r\n\r\n            <Button disabled={loading} style={{backgroundColor:'#00dd00',borderWidth:'0px'}} onClick={callGoogleLogin}>\r\n              Log In with Google \r\n            </Button>\r\n            <br/><br/>\r\n            <Form onSubmit={handleSubmit}>\r\n              <Form.Group id=\"email\">\r\n                <Form.Label>Email</Form.Label>\r\n                <Form.Control type=\"email\" ref={emailRef} required />\r\n              </Form.Group>\r\n              <Form.Group id=\"password\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control type=\"password\" ref={passwordRef} required />\r\n              </Form.Group>\r\n              <Button disabled={loading} className=\"w-100\" type=\"submit\">\r\n                Log In\r\n              </Button>\r\n            </Form>\r\n            <div className=\"w-100 text-center mt-3\">\r\n              <Link to=\"/ForgotPassword\">Forgot Password?</Link>\r\n            </div>\r\n\r\n          </Card.Body>\r\n        </Card>\r\n\r\n        <div className=\"w-100 text-center mt-2\">\r\n          Need an account? <Link to=\"/Signup\">Sign Up</Link>\r\n        </div>\r\n      </div>\r\n      </Container>\r\n    </PageLayout>\r\n    </>\r\n  )\r\n}"],"sourceRoot":""}