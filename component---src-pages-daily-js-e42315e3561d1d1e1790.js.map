{"version":3,"sources":["webpack:///./src/pages/Daily.js"],"names":["location","currentUser","loggedUser","useState","userData","setUserData","mlsID","alreadyPlayed","setAlreadyPlayed","previousScore","setPreviousScore","houseData","setHouse","pics","setPictures","category","text","feats","setFeats","assessment","total","year","taxAss","setTaxAss","readTax","setReadTax","taxModalShow","setTaxModalShow","trendModalShow","setTrendModalShow","median","trend","setTrend","readTrend","setReadTrend","listItems","priceSub","setPriceSub","priceComma","setPriceComma","hideInput","setHideInput","ogGuess","setOgGuess","priceDiff","setPriceDiff","percentageScore","setPercentageScore","modalShow","setModalShow","dark","useContext","ThemeContext","rerendering","setRerender","mapModalShow","setMapModalShow","houseSize","houseUnits","housePrice","houseCity","houseState","houseLine","houseZip","shareOutput","setShareOutput","dailyHouseVars","setDailyHouseVars","getStateMLS","mlsParam","stateParam","dailyList","todaysDate","Date","startDate","diffTime","getTime","diffDays","Math","trunc","dailyParams","String","length","divider","search","substring","ret","GetHouseData","localUserData","a","altReturn","houseVars","stateID","window","dailyStorage","JSON","parse","localStorage","getItem","timeStored","parseInt","time","keyName","key","localeCompare","points","console","log","firebase","firestore","collection","doc","get","then","exists","data","catch","error","loadPageData","pageData","tempPic","photos","forEach","element","str","href","better","concat","push","src","features","tax_history","propData","by_prop_type","useEffect","userStorage","uid","setItem","stringify","URLSearchParams","getHouse","undefined","price","building_size","size","units","address","city","state","line","postal_code","lat","lon","SubmitPrice","evt","preventDefault","mlsChosen","stateChosen","percent","abs","pointsEarned","round","pow","todaysEpoch","dailyData","userID","previousData","thumbNail","trim","betterThumbNail","accuracy","toFixed","badgeKey","completed","baths","beds","set","results","dailyAccuracy","dailyPoints","sc","floor","i","tempShareOutput","join","num","random","setTimeout","LoadWithState","searchParams","LoadStateHouse","LoadWithRandom","LoadRandomHouse","Comma","Num","x","replace","split","x1","x2","rgx","test","sharePopover","id","Body","NewScoreModal","props","aria-labelledby","centered","className","Header","style","backgroundColor","color","Title","fontWeight","trigger","placement","overlay","onClick","navigator","clipboard","writeText","textShadow","title","onHide","variant","sec","taxRead","trendRead","original","askLogIn","pBar","striped","bordered","hover","width","fontSize","height","now","to","learnMore","textAlign","Footer","TaxModal","TrendModal","margin","Object","entries","map","item","ind","listing_price","txt","charAt","toUpperCase","substr","toLowerCase","toTitleCase","parceInp","BigMap","useCallback","center","zoom","setmap","flyTo","attributionControl","zoomControl","whenCreated","scrollWheelZoom","url","pathOptions","radius","SmallMap","MapModal","parseFloat","rel","integrity","crossorigin","e","val","target","value","valClean","Text","borderColor","type","onChange","onKeyPress","placeholder","show","images","transitionDurationMax","hasMediaButton","hasIndexBoard","borderTop","year_built","position","opacity","border","bottom","zIndex","stroke","fill","preserveAspectRatio","role","viewBox","xmlns","d","description","Item","eventKey","borderWidth","Button","f","index"],"mappings":"+4BA2Be,sBAAgB,EAAdA,SAAe,IAE1BC,EAAcC,cAFW,EAKGC,mBAAS,IAAlCC,EALsB,KAKZC,EALY,OAOLF,mBAAS,IAA3BG,EAPuB,aASYH,sBAAlCI,EATsB,KASRC,EATQ,OAUYL,mBAAS,GAA3CM,EAVsB,KAURC,EAVQ,OAWAP,mBAAS,IAA/BQ,EAXsB,KAWZC,EAXY,OAYDT,mBAAS,IAA9BU,EAZsB,KAYhBC,EAZgB,OAaHX,mBAAS,CAAC,CAACY,SAAS,SAASC,KAAK,CAAC,SAAU,aAAhEC,EAbsB,KAafC,EAbe,OAeDf,mBAAS,CAAC,CAACgB,WAAW,CAACC,MAAM,UAAUC,KAAK,YAAjEC,EAfsB,KAedC,EAfc,OAgBCpB,oBAAS,GAAhCqB,EAhBsB,KAgBbC,EAhBa,OAiBWtB,oBAAS,GAA1CuB,GAjBsB,KAiBRC,GAjBQ,QAmBexB,oBAAS,GAA9CyB,GAnBsB,MAmBNC,GAnBM,SAoBH1B,mBAAS,CAAC2B,OAAO,WAApCC,GApBsB,MAoBfC,GApBe,SAqBK7B,oBAAS,GAApC8B,GArBsB,MAqBXC,GArBW,SAuBK/B,mBAAS,MAApCgC,GAvBsB,gBAyBGhC,mBAAS,IAAlCiC,GAzBsB,MAyBZC,GAzBY,SA0BOlC,qBAA7BmC,GA1BsB,MA0BVC,GA1BU,SA2BKpC,oBAAS,GAApCqC,GA3BsB,MA2BXC,GA3BW,SA6BCtC,mBAAS,GAAhCuC,GA7BsB,MA6BbC,GA7Ba,SA8BKxC,mBAAS,GAApCyC,GA9BsB,MA8BXC,GA9BW,SA+BiB1C,mBAAS,GAAhD2C,GA/BsB,MA+BLC,GA/BK,SAgCK5C,oBAAS,GAApC6C,GAhCsB,MAgCXC,GAhCW,MAiCrBC,GAASC,qBAAWC,KAApBF,KAjCqB,GAoCM/C,mBAAS,GAArCkD,GApCsB,MAoCTC,GApCS,SAqCWnD,oBAAS,GAA1CoD,GArCsB,MAqCRC,GArCQ,MAuCzBC,GAAY,EACZC,GAAa,GACbC,GAAa,EACbC,GAAY,GACZC,GAAa,GACbC,GAAY,GACZC,GAAW,GA7Cc,GAiDS5D,mBAAS,IAAxC6D,GAjDsB,MAiDTC,GAjDS,SAmDc9D,mBAAS,IAA7C+D,GAnDsB,MAmDPC,GAnDO,MAoD7B,SAASC,KAEP,IAWIC,EAAUC,EAXVC,EAAY,CAAC,iBAAiB,iBAAiB,iBAAiB,iBAAiB,iBAAiB,iBAAiB,iBAAiB,kBAGpIC,EAAa,IAAIC,KACjBC,EAAY,IAAID,KAFR,cAGRE,EAAWH,EAAWI,UAAYF,EAAUE,UAC5CC,EAAWC,KAAKC,MAAMJ,EAAQ,OAM9BK,EAAcC,OAAOV,EAHZM,EAAUN,EAAUW,SAIjC,GAAIF,EAAYE,OAAS,EACzB,CACE,IAAIC,EAAUH,EAAYI,OAAO,KACjCf,EAAWW,EAAYK,UAAU,EAAEF,GACnCb,EAAaU,EAAYK,UAAWF,EAAQ,GAE9C,IAAIG,EAAM,CAAC,MAAQjB,EAAS,QAAUC,GAItC,OAFAH,GAAkBmB,GAEXA,EAKT,IAAMC,GAAY,6BAAG,WAAMC,GAAN,mCAAAC,EAAA,6DAKfC,EAAY,GAEZC,EAAYvB,KACZC,EAAWsB,EAAUrF,MACrBgE,EAAaqB,EAAUC,QAKL,oBAAXC,SACTC,EAAeC,KAAKC,MAAMC,aAAaC,QAAQ,WAE9B,MAAhBJ,IAGGK,EAAc,IAAI1B,KAAK2B,SAASN,EAAaO,OAAQzB,UAGrDJ,EAAa,IAAIC,KACjBE,EAAWH,EAAWI,UAAYuB,EAClCtB,EAAWC,KAAKC,MAAMJ,EAAQ,QAKrB,EAGO,MAAhBmB,EAGa,GAAZjB,IAGGyB,EAAajC,EAFnB,IAE+BC,EAExBW,OAAOa,EAAaS,KAAMC,cAAcvB,OAAOqB,MAI9ChB,EAAM,CAAC,QAAS,EAAM,OAASQ,EAAaW,QAEhDf,EAAYJ,IAMhBoB,QAAQC,IAAI,sBArDG,kBA2DZC,IAASC,YAAYC,WAAW,UAAUC,IAAI9B,OAAOX,IAAawC,WAAW,UAAUC,IAAI1C,GAAU2C,MAC3GC,MAAK,SAACF,GACL,GAAIA,EAAIG,OAIJ,OADAxB,EAAS,MAAYqB,EAAII,OAClBzB,EAKPgB,QAAQC,IAAI,wBAEfS,OAAM,SAACC,GACNX,QAAQC,IAAI,0BAA2BU,OAzExB,2CAAH,sDA6EZC,GAAe,SAACC,GAEpB/G,GAAiB,GACjBI,EAAS2G,GACT,IAAIC,EAAU,GAad,GAZAD,EAASE,OAAOC,SAAQ,SAAAC,GACtB,IAAIC,EAAMD,EAAQE,KAEdC,EADOF,EAAIvC,UAAU,EAAIuC,EAAI1C,OAAO,GACtB6C,OAAO,yBACzBP,EAAQQ,KAAK,CAACC,IAAIH,OAGpB5G,EAASqG,EAASW,UAClB3G,EAAUgG,EAASY,aACnBrH,EAAY0G,GAGTD,EAASxF,OAASwF,EAASxF,MAAMD,OACpC,CACE,IAAIsG,EAAWb,EAASxF,MAAMD,OAAOuG,aAErCrG,GAASoG,KAKbE,qBAAU,WAGR,YAAC,8BAAA7C,EAAA,yDAEY,EACA,EAEQ,OADf8C,EAAcxC,KAAKC,MAAMC,aAAaC,QAAQ,cAJnD,oBAOMjG,IAAeA,EAAYuI,IAPjC,gCAUW5B,IAASC,YAAYC,WAAW,SAASC,IAAI9B,OAAOhF,EAAYuI,MAAMxB,MAC3EC,MAAK,SAACF,GACDA,EAAIG,QAIJ7G,EAAY0G,EAAII,QAChBlB,aAAawC,QAAQ,WAAY1C,KAAK2C,UAAU3B,EAAII,UAKpDT,QAAQC,IAAI,oBAEfS,OAAM,SAACC,GAENX,QAAQC,IAAI,sBAAuBU,MA1B5C,8BAgCGhH,EAAYkI,GAhCf,WAsCuB,oBAAX1C,QACM,IAAI8C,gBAAgB9C,OAAO7F,SAASoF,QAKlC,MAAfmD,EA5CL,kCA8CoBhD,GAAagD,GA9CjC,QA8CGK,EA9CH,gDAmDoBrD,GAAanF,GAnDjC,QAmDGwI,EAnDH,eAsD0BC,MAAtBD,EAAQ,OAETtB,GAAasB,EAAQ,QAIrBtB,GAAasB,EAAQ,OACrBlI,EAAiBkI,EAAQ,QACzBpI,GAAiB,IA9DpB,2CAAD,KAkEC,CAACF,EAAO+C,KAER1C,IAEDgD,GAAahD,EAAUmI,MAEpBnI,EAAUoI,gBAEXtF,GAAY9C,EAAUoI,cAAcC,KACpCtF,GAAa/C,EAAUoI,cAAcE,OAEpCtI,EAAUuI,UAEXtF,GAAYjD,EAAUuI,QAAQC,KAC9BtF,GAAalD,EAAUuI,QAAQE,MAC/BtF,GAAYnD,EAAUuI,QAAQG,KAC9BtF,GAAWpD,EAAUuI,QAAQI,YAClB3I,EAAUuI,QAAQK,IAClB5I,EAAUuI,QAAQM,MAQjC,IAAMC,GAAW,6BAAG,WAAOC,GAAP,uEAAAjE,EAAA,yDAEfiE,GAEDA,EAAIC,iBAIFhE,EARc,iBAQEzB,IAChB0F,EAAYjE,EAAUrF,MACtBuJ,EAAclE,EAAUC,QAKxBkE,EAAWhF,KAAKiF,IAAI3H,GAASuB,IAAcA,GAC3CqG,EAAelF,KAAKmF,MAAO,KAAK,EAAE,EAAGnF,KAAKoF,IAAIJ,EAAQ,KAIxDnH,GAFEqH,EAAe,EAEN,EAIAA,GAGC,GAAXxI,IAEDwI,GAAgC,IAGlB,GAAb/H,KAED+H,GAAgC,KAGlCjH,GAAmB+G,GACfE,EAAe,IAEjBA,EAAe,GAMjBnH,GAHiBmH,EAAe,GAY5BxF,EAAa,IAAIC,KACjB0F,EAAclF,OAAOT,EAAWI,WAEhCwF,EACJ,CACE,KAAO,GAAGD,EACV,IAASP,EAAT,IAAsBC,EACtB,OAAS,GAAGG,GAEd/D,aAAawC,QAAQ,QAAS1C,KAAK2C,UAAU0B,KAhE3B,MAmEd9D,EAnEc,SAmEK6D,EAnEL,IAmEoBP,EAnEpB,IAmEiCC,GAnEjC,GAoESG,EApET,GAqEf/J,IAAeA,EAAYuI,IArEZ,oBAuEZ6B,EAvEY,GAuEApK,EAAYuI,IACxB8B,EAAe,GAIA,OAFf/B,EAAcxC,KAAKC,MAAMC,aAAaC,QAAQ,cA1ElC,kCA+ERU,IAASC,YAAYC,WAAW,SAASC,IAAI9B,OAAOhF,EAAYuI,MAAMxB,MAC3EC,MAAK,SAACF,GACDA,EAAIG,QAIJoD,EAAevD,EAAII,OACnBlB,aAAawC,QAAQ,WAAY1C,KAAK2C,UAAU3B,EAAII,UAKpDT,QAAQC,IAAI,oBAEfS,OAAM,SAACC,GACNX,QAAQC,IAAI,sBAAuBU,MA9FzB,gCAmGdiD,EAAe/B,EAnGD,QAuGZ+B,IASAhE,EANagE,EACEV,EAHnB,IAGgCC,GAKrB,SAAYM,EAAZ,IAA2BP,EAA3B,IAAwCC,EAIlCD,EAAN,IAAmBC,GAOhB/F,GA3HE,KA2HYF,GA3HZ,KA2H0BC,GA3H1B,KA2HyCE,GAErDwG,EAAY5J,EAAU8G,OAAO,GAAGI,KAChC2C,EAAOD,EAAUlF,UAAU,EAAIkF,EAAUrF,OAAO,GAChDuF,EAAkBD,EAAKzC,OAAO,yBAElCuC,EAAahE,GAAW,CAAC0D,EAAaS,IAElCC,GAAwB,KAAX,EAAEZ,IAAca,QAAQ,IAC1B,IACbD,EAAW,GAGV/J,EAAUmI,MAAQ,KAAW4B,EAAW,KAGzB,EAEbJ,EAHCM,EAAW,4BAKbC,EAAYzE,SAASkE,EAAaM,GAAU,KAE3CC,EAEDA,GAAa,EAIbA,EAAY,EAEH,GACD,mDACC,qBACXP,EAAaM,GAAY,CAjBT,EAeN,mDAE8BC,EAH7B,GAEA,uBAKVpH,GAAY,KAAQiH,EAAW,KAGhB,EAEbJ,EAHCM,EAAW,0BAKbC,EAAYzE,SAASkE,EAAaM,GAAU,KAE3CC,EAEDA,GAAa,EAIbA,EAAY,EAEH,GACD,iDACC,cACXP,EAAaM,GAAY,CAjBT,EAeN,iDAE8BC,EAH7B,GAEA,gBAIVlK,EAAUmK,MAAQnK,EAAUoK,OAEd,oBACC,EAEbT,EAHY,uBAKbO,EAAYzE,SAASkE,EALR,qBAK+B,KAE3CO,EAEDA,GAAa,EAIbA,EAAY,EAEH,GACD,4DACC,iBACXP,EAlBe,qBAkBU,CAjBT,EAeN,4DAE8BO,EAH7B,GAEA,mBAQbjE,IAASC,YAAYC,WAAW,SAASC,IAAI9B,OAAOoF,IAASW,IAAIV,GAEjErE,aAAawC,QAAQ,WAAY1C,KAAK2C,UAAU4B,IApNhC,QAkOlB,IAVIW,EAAU,GAEVC,EAAiB,EAAEpB,EACnBqB,EAAcnB,EACL,EACToB,EAAKtG,KAAKuG,MADD,EACOH,GACpBD,EAAQjD,KAAR,KAAkBlD,KAAKuG,MAAoB,IAAdH,GAA7B,MAAqDC,EAArD,MAISG,EAAI,EAAGA,EANH,EAMeA,IAEvBA,EAAIF,EACLH,EAAQjD,KAAK,MAEbiD,EAAQjD,KAAK,MAEjBiD,EAAQjD,KAAK,MACbiD,EAAQjD,KAAK,0BACTuD,EAAkBtG,OAAOgG,EAAQO,KAAK,KAE1CvH,GAAesH,GAEf7E,QAAQC,IAAI4E,GAEZhJ,GAAc,IAEVkJ,EAAM3G,KAAK4G,SAAW5G,KAAK4G,SAAW5G,KAAK4G,SAC/CpI,GAAYmI,GAGZE,YAAW,WAET1I,IAAa,GACThD,IAEFwC,IAAa,GACbT,GAAS,CAACF,OAAO,cAElB,KA/Pe,4CAAH,sDAmQX8J,GAAa,6BAAG,WAAOlC,GAAP,mBAAAjE,EAAA,sDAGE,oBAAXI,SACTgG,EAAe,IAAIlD,gBAAgB9C,OAAO7F,SAASoF,SAGlDyG,IAEDhC,EAAc5E,OAAO4G,EAAa7E,IAAI,WAGpCrB,EAZgB,iBAYAzB,IACpB2F,EAAclE,EAAUC,QAExBkG,YAAejC,EAAYzJ,GAE3BuL,YAAW,WAET,IAAIF,EAAM3G,KAAK4G,SAAW5G,KAAK4G,SAAW5G,KAAK4G,SAC/CjJ,IAAa,GACba,GAAYmI,GACZhK,GAAW,GACXS,IAAa,GACbF,GAAS,MAER,KA1BiB,2CAAH,sDA6Bb+J,GAAc,6BAAG,WAAOrC,GAAP,SAAAjE,EAAA,sDAElBiE,GACDA,EAAIC,iBACNqC,YAAgB5L,GAEhBuL,YAAW,WAET,IAAIF,EAAM3G,KAAK4G,SAAW5G,KAAK4G,SAAW5G,KAAK4G,SAC/CjJ,IAAa,GACba,GAAYmI,GACZhK,GAAW,GACXS,IAAa,GACbF,GAAS,MAER,KAfkB,2CAAH,sDAkBpB,SAASiK,GAAMC,GAEF,MAAPA,IAEFA,EAAM,IASR,IAJA,IAAIC,GADoDD,GAA5BA,GAA5BA,GADwDA,GAA5BA,GAA5BA,GADAA,GAAO,IACGE,QAAQ,IAAK,KAAeA,QAAQ,IAAK,KAAeA,QAAQ,IAAK,KACrEA,QAAQ,IAAK,KAAeA,QAAQ,IAAK,KAAeA,QAAQ,IAAK,KACnEC,MAAM,KACdC,EAAKH,EAAE,GACPI,EAAKJ,EAAEjH,OAAS,EAAI,IAAMiH,EAAE,GAAK,GACjCK,EAAM,eACHA,EAAIC,KAAKH,IACZA,EAAKA,EAAGF,QAAQI,EAAK,SACzB,OAAOF,EAAKC,EAGd,IAAMG,GAEJ,kBAAC,IAAD,CAASC,GAAG,iBACV,kBAAC,IAAQC,KAAT,8BAOJ,SAASC,GAAcC,GAErB,IAAIjB,EACkB,oBAAXhG,SACTgG,EAAe,IAAIlD,gBAAgB9C,OAAO7F,SAASoF,SAIlDyG,IAEaA,EAAa7E,IAAI,SACnB6E,EAAa7E,IAAI,QAG/B,IAAI0D,GAAgC,KAAnB,EAAE5H,KAAsB6H,QAAQ,GAGjD,OAFID,EAAW,IACbA,EAAW,GAGX,kBAAC,IAAD,iBACMoC,EADN,CAEE9D,KAAK,KACL+D,kBAAgB,gCAChBC,UAAQ,EACRC,UAAY,aAEZ,kBAAC,IAAMC,OAAP,CAAcC,MAAS,CAACC,gBAAoBlK,GAAO,OAAS,QAAUmK,MAAUnK,GAAO,QAAU,UAC/F,kBAAC,IAAMoK,MAAP,CAAcX,GAAG,iCAAjB,cACa,0BAAMQ,MAAO,CAACE,MAAM,UAAUE,WAAW,QAAS3K,GAAY,GAD3E,8BAGE,kBAAC,IAAD,CAAgB4K,QAAQ,QAAQC,UAAU,SAASC,QAAShB,IAC1D,kBAAC,IAAD,CAAQiB,QAAS,WAAOC,UAAUC,UAAUC,UAAU9J,KAAemJ,MAAS,CAACE,MAAO,QAAQU,WAAY,gDAAiDC,MAAM,gBAAiBf,UAAU,aAA5L,YAKJ,kBAAC,IAAD,CAAaU,QAASb,EAAMmB,OAAQC,QAAchL,GAAO,QAAU,MAErE,kBAAC,IAAM0J,KAAP,CAAYO,MAAS,CAACC,gBAAoBlK,GAAO,OAAS,QAAUmK,MAAUnK,GAAO,QAAU,UAE7F,2BAGK,WAKmC,aAA0E+I,GAAMhH,OAAOtB,IAAYyI,QAAQ,MAAM,KAFnJ,IAAI+B,EAAKC,EAASC,EAAWC,EAkDzBC,EA9CAC,EACJ,oCACE,kBAAC,IAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACT,QAAYhL,GAAO,OAAS,GAAMiK,MAAO,CAAEyB,MAAM,SAC7E,+BACE,4BACE,0CACA,4CAGJ,+BACE,4BACE,4BACE,0BAAMzB,MAAO,CAACE,MAAM,UAAUE,WAAW,QAAzC,IAAmDtB,GAAMhH,OAAO7C,IAAUgK,QAAQ,MAAM,OAE1F,4BACE,0BAAMe,MAAO,CAACE,MAAM,UAAUE,WAAW,QAAzC,IAAmDtB,GAAMhH,OAAOtB,IAAYyI,QAAQ,MAAM,UAdpG,YAoBW,0BAAMe,MAAO,CAACE,MAAM,UAAUE,WAAW,QAAS7C,EAAlD,KApBX,aAqBE,kBAAC,IAAD,CAAayC,MAAO,CAACC,gBAAgB,qBAAsBwB,MAAM,OAAOC,SAAS,OAAOC,OAAO,QAASC,IAAKrE,KAK1GhI,IAAY,EAGfyL,EAAwB,oCAAE,6BAAF,0BAA8B,0BAAMhB,MAAO,CAACE,MAAM,UAAUE,WAAW,QAAzC,OAA9B,8BAAoH,+BAKxI/L,IAEF8M,EAA6B,oCAAE,6BAAF,eAAmB,0BAAMnB,MAAO,CAACI,WAAW,QAAS7K,KAClF0L,EAA4B,oCAAE,6BAAK,0BAAMjB,MAAO,CAACE,MAAM,UAAUE,WAAW,QAAzC,OAAP,mCAE1BtL,KAEFqM,EAA6B,oCAAE,6BAAF,eAAmB,0BAAMnB,MAAO,CAACI,WAAW,QAAS7K,KAClF2L,EAA8B,oCAAE,6BAAK,0BAAMlB,MAAO,CAACE,MAAM,UAAUE,WAAW,QAAzC,QAAP,oCAI7BtN,IAEHsO,EAGI,yCACe,kBAAC,OAAD,CAAMS,GAAG,UAAU7B,MAAO,CAAEE,MAAM,UAAUwB,SAAS,SAAStB,WAAW,QAAzE,mBADf,0BAMN,IAAI0B,EACJ,oCAAE,6BAAK,kBAAC,OAAD,CAAMD,GAAG,SAAS7B,MAAO,CAAEE,MAAM,UAAUwB,SAAS,SAAStB,WAAW,QAAxE,cAAP,uCAEA,OACA,oCACGiB,EADH,IACUL,EADV,IACgBG,EAAUF,EAD1B,IACoCC,EADpC,IAC+C,6BAC7C,yBAAKlB,MAAO,CAAC+B,UAAU,SACpBD,EADH,IACeV,IAxElB,KAgFP,kBAAC,IAAMY,OAAP,CAAchC,MAAS,CAACC,gBAAoBlK,GAAO,OAAS,QAAUmK,MAAUnK,GAAO,QAAU,UAC/F,yBAAK+J,UAAU,0BAEb,yBAAKA,UAAU,0BACb,kBAAC,IAAD,CAAQE,MAAO,CAACI,WAAW,MAAMuB,OAAQ,UAAWf,WAAY,gDAChEJ,QAAY,WAEV5B,KACAe,EAAMmB,WAJR,oBASF,yBAAKhB,UAAU,0BACb,kBAAC,IAAD,CAAQE,MAAO,CAACI,WAAW,MAAMuB,OAAQ,UAAWf,WAAY,gDAChEJ,QAAY,WAEV/B,KACAkB,EAAMmB,WAJR,OAMOpK,GANP,UASF,yBAAKoJ,UAAU,0BACb,kBAAC,IAAD,CAAQE,MAAO,CAAC2B,OAAQ,WAAYZ,QAAQ,SAASP,QAASb,EAAMmB,QAApE,aAQZ,SAASmB,GAAStC,GAEhB,OAEE,kBAAC,IAAD,iBACMA,EADN,CAEE9D,KAAK,KACL+D,kBAAgB,gCAChBC,UAAQ,EACRC,UAAY,aAEZ,kBAAC,IAAMC,OAAP,CAAcC,MAAS,CAACC,gBAAoBlK,GAAO,OAAS,QAAUmK,MAAUnK,GAAO,QAAU,UAC/F,kBAAC,IAAMoK,MAAP,CAAcX,GAAG,iCAAjB,sBAGA,kBAAC,IAAD,CAAagB,QAASb,EAAMmB,OAAQC,QAAchL,GAAO,QAAU,MAErE,kBAAC,IAAM0J,KAAP,CAAYO,MAAS,CAACC,gBAAoBlK,GAAO,OAAS,QAAUmK,MAAUnK,GAAO,QAAU,UAC7F,2NAIA,uBAAG+J,UAAU,SAAb,iEAGA,6BACA,kBAAC,IAAD,CAAQU,QAAS,WACflM,GAAW,GACXE,IAAgB,IACfwL,MAAO,CAAE0B,SAAS,SAAStB,WAAW,MAAMF,MAAM,SAAUa,QAAQ,WAHvE,gBAQF,kBAAC,IAAMiB,OAAP,CAAchC,MAAS,CAACC,gBAAoBlK,GAAO,OAAS,QAAUmK,MAAUnK,GAAO,QAAU,UAC/F,kBAAC,IAAD,CAAQgL,QAAQ,SAASP,QAASb,EAAMmB,QAAxC,WAMR,SAASoB,GAAWvC,GAElB,OAEE,kBAAC,IAAD,iBACMA,EADN,CAEE9D,KAAK,KACL+D,kBAAgB,gCAChBC,UAAQ,EACRC,UAAY,aAEZ,kBAAC,IAAMC,OAAP,CAAcC,MAAS,CAACC,gBAAoBlK,GAAO,OAAS,QAAUmK,MAAUnK,GAAO,QAAU,UAC/F,kBAAC,IAAMoK,MAAP,CAAcX,GAAG,iCAAjB,uBAGA,kBAAC,IAAD,CAAagB,QAASb,EAAMmB,OAAQC,QAAchL,GAAO,QAAU,MAErE,kBAAC,IAAM0J,KAAP,CAAYO,MAAS,CAACC,gBAAoBlK,GAAO,OAAS,QAAUmK,MAAUnK,GAAO,QAAU,UA0BvFjB,GAGA,oCACE,kBAAC,IAAD,CAAOwM,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACT,QAAYhL,GAAO,OAAS,GAAMiK,MAAO,CAAEyB,MAAM,OAAQU,OAAO,SAC5F,+BAGMC,OAAOC,QAAQzN,IAAO0N,KAAI,SAACC,EAAKC,GAG9B,GAAGD,EAAK,IAAMA,EAAK,GAAGE,cAGpB,OACA,oCACA,4BACE,wBAAIzC,MAAO,CAACE,MAAM,UAAUE,WAAW,QAAvC,IACItB,GAAMhH,OAAOyK,EAAK,GAAGE,eAAexD,QAAQ,MAAM,MAEtD,wBAAI7F,IAAG,SAAWoJ,IA5BzB,SAFM/H,EA+Bc8H,EAAK,MA3BlC9H,EAAM,oBAfV,SAAqBA,GAEnB,OAAOA,EAAIwE,QACT,UACA,SAASyD,GAEP,OAAOA,EAAIC,OAAO,GAAGC,cAAgBF,EAAIG,OAAO,GAAGC,iBAYhDC,CADPtI,EAAMA,EAAIwE,QAAQ,KAAM,UAN1B,IAAmBxE,QAgDf,oCACE,uBAAGqF,UAAU,SAAb,sEACqE,8BAErE,uBAAGA,UAAU,SAAb,sDAGA,6BACA,kBAAC,IAAD,CAAQU,QAAU,WAEhBzL,IAAa,IAGfiL,MAAO,CAAE0B,SAAS,SAAStB,WAAW,MAAMF,MAAM,SAAUa,QAAQ,WALpE,wBAiBV,kBAAC,IAAMiB,OAAP,CAAchC,MAAS,CAACC,gBAAoBlK,GAAO,OAAS,QAAUmK,MAAUnK,GAAO,QAAU,UAC/F,kBAAC,IAAD,CAAQgL,QAAQ,SAASP,QAASb,EAAMmB,QAAxC,WAOR,IA+KgBkC,GA/KVC,GAASC,uBAAY,YAAuB,IAApBC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,KAAW,EACzBpQ,mBAAS,MAAxBsP,EADwC,KACnCe,EADmC,KAM/C,OAJIf,GACFA,EAAIgB,MAAMH,GAIV,oCACE,kBAAC,IAAD,CAAcnD,MAAO,CAACyB,MAAM,OAAOE,OAAO,SACxCwB,OAAQA,EACRC,KAAMA,EACNG,oBAAoB,EACpBC,aAAa,EACbC,YAAaJ,EACbK,iBAAiB,GAEjB,kBAAC,IAAD,CACEC,IAAI,uDAEN,kBAAC,IAAD,CAAQR,OAAQA,EAAQS,YAAa,CAAC1D,MAAO,WAAY2D,OAAQ,UAQtE,CAACrQ,IAEEsQ,GAAWZ,uBAAY,YAAuB,IAApBC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,KAAW,EAC3BpQ,mBAAS,MAAxBsP,EAD0C,KACrCe,EADqC,KASjD,OANAlI,qBAAU,WACJmH,GACFA,EAAIgB,MAAMH,KAEX,IAGD,oCACE,kBAAC,IAAD,CAAcnD,MAAO,CAACyB,MAAM,OAAOE,OAAO,SACxCwB,OAAQA,EACRC,KAAMA,EACNG,oBAAoB,EACpBC,aAAa,EACbC,YAAaJ,EACbK,iBAAiB,GAEjB,kBAAC,IAAD,CACEC,IAAI,uDAEN,kBAAC,IAAD,CAAQR,OAAQA,EAAQS,YAAa,CAAC1D,MAAO,WAAY2D,OAAQ,UAQtE,CAACrQ,IAEJ,SAASuQ,GAASpE,GAEhB,OAEE,kBAAC,IAAD,iBACMA,EADN,CAEE9D,KAAK,KACL+D,kBAAgB,gCAChBC,UAAQ,EACRC,UAAY,aAEZ,kBAAC,IAAMC,OAAP,CAAcC,MAAS,CAACC,gBAAoBlK,GAAO,OAAS,QAAUmK,MAAUnK,GAAO,QAAU,UAC/F,kBAAC,IAAMoK,MAAP,CAAcX,GAAG,iCAAjB,YAGA,kBAAC,IAAD,CAAagB,QAASb,EAAMmB,OAAQC,QAAchL,GAAO,QAAU,MAErE,kBAAC,IAAM0J,KAAP,CAAYO,MAAS,CAACC,gBAAoBlK,GAAO,OAAS,QAAUmK,MAAUnK,GAAO,QAAU,UAE7F,kBAACkN,GAAD,CAAQE,OAAQ,CAACa,WAAWxQ,EAAUuI,QAAQK,KAAK4H,WAAWxQ,EAAUuI,QAAQM,MAAO+G,KAAM,MAG/F,kBAAC,IAAMpB,OAAP,CAAchC,MAAS,CAACC,gBAAoBlK,GAAO,OAAS,QAAUmK,MAAUnK,GAAO,QAAU,UAC/F,kBAAC,IAAD,CAAQgL,QAAQ,SAASP,QAASb,EAAMmB,QAAxC,WAMR,OACE,kBAAC,IAAD,KACG,0BAAMmD,IAAI,aAAavJ,KAAK,mDACrBwJ,UAAU,kGAAkGC,YAAY,KAChI,kBAAC,IAAD,CAAKtD,MAAM,cAET,WAEE,GAAiB,MAAb7L,GAEF,OACA,oCACE,2BAAOgL,MAAO,CAACmC,OAAO,SACpB,4BACE,4BACE,kBAAC,IAAD,CAAQnC,MAAO,CAACI,WAAW,MAAOqB,MAAM,OAAQb,WAAY,gDAC5DJ,QAAS5B,IADT,oBAKF,iCACA,4BACE,kBAAC,IAAD,CAAQoB,MAAO,CAACI,WAAW,MAAMqB,MAAM,OAAOb,WAAY,gDAC1DJ,QAAS/B,IADT,OAEO/H,GAFP,YAON,6BAAK,8BAvBX,GA8BF,6BAI2B,GAAjBtD,GAA0C,UAAhBwB,GAAMD,OAGlC,iDAEE,kBAAC,IAAD,CAAQ6L,QAAS,WAAK9L,IAAkB,IAAQsL,MAAO,CAACI,WAAW,MAAMQ,WAAY,gDAAiDG,QAAQ,WAA9I,UAKsB,GAAjB3N,GAA0C,UAAhBwB,GAAMD,OAGvC,oCACE,gDAA0Cc,GAAY,EAAtD,SACE,kBAAC,IAAD,CAAgB4K,QAAQ,QAAQC,UAAU,SAASC,QAAShB,IAC1D,kBAAC,IAAD,CAAQiB,QAAS,WAAOC,UAAUC,UAAUC,UAAU9J,KAAemJ,MAAS,CAACE,MAAO,QAAQU,WAAY,gDAAiDC,MAAM,gBAAiBf,UAAU,aAA5L,aAUN,oCACE,gDAA0CxM,EAA1C,SACE,kBAAC,IAAD,CAAgB+M,QAAQ,QAAQC,UAAU,SAASC,QAAShB,IAC1D,kBAAC,IAAD,CAAQiB,QAAS,WAAOC,UAAUC,UAAUC,UAAU9J,KAAemJ,MAAS,CAACE,MAAO,QAAQU,WAAY,gDAAiDC,MAAM,gBAAiBf,UAAU,aAA5L,cAYd,8BAIYkD,GAAWE,uBAAY,SAACkB,GAE5B,IAAIC,EAAMD,EAAEE,OAAOC,MAEfpM,EAAM2G,GADVuF,EAAMvM,OAAOuM,GAAKpF,QAAQ,MAAM,KAEhC7J,GAAc+C,GACd,IAAIqM,EAAW1M,OAAOuM,GAAKpF,QAAQ,IAAI,IACvC/J,GAAYsP,KACZ,CAACpP,KAEkB,GAAjBhC,GAAuC,GAAbiC,GAG5B,yBAAKyK,UAAU,cACb,kBAAC,IAAD,KACE,kBAAC,IAAW2E,KAAZ,CAAiBzE,MAAO,CAACC,gBAAgB,UAAUyE,YAAY,UAAUxE,MAAM,QAASwB,SAAS,SAAStB,WAAW,QAArH,KACA,kBAAC,IAAD,CAAavE,KAAK,KAAKkF,QAAQ,UAAU4D,KAAK,OAAOJ,MAAOpP,GAAYyP,SAAU,SAACR,GAAOpB,GAASoB,IACjGS,WAAe,SAACT,GAGD,UAAVA,EAAEhL,KAEHkD,MAEDwI,YAAY,kBACjB,kBAAC,IAAD,CAAQtE,QAASlE,GAAa0D,MAAO,CAAE0B,SAAS,SAAStB,WAAW,MAAOH,gBAAgB,UAAUyE,YAAY,WAAY3D,QAAQ,UAAUwD,MAAM,UAArJ,YAKoB,GAAjBnR,GAAuC,GAAbiC,GAGjC,oCACE,oDAA0ByJ,GAAMhH,OAAOtB,IAAYyI,QAAQ,MAAM,MACjE,4BAAI,kBAAC,OAAD,CAAM4C,GAAG,UAAU7B,MAAO,CAAEE,MAAM,UAAUE,WAAW,QAAvD,mBAAJ,0BAKM,oDAA0BtB,GAAMhH,OAAOtB,IAAYyI,QAAQ,MAAM,OAMjF,6BAEA,yBAAKa,UAAU,mCACb,yBAAKA,UAAU,cAEb,yBAAKA,UAAU,oBAEZrK,GAAa,kBAACiK,GAAD,CACEqF,KAAMlP,GACNiL,OAAQ,kBAAMhL,IAAa,MAFjC,IAMTvB,GAAgB,kBAAC0N,GAAD,CACD8C,KAAMxQ,GACNuM,OAAQ,kBAAMtM,IAAgB,MAFjC,IAKZC,GAAkB,kBAACyN,GAAD,CACH6C,KAAMtQ,GACNqM,OAAQ,kBAAMpM,IAAkB,MAFjC,IAKd0B,GAAgB,kBAAC2N,GAAD,CACDgB,KAAM3O,GACN0K,OAAQ,kBAAMzK,IAAgB,MAFjC,IAKb,yBAAKyJ,UAAU,WACb,kBAAC,IAAD,CAAUkF,OAAQtR,EAAMuR,sBAAuB,GAAIjF,MAAO,CAAE2B,OAAQ,IAAK1B,gBAAgB,eAAiBiF,gBAAgB,EAAOC,eAAe,MAIpJ,yBAAKrF,UAAU,0BACb,wBAAIE,MAAO,CAAEoF,UAAU,cAAarP,GAAO,QAAU,YAErD,yBAAK+J,UAAU,gBACb,yBAAKA,UAAU,gBAGY,GAAjB1M,GAAuC,GAAbiC,GAG1B,oCACGoB,GADH,KACgBC,GADhB,KAC8BE,GAD9B,IACwC,8BAOxC,oCACGD,GADH,KACgBF,GADhB,KAC6BC,GAD7B,KAC2CE,GAD3C,IACqD,8BAQ5DpD,EAAUoK,KAvBb,IAuBmB,yBAAKkC,UAAU,QAAf,QAvBnB,IAuBqDtM,EAAUmK,MAvB/D,IAuBsE,yBAAKmC,UAAU,QAAf,SAvBtE,IAwBGxJ,GAxBH,IAwBc,yBAAKwJ,UAAU,QAAQvJ,IAxBrC,IAwBwD/C,EAAUwM,MAxBlE,IAwByE,6BAEtExM,EAAU6R,WAAiB,WAAQ,OAAO,wCAAI7R,EAAU6R,WAAd,IAA0B,yBAAKvF,UAAU,QAAf,cAA1B,IAAiE,6BAAjE,MAAoF,IAEjI,yBAAKA,UAAU,gBACX,WAEE,GAAGtM,GAAaA,EAAUuI,QAExB,OACE,yBAAKiE,MAAO,CAACsF,SAAS,aACpB,kBAACxB,GAAD,CAAUX,OAAQ,CAACa,WAAWxQ,EAAUuI,QAAQK,KAAK4H,WAAWxQ,EAAUuI,QAAQM,MAAO+G,KAAM,KAC/F,4BAAQ5C,QAAS,WAAKnK,IAAgB,IAAQ2J,MAAO,CAACuF,QAAQ,OAAOtF,gBAAgB,cAAcuF,OAAO,OAAQF,SAAS,WAAWG,OAAO,MAAMC,OAAO,QAExJ,yBAAK1F,MAAO,CAAC2F,OAAO,OAAOC,KAAK,QAASjE,OAAO,KAAKkE,oBAAoB,gBAAgBC,KAAK,MAAMC,QAAQ,YAAYtE,MAAM,KAAKuE,MAAM,8BACvI,2CACA,0BAAMC,EAAE,uFAXpB,KAqBN,wBAAIjG,MAAO,CAAEoF,UAAU,cAAarP,GAAO,QAAU,aAIvD,yBAAK+J,UAAU,mCACb,2CAAmB,6BACnB,yBAAKA,UAAU,QAAQtM,EAAU0S,cAGnC,yBAAKpG,UAAU,wCACb,kBAAC,IAAD,KACE,kBAAC,IAAUqG,KAAX,CAAgBC,SAAS,IAAIpG,MAAO,CAAC0E,YAAY,OAAO2B,YAAY,QAClE,kBAAC,IAAUC,OAAX,CAAkBtG,MAAO,CAACC,gBAAmBlK,GAAO,OAAS,QAAUmK,MAASnK,GAAO,QAAU,QAAUqK,WAAW,MAAMsB,SAAS,WAAY,wCACjJ,kBAAC,IAAUjC,KAAX,KACE,yBAAKK,UAAU,kBAIL3L,EAAO4D,OAAS,EAEd1D,EAeF,oCACE,yBAAKyL,UAAU,aACb,yBAAKA,UAAU,OAAf,uBACA,4BACI3L,GAAUA,EAAOmO,KAAI,SAAC8B,EAAE5B,GAEtB,GAAG4B,EAAEpQ,WAEH,OACE,yBAAKoF,IAAG,OAASoJ,GACf,4BAAK4B,EAAElQ,KAAP,OAAiBkQ,EAAEpQ,WAAWC,cAtB5C,oCACE,yBAAK6L,UAAU,aACb,yBAAKA,UAAU,OAAf,uBACA,kBAAC,IAAD,CAAQU,QAAS,WAAKhM,IAAgB,IAAQwL,MAAO,CAACI,WAAW,MAAOsB,SAAS,SAAUd,WAAY,gDACvGG,QAAQ,WADR,sBAkCN,oCACE,yBAAKjB,UAAU,aACb,yBAAKA,UAAU,OAAf,uBACA,yBAAKE,MAAO,CAACI,WAAW,MAAMF,MAAM,QAApC,qDASVpM,EAAMwO,KAAI,SAAC8B,EAAE5B,GAEX,OACE,yBAAKpJ,IAAG,WAAaoJ,EAAO1C,UAAU,aACpC,yBAAKA,UAAU,OAAOsE,EAAExQ,SAAxB,KACA,4BAEIwQ,EAAEvQ,KAAKyO,KAAI,SAACiE,EAAEC,GAEZ,OACE,wBAAIpN,IAAG,YAAcoN,GAClBD","file":"component---src-pages-daily-js-e42315e3561d1d1e1790.js","sourcesContent":["import React, {useState, useContext, useEffect, memo, useCallback } from \"react\"\r\nimport ThemeContext from \"../utils/theme\"\r\nimport { PageLayout } from \"../components\"\r\nimport { SEO } from \"../utils\"\r\nimport { Container, Image, InputGroup, FormControl, Form, Button, Modal, CloseButton, ProgressBar, OverlayTrigger, Popover, Table} from \"react-bootstrap\"\r\nimport { Accordion } from 'react-bootstrap'\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\nimport firebase from \"../components/firebase\"\r\n\r\nimport { MapContainer, TileLayer, Marker, Popup, Circle,useMap } from 'react-leaflet'\r\n\r\nimport { UserData }  from  \"../components/UserData\"\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport 'bootstrap/dist/css/bootstrap.css'; // or include from a CDN\r\nimport 'react-bootstrap-range-slider/dist/react-bootstrap-range-slider.css';\r\nimport RangeSlider from 'react-bootstrap-range-slider';\r\n\r\nimport Carousel from 'react-gallery-carousel';\r\nimport 'react-gallery-carousel/dist/index.css';\r\nimport './grid.css';\r\n\r\n\r\nimport { loggedUser, printing } from  \"../components/FirebaseAuth\"\r\nimport { LoadStateHouse, LoadRandomHouse } from  \"../components/LoadStateHouse\"\r\nimport { Link } from \"@reach/router\"\r\n\r\n\r\nexport default ({location}) => {\r\n\r\n  let currentUser = loggedUser()\r\n\r\n  //let userData = UserData()\r\n  const [userData, setUserData] = useState({})\r\n\r\n  const[mlsID,setmlsID] = useState(\"\")\r\n\r\n  const [alreadyPlayed,setAlreadyPlayed] = useState();\r\n  const [previousScore,setPreviousScore] = useState(0);\r\n  const [houseData,setHouse] = useState({});\r\n  const [pics, setPictures] = useState([]);\r\n  const [feats, setFeats] = useState([{category:\"filler\",text:[\"filler\", \"filler\"]}]);\r\n  \r\n  const [taxAss, setTaxAss] = useState([{assessment:{total:\"filler\"},year:\"filler\"}]);\r\n  const [readTax, setReadTax] = useState(false)\r\n  const [taxModalShow, setTaxModalShow] = useState(false);\r\n\r\n  const [trendModalShow, setTrendModalShow] = useState(false);\r\n  const [trend, setTrend] = useState({median:\"filler\"});\r\n  const [readTrend, setReadTrend] = useState(false)\r\n\r\n  const [listItems, setListItems] = useState(null)\r\n\r\n  const [priceSub, setPriceSub] = useState(0);\r\n  const [priceComma, setPriceComma] = useState();\r\n  const [hideInput, setHideInput] = useState(false);\r\n\r\n  const [ogGuess, setOgGuess] = useState(0);\r\n  const [priceDiff, setPriceDiff] = useState(0);\r\n  const [percentageScore, setPercentageScore] = useState(0);\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const { dark } = useContext(ThemeContext)\r\n  \r\n\r\n  const [rerendering, setRerender] = useState(0.0)\r\n  const [mapModalShow, setMapModalShow] = useState(false);\r\n\r\n  let houseSize = 0\r\n  let houseUnits = \"\"\r\n  let housePrice = 0\r\n  let houseCity = \"\"\r\n  let houseState = \"\"\r\n  let houseLine = \"\"\r\n  let houseZip = \"\"\r\n  let houseLat = 0\r\n  let houseLon = 0\r\n\r\n  const [shareOutput, setShareOutput] = useState('');\r\n \r\n  const [dailyHouseVars,setDailyHouseVars] = useState({});  \r\n  function getStateMLS()\r\n  {\r\n    let dailyList = [\"M7148437011_AK\",\"M7258580616_AK\",\"M8312616891_AK\",\"M9015391111_AK\",\"M3471459698_NY\",\"M3946297019_NY\",\"M4721900943_NY\",\"M4965882994_NY\"]\r\n\r\n    let start = \"01/01/2022\"   \r\n    let todaysDate = new Date()\r\n    let startDate = new Date(start)\r\n    let diffTime = todaysDate.getTime() - startDate.getTime()\r\n    let diffDays = Math.trunc(diffTime / (1000 * 3600 * 24) )\r\n\r\n\r\n    let choice = diffDays%(dailyList.length)\r\n\r\n    let mlsParam, stateParam\r\n    let dailyParams = String(dailyList[choice]) \r\n    if (dailyParams.length > 0)\r\n    {\r\n      let divider = dailyParams.search(\"_\")\r\n      mlsParam = dailyParams.substring(0,divider)\r\n      stateParam = dailyParams.substring((divider+1))\r\n    }\r\n    let ret = {\"mlsID\":mlsParam,\"stateID\":stateParam}\r\n\r\n    setDailyHouseVars(ret)\r\n\r\n    return ret\r\n\r\n  }\r\n\r\n\r\n  const GetHouseData = async(localUserData) =>\r\n  {\r\n\r\n    \r\n    //console.log(\"------- CALLED GET HOUSE DATA\")\r\n    let altReturn = {}\r\n\r\n    let houseVars = getStateMLS()\r\n    let mlsParam = houseVars.mlsID \r\n    let stateParam = houseVars.stateID\r\n\r\n    //console.log(mlsParam,stateParam)\r\n\r\n    let dailyStorage\r\n    if (typeof window !== 'undefined') \r\n    { dailyStorage = JSON.parse(localStorage.getItem('daily')) }\r\n\r\n    if(dailyStorage != null)\r\n    {\r\n\r\n      let timeStored = (new Date(parseInt(dailyStorage.time))).getTime()\r\n      //timeStored = 1645851600000\r\n\r\n      let todaysDate = new Date()\r\n      let diffTime = todaysDate.getTime() - timeStored\r\n      let diffDays = Math.trunc(diffTime / (1000 * 3600 * 24) )\r\n\r\n      //console.log(\"it has been\",diffDays,\"since daily was updated\", new Date(\"2/26/2022\").getTime())\r\n\r\n      \r\n      let played = false\r\n\r\n\r\n      if (dailyStorage != null)\r\n      {\r\n\r\n        if(diffDays == 0)\r\n        {\r\n          //console.log(\"User data:\", localUserData);\r\n          let keyName = `${mlsParam}_${stateParam}`\r\n\r\n          if ((String(dailyStorage.key)).localeCompare(String(keyName)))\r\n          {\r\n            //console.log(\"has already played this map\")\r\n            //played = true\r\n            let ret = {\"played\":true, \"points\":dailyStorage.points}\r\n            //console.log(\"return\",ret)\r\n            altReturn = ret\r\n          }\r\n        }\r\n      }\r\n      else\r\n      {\r\n        console.log(\"user DATA is null\")\r\n      }\r\n    }\r\n\r\n\r\n    //console.log(\"RUNNING States FIREBASE CALL\")\r\n    return firebase.firestore().collection('States').doc(String(stateParam)).collection('buffer').doc(mlsParam).get()\r\n    .then((doc) => {\r\n      if (doc.exists) \r\n      {\r\n          //console.log(\"Document data:\", doc.data());\r\n          altReturn[\"house\"] = doc.data()\r\n          return altReturn\r\n      } \r\n      else \r\n      {\r\n          // doc.data() will be undefined in this case\r\n          console.log(\"No such document!\");\r\n      }\r\n    }).catch((error) => {\r\n        console.log(\"Error getting document:\", error);\r\n    });\r\n  }\r\n\r\n  const loadPageData = (pageData) =>\r\n  {\r\n    setAlreadyPlayed(false)\r\n    setHouse(pageData)\r\n    let tempPic = []\r\n    pageData.photos.forEach(element => {\r\n      let str = element.href\r\n      let trim = str.substring(0, (str.length-5))\r\n      let better = trim.concat(\"od-w1024_h768_x2.webp\")\r\n      tempPic.push({src:better})\r\n    });\r\n\r\n    setFeats(pageData.features)\r\n    setTaxAss(pageData.tax_history)\r\n    setPictures(tempPic)\r\n\r\n    \r\n    if(pageData.trend && pageData.trend.median)\r\n    {\r\n      let propData = pageData.trend.median.by_prop_type\r\n      //console.log(\"trend Data\",propData)\r\n      setTrend(propData)\r\n    }\r\n  }\r\n\r\n\r\n  useEffect(() => \r\n  {\r\n    \r\n    (async () =>\r\n    { \r\n      houseLat = 0\r\n      houseLon = 0\r\n      let userStorage = JSON.parse(localStorage.getItem('userData'))\r\n      if (userStorage == null)\r\n      {\r\n        if(currentUser && currentUser.uid)\r\n        {\r\n          //console.log(\"RUNNING Users FIREBASE CALL\")\r\n          await firebase.firestore().collection('Users').doc(String(currentUser.uid)).get()\r\n          .then((doc) => {\r\n            if (doc.exists) \r\n            {\r\n                //console.log(\"Document data:\", doc.data());\r\n                //doc.data()\r\n                setUserData(doc.data())\r\n                localStorage.setItem('userData', JSON.stringify(doc.data()) )\r\n            } \r\n            else \r\n            {\r\n                // doc.data() will be undefined in this case\r\n                console.log(\"No such user!\");\r\n            }\r\n          }).catch((error) => \r\n          {\r\n              console.log(\"Error getting user:\", error);\r\n          });\r\n        }\r\n      }\r\n      else \r\n      {\r\n        setUserData(userStorage)\r\n        //console.log(\"didnt run firebase call because data is in local storage\", userStorage)\r\n      }\r\n      \r\n\r\n      let searchParams\r\n      if (typeof window !== 'undefined') \r\n      { searchParams = new URLSearchParams(window.location.search); }\r\n\r\n\r\n      //console.log(\"there was no houseinfo\")\r\n      let getHouse\r\n      if (userStorage != null)\r\n      {  \r\n        getHouse = await GetHouseData(userStorage) \r\n        //console.log(\"ran with userStorage\",userStorage)\r\n      }\r\n      else\r\n      { \r\n        getHouse = await GetHouseData(userData)  \r\n        //console.log(\"ran with userdata\",userData)\r\n      }\r\n      if(getHouse[\"played\"] == undefined)\r\n      {\r\n        loadPageData(getHouse[\"house\"])\r\n      }\r\n      else\r\n      {\r\n        loadPageData(getHouse[\"house\"])\r\n        setPreviousScore(getHouse[\"points\"])\r\n        setAlreadyPlayed(true)\r\n      }\r\n\r\n    })()\r\n  }, [mlsID, rerendering])\r\n\r\n  if(houseData)\r\n  {\r\n    housePrice = houseData.price\r\n    \r\n    if(houseData.building_size)\r\n    {\r\n      houseSize = houseData.building_size.size\r\n      houseUnits = houseData.building_size.units\r\n    }\r\n    if(houseData.address)\r\n    {\r\n      houseCity = houseData.address.city\r\n      houseState = houseData.address.state\r\n      houseLine = houseData.address.line\r\n      houseZip = houseData.address.postal_code\r\n      houseLat = houseData.address.lat\r\n      houseLon = houseData.address.lon\r\n      //setLatLongPoint([parseFloat(houseLat), parseFloat(houseLon)])\r\n\r\n      \r\n    }\r\n  }\r\n\r\n\r\n  const SubmitPrice = async (evt) => \r\n  {\r\n    if(evt)\r\n    { \r\n      evt.preventDefault(); \r\n    }\r\n    \r\n\r\n    let houseVars = {...dailyHouseVars}\r\n    let mlsChosen = houseVars.mlsID \r\n    let stateChosen = houseVars.stateID\r\n\r\n\r\n\r\n    //let pointsEarned = Math.floor( 100*Math.pow(0.999969,(Math.abs(priceSub-housePrice)) ) )\r\n    let percent = (Math.abs(priceSub-housePrice) / housePrice)\r\n    let pointsEarned = Math.round( 500*(1-2*(Math.pow(percent,2)) ))\r\n\r\n    if (pointsEarned < 0)\r\n    {\r\n      setOgGuess(0)\r\n    }\r\n    else\r\n    {\r\n      setOgGuess(pointsEarned)\r\n    }\r\n\r\n    if(readTax == true)\r\n    {\r\n      pointsEarned = (pointsEarned - (500*(0.1)))\r\n    }\r\n\r\n    if(readTrend == true)\r\n    {\r\n      pointsEarned = (pointsEarned - (500*(0.2)))\r\n    }\r\n\r\n    setPercentageScore(percent)\r\n    if (pointsEarned < 0)\r\n    {\r\n      pointsEarned = 0\r\n    }\r\n\r\n    let showScore  = pointsEarned + 1\r\n\r\n    \r\n    setPriceDiff(showScore)  \r\n\r\n    \r\n    // let entry =\r\n    // {\r\n    //  \"state\":`${stateChosen}`, \r\n    //  \"mls\": `${mlsChosen}`,\r\n    //  \"points\": `${pointsEarned}`       \r\n    // }\r\n    let todaysDate = new Date()\r\n    let todaysEpoch = String(todaysDate.getTime())\r\n    \r\n    let dailyData = \r\n    {\r\n      'time':`${todaysEpoch}`,\r\n      'key':`${mlsChosen}.${stateChosen}`,\r\n      'points':`${pointsEarned}`\r\n    }\r\n    localStorage.setItem('daily', JSON.stringify(dailyData) )\r\n\r\n\r\n    let keyName = `daily:${todaysEpoch}.${mlsChosen}.${stateChosen}`\r\n    let entry = { [keyName]:`${pointsEarned}` }\r\n    if(currentUser && currentUser.uid)\r\n    {\r\n      let userID = `${currentUser.uid}`\r\n      let previousData = {}\r\n\r\n      let userStorage = JSON.parse(localStorage.getItem('userData'))\r\n\r\n      if (userStorage == null)\r\n      {\r\n        //console.log(\"RUNNING Users FIREBASE CALL\")\r\n        await firebase.firestore().collection('Users').doc(String(currentUser.uid)).get()\r\n        .then((doc) => {\r\n          if (doc.exists) \r\n          {\r\n              //console.log(\"Document data:\", doc.data());\r\n              //doc.data()\r\n              previousData = doc.data()\r\n              localStorage.setItem('userData', JSON.stringify(doc.data()) )\r\n          } \r\n          else \r\n          {\r\n              // doc.data() will be undefined in this case\r\n              console.log(\"No such user!\");\r\n          }\r\n        }).catch((error) => {\r\n            console.log(\"Error getting user:\", error);\r\n        });\r\n      }\r\n      else \r\n      {\r\n        previousData = userStorage\r\n        //console.log(\"didnt run Submit Price Users firebase read because data is in local storage\", userStorage)\r\n      }\r\n\r\n      if (previousData)\r\n      {\r\n        //console.log(\"User data:\", previousData);\r\n        let userData = previousData\r\n        let prevKey = `${mlsChosen}_${stateChosen}`\r\n\r\n        if (userData[prevKey])\r\n        {\r\n          //console.log(\"has already played this map\")\r\n          keyName = `daily:${todaysEpoch}.${mlsChosen}.${stateChosen}`\r\n        }\r\n        else \r\n        {\r\n          keyName = `${mlsChosen}_${stateChosen}`\r\n        }\r\n      }\r\n\r\n\r\n      \r\n\r\n      let addr = `${houseLine}, ${houseCity}, ${houseState}, ${houseZip}`\r\n\r\n      let thumbNail = houseData.photos[0].href\r\n      let trim = thumbNail.substring(0, (thumbNail.length-5))\r\n      let betterThumbNail = trim.concat(\"od-w1024_h768_x2.webp\")\r\n\r\n      previousData[keyName] = [pointsEarned,betterThumbNail]\r\n\r\n      let accuracy = ((1-percent)*100).toFixed(2)\r\n      if (accuracy < 0)\r\n      { accuracy = 0} \r\n      //console.log(\"accuracy is \", accuracy)\r\n\r\n      if(houseData.price > 1000000 && accuracy > 90.0)\r\n      {\r\n        let badgeKey = \"badge:Millionaire.Club\"\r\n        let pointsVar = 0\r\n        let completed \r\n        if(previousData[badgeKey])\r\n        { \r\n          completed = parseInt(previousData[badgeKey][2]) \r\n        }\r\n        if(completed)\r\n        { \r\n          completed += 1 \r\n        }\r\n        else\r\n        { \r\n          completed = 1\r\n        }\r\n        let goal = 10\r\n        let des = \"Score over 90% on houses greater than $1,000,000\"\r\n        let icon = \"MillionairClub.svg\"\r\n        previousData[badgeKey] = [pointsVar,des,completed,goal,icon]\r\n\r\n      }\r\n\r\n      if(houseSize > 3000 && accuracy > 80.0)\r\n      {\r\n        let badgeKey = \"badge:Mansion.Master\"\r\n        let pointsVar = 0\r\n        let completed \r\n        if(previousData[badgeKey])\r\n        { \r\n          completed = parseInt(previousData[badgeKey][2]) \r\n        }\r\n        if(completed)\r\n        { \r\n          completed += 1 \r\n        }\r\n        else\r\n        { \r\n          completed = 1\r\n        }\r\n        let goal = 20\r\n        let des = \"Score over 80% on houses larger than 3000 sqft\"\r\n        let icon = \"Mansion.svg\"\r\n        previousData[badgeKey] = [pointsVar,des,completed,goal,icon]\r\n\r\n      }\r\n      if(houseData.baths > houseData.beds)\r\n      {\r\n        let badgeKey = \"badge:Oval.Office\"\r\n        let pointsVar = 0\r\n        let completed \r\n        if(previousData[badgeKey])\r\n        { \r\n          completed = parseInt(previousData[badgeKey][2]) \r\n        }\r\n        if(completed)\r\n        { \r\n          completed += 1 \r\n        }\r\n        else\r\n        {  \r\n          completed = 1\r\n        }\r\n        let goal = 50\r\n        let des = \"Complete 50 houses that have more bathrooms than bedrooms\"\r\n        let icon = \"OvalOffice.svg\"\r\n        previousData[badgeKey] = [pointsVar,des,completed,goal,icon]\r\n\r\n      }\r\n\r\n      //console.log(\"entry would be\", previousData,\"user is\", userID)\r\n\r\n      //console.log(\"SETTING USERS FIREBASE CALL\")\r\n      firebase.firestore().collection('Users').doc(String(userID)).set(previousData)\r\n      \r\n      localStorage.setItem('userData', JSON.stringify(previousData) )\r\n      //console.log(\"updated userData in localstorage\", localStorage)\r\n    }\r\n\r\n    let results = []\r\n      \r\n    let dailyAccuracy = (1-percent)\r\n    let dailyPoints = pointsEarned\r\n    let maxBox = 8\r\n    let sc = Math.floor(dailyAccuracy*maxBox)\r\n    results.push(`üìà${Math.floor(dailyAccuracy*100)}% ‚ú®${dailyPoints}\\n`)\r\n\r\n    //results.push(\"üèòÔ∏èüå≥üèòÔ∏èüå≥üèòÔ∏èüå≥üèòÔ∏èüå≥ \\n\")\r\n    //results.push(`üí≤${dailyDiff}üî∫ \\n`)\r\n    for (let i = 0; i < maxBox; i++) \r\n    {\r\n      if(i < sc)\r\n      { results.push('üü©') }\r\n      else\r\n      { results.push('üü•') }\r\n    }\r\n    results.push('\\n')\r\n    results.push(\"Appraisir.com/Daily \\n\")\r\n    let tempShareOutput = String(results.join(\"\"))\r\n\r\n    setShareOutput(tempShareOutput)\r\n\r\n    console.log(tempShareOutput)\r\n\r\n    setPriceComma(\"\")\r\n    \r\n    let num = Math.random() + Math.random() + Math.random()\r\n    setRerender(num)\r\n    //console.log(\"rerender was just called\")\r\n\r\n    setTimeout(() => \r\n    {  \r\n      setModalShow(true)\r\n      if(!currentUser)\r\n      {\r\n        setHideInput(true)\r\n        setTrend({median:'filler'})\r\n      }\r\n    }, 600);\r\n\r\n  }\r\n\r\n  const LoadWithState = async (evt) => \r\n  {\r\n    let searchParams\r\n    if (typeof window !== 'undefined') \r\n    { searchParams = new URLSearchParams(window.location.search); }\r\n\r\n    let stateChosen\r\n    if(searchParams)\r\n    {\r\n      stateChosen = String(searchParams.get('state'))\r\n    }\r\n\r\n    let houseVars = {...dailyHouseVars}\r\n    stateChosen = houseVars.stateID\r\n\r\n    LoadStateHouse(stateChosen,userData)\r\n\r\n    setTimeout(() => \r\n    {  \r\n      let num = Math.random() + Math.random() + Math.random()\r\n      setHideInput(false)\r\n      setRerender(num)\r\n      setReadTax(false)\r\n      setReadTrend(false)\r\n      setTrend({})\r\n      //console.log(\"Called rerender\")\r\n    }, 600);\r\n  \r\n  }\r\n  const LoadWithRandom = async (evt) => \r\n  {\r\n    if(evt)\r\n    { evt.preventDefault(); }\r\n    LoadRandomHouse(userData)\r\n\r\n    setTimeout(() => \r\n    {  \r\n      let num = Math.random() + Math.random() + Math.random()\r\n      setHideInput(false)\r\n      setRerender(num)\r\n      setReadTax(false)\r\n      setReadTrend(false)\r\n      setTrend({})\r\n      //console.log(\"Called rerender\")\r\n    }, 600);\r\n  }\r\n\r\n  function Comma(Num) \r\n  { //function to add commas to textboxes\r\n    if (Num == null)\r\n    {\r\n      Num = ''\r\n    }\r\n    Num += '';\r\n    Num = Num.replace(',', ''); Num = Num.replace(',', ''); Num = Num.replace(',', '');\r\n    Num = Num.replace(',', ''); Num = Num.replace(',', ''); Num = Num.replace(',', '');\r\n    let x = Num.split('.');\r\n    let x1 = x[0];\r\n    let x2 = x.length > 1 ? '.' + x[1] : '';\r\n    let rgx = /(\\d+)(\\d{3})/;\r\n    while (rgx.test(x1))\r\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\r\n    return x1 + x2;\r\n  }\r\n\r\n  const sharePopover = (\r\n    \r\n    <Popover id=\"popover-basic\">\r\n      <Popover.Body>\r\n        Copied to Clipboard!\r\n      </Popover.Body>\r\n    </Popover>\r\n  );\r\n\r\n\r\n  function NewScoreModal(props) \r\n  {\r\n    let searchParams\r\n    if (typeof window !== 'undefined') \r\n    { searchParams = new URLSearchParams(window.location.search); }\r\n\r\n    let stateChosen\r\n    let mlsChosen\r\n    if(searchParams)\r\n    {\r\n      stateChosen = searchParams.get('state')\r\n      mlsChosen = searchParams.get('mls')\r\n    }\r\n\r\n    let accuracy = ((1-percentageScore)*100).toFixed(2)\r\n    if (accuracy < 0)\r\n    { accuracy = 0} \r\n    return (\r\n      \r\n      <Modal\r\n        {...props}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        className = \"my-modal\"\r\n      >\r\n        <Modal.Header style = {{backgroundColor: `${dark ? '#222' : 'white'}`,color: `${dark ? 'white' : 'black'}`}}>\r\n          <Modal.Title  id=\"contained-modal-title-vcenter\">\r\n            You scored <span style={{color:\"#00DD00\",fontWeight:\"800\"}}>{priceDiff - 1}</span> points (Max score 500).\r\n            &nbsp;&nbsp;\r\n            <OverlayTrigger trigger=\"click\" placement=\"bottom\" overlay={sharePopover}>\r\n              <Button onClick={() => {navigator.clipboard.writeText(shareOutput)}} style = {{color: \"white\",textShadow: \"#000 0px 0 5px,#000 0px 0 5px,#000 0px 0 5px\"}} title=\"Share Results\"  className=\"alignText\">\r\n                Share!\r\n              </Button > \r\n            </OverlayTrigger>\r\n          </Modal.Title>\r\n          <CloseButton onClick={props.onHide} variant = {`${dark ? 'white' : ''}`} />\r\n        </Modal.Header>\r\n        <Modal.Body style = {{backgroundColor: `${dark ? '#222' : 'white'}`,color: `${dark ? 'white' : 'black'}`}}>\r\n\r\n          <p>\r\n\r\n            \r\n            {( () =>\r\n              {\r\n                \r\n                let sec, taxRead, trendRead, original \r\n\r\n                let labelText = ( () => { return (<>Actual list price is <span style={{color:\"#00DD00\",fontWeight:\"800\"}}>${Comma(String(housePrice).replace(/\\D/g,''))}</span></>) } )()\r\n\r\n                let pBar = ( () => { return (\r\n                <>\r\n                  <Table striped bordered hover variant={`${dark ? 'dark' : ''}`} style={{ width:'100%'}}>\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Your Guess</th>\r\n                        <th>List Price</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr>\r\n                        <td>\r\n                          <span style={{color:\"#00DD00\",fontWeight:\"800\"}}>${Comma(String(priceSub).replace(/\\D/g,''))}</span>\r\n                        </td>\r\n                        <td>\r\n                          <span style={{color:\"#00DD00\",fontWeight:\"800\"}}>${Comma(String(housePrice).replace(/\\D/g,''))}</span>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </Table>\r\n                  \r\n                  You were <span style={{color:\"#00DD00\",fontWeight:\"800\"}}>{accuracy}%</span> accurate.\r\n                  <ProgressBar style={{backgroundColor:'#00dd00 !important', width:'100%',fontSize:'15px',height:'20px'}} now={accuracy} /> \r\n                  \r\n                </> \r\n                ) } )()\r\n\r\n                if ((ogGuess) <= 0)\r\n                { \r\n                  //console.log(\"IN HERE\")\r\n                  sec = ( () => { return (<><br/> You need to be within <span style={{color:\"#00DD00\",fontWeight:\"700\"}}>30%</span> accuracy to score points. <br/></>) } )()\r\n                  \r\n                }\r\n                else\r\n                {\r\n                  if (readTax)\r\n                  {\r\n                    original = ( () => { return (<><br/>Base score: <span style={{fontWeight:\"900\"}}>{ogGuess}</span></>) } )()\r\n                    taxRead = ( () => { return (<><br/><span style={{color:\"#DD2222\",fontWeight:\"900\"}}>-50</span> for using Tax Assessed Value.</>) } )()\r\n                  }\r\n                  if (readTrend)\r\n                  {\r\n                    original = ( () => { return (<><br/>Base score: <span style={{fontWeight:\"900\"}}>{ogGuess}</span></>) } )()\r\n                    trendRead = ( () => { return (<><br/><span style={{color:\"#DD2222\",fontWeight:\"900\"}}>-100</span> for using Average Home Price.</>) } )()\r\n                  }\r\n                }\r\n                let askLogIn\r\n                if (!currentUser)\r\n                {\r\n                  askLogIn = ( () =>\r\n                  {\r\n                    return(\r\n                      <>\r\n                        &#9702;&nbsp;<Link to=\"/Signup\" style={{ color:\"#00DD00\",fontSize:\"1.1rem\",fontWeight:\"800\"}}>Make an account</Link> to track your score!\r\n                      </>\r\n                    )\r\n                  })()\r\n                }\r\n                let learnMore = ( () => { return (\r\n                <><br/><Link to=\"/About\" style={{ color:\"#00DD00\",fontSize:\"1.1rem\",fontWeight:\"800\"}}>Learn more</Link> about how the score is calculated </>) } )()\r\n\r\n                return (\r\n                <> \r\n                  {pBar} {sec} {original}{taxRead} {trendRead} <br/> \r\n                  <div style={{textAlign:'left'}}>\r\n                    {learnMore} {askLogIn}  \r\n                  </div>    \r\n                </>)\r\n\r\n              }\r\n            )()}\r\n          </p>\r\n        </Modal.Body>\r\n        <Modal.Footer style = {{backgroundColor: `${dark ? '#222' : 'white'}`,color: `${dark ? 'white' : 'black'}`}}>\r\n          <div className=\"scoreBottomButton-grid\">\r\n              \r\n            <div className=\"scoreBottomButtonBoxes\">\r\n              <Button style={{fontWeight:\"800\",height: 'inherit', textShadow: \"#000 0px 0 5px,#000 0px 0 5px,#000 0px 0 5px\"}} \r\n              onClick = { () => \r\n              {\r\n                LoadWithRandom() \r\n                props.onHide()\r\n              } }>\r\n                New Random Home\r\n              </Button>\r\n            </div>\r\n            <div className=\"scoreBottomButtonBoxes\">\r\n              <Button style={{fontWeight:\"800\",height: 'inherit', textShadow: \"#000 0px 0 5px,#000 0px 0 5px,#000 0px 0 5px\"}}\r\n              onClick = { () => \r\n              {\r\n                LoadWithState() \r\n                props.onHide()\r\n              } }>\r\n                New {houseState} Home\r\n              </Button>\r\n            </div>\r\n            <div className=\"scoreBottomButtonBoxes\">\r\n              <Button style={{height: 'inherit'}} variant=\"danger\" onClick={props.onHide}>Close</Button>\r\n            </div>\r\n          </div>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n  function TaxModal(props) \r\n  {\r\n    return (\r\n      \r\n      <Modal\r\n        {...props}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        className = \"my-modal\"\r\n      >\r\n        <Modal.Header style = {{backgroundColor: `${dark ? '#222' : 'white'}`,color: `${dark ? 'white' : 'black'}`}}>\r\n          <Modal.Title  id=\"contained-modal-title-vcenter\">\r\n            Tax Assessed Value\r\n          </Modal.Title>\r\n          <CloseButton onClick={props.onHide} variant = {`${dark ? 'white' : ''}`} />\r\n        </Modal.Header>\r\n        <Modal.Body style = {{backgroundColor: `${dark ? '#222' : 'white'}`,color: `${dark ? 'white' : 'black'}`}}>\r\n          <p>\r\n            The tax assessed value takes into account the property condition, square footage, and sales of similar homes.\r\n            The actual sale price can be much greater or lower than the tax assesed value.\r\n          </p>\r\n          <p className=\"thicc\">\r\n            Unlocking the tax assessed value will lower your score by 50.\r\n          </p>\r\n          <br/>\r\n          <Button onClick={()=>{\r\n            setReadTax(true) \r\n            setTaxModalShow(false)\r\n          }} style={{ fontSize:\"1.5rem\",fontWeight:\"500\",color:\"white\"}} variant=\"primary\">\r\n            Show Taxes?\r\n          </Button>\r\n        \r\n        </Modal.Body>\r\n        <Modal.Footer style = {{backgroundColor: `${dark ? '#222' : 'white'}`,color: `${dark ? 'white' : 'black'}`}}>\r\n          <Button variant=\"danger\" onClick={props.onHide}>Close</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n  \r\n  function TrendModal(props) \r\n  {\r\n    return (\r\n      \r\n      <Modal\r\n        {...props}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        className = \"my-modal\"\r\n      >\r\n        <Modal.Header style = {{backgroundColor: `${dark ? '#222' : 'white'}`,color: `${dark ? 'white' : 'black'}`}}>\r\n          <Modal.Title  id=\"contained-modal-title-vcenter\">\r\n            Average House Price\r\n          </Modal.Title>\r\n          <CloseButton onClick={props.onHide} variant = {`${dark ? 'white' : ''}`} />\r\n        </Modal.Header>\r\n        <Modal.Body style = {{backgroundColor: `${dark ? '#222' : 'white'}`,color: `${dark ? 'white' : 'black'}`}}>\r\n          { (() => {\r\n            //console.log(\"trend\",trend)\r\n\r\n\r\n            function toTitleCase(str) \r\n            {\r\n              return str.replace(\r\n                /\\w\\S*/g,\r\n                function(txt) \r\n                {\r\n                  return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\r\n                }\r\n              );\r\n            }\r\n\r\n            function modString(str)\r\n            {\r\n              if( str == 'home')\r\n              {\r\n                str = 'Average Property'\r\n              }\r\n              str = str.replace(/_/g, ' ');\r\n              return toTitleCase(str)\r\n            }\r\n\r\n            if( readTrend )\r\n            {\r\n              return(\r\n                <>\r\n                  <Table striped bordered hover variant={`${dark ? 'dark' : ''}`} style={{ width:'100%', margin:'auto'}}>\r\n                    <tbody>\r\n                      \r\n                        {\r\n                          Object.entries(trend).map((item,ind) =>\r\n                          {\r\n                            //console.log(\"prop\",item[1])\r\n                            if(item[1] && item[1].listing_price)\r\n                            {\r\n                              //console.log(\"int here\")\r\n                              return (\r\n                              <>  \r\n                              <tr>\r\n                                <td style={{color:\"#00DD00\",fontWeight:\"800\"}}>\r\n                                  ${Comma(String(item[1].listing_price).replace(/\\D/g,''))}\r\n                                </td>\r\n                                <td key={`trend-${ind}`} >\r\n                                  {modString(item[0])}\r\n                                </td>\r\n                              </tr>\r\n                              </>\r\n                              )\r\n                            }\r\n                          })\r\n                        }\r\n                    </tbody>\r\n                  </Table>\r\n                  \r\n                </>\r\n              )\r\n            }\r\n            else\r\n            {\r\n              return(\r\n                <>\r\n                  <p className=\"thicc\">\r\n                    This will show the average house price in the area by house type.  <br/>             \r\n                  </p>\r\n                  <p className=\"thicc\">\r\n                    Unlocking this will lower your Final Score by 100.\r\n                  </p>\r\n                  <br/>\r\n                  <Button onClick={ ()=>\r\n                  {\r\n                    setReadTrend(true) \r\n                    //setTrendModalShow(false)\r\n                  }} \r\n                  style={{ fontSize:\"1.5rem\",fontWeight:\"500\",color:\"white\"}} variant=\"primary\">\r\n\r\n                    Show Average Price\r\n\r\n                  </Button>\r\n                </>\r\n              )\r\n            }\r\n          })()\r\n          }\r\n        \r\n        </Modal.Body>\r\n        <Modal.Footer style = {{backgroundColor: `${dark ? '#222' : 'white'}`,color: `${dark ? 'white' : 'black'}`}}>\r\n          <Button variant=\"danger\" onClick={props.onHide}>Close</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n\r\n\r\n  const BigMap = useCallback(({ center, zoom }) => {\r\n    const [map, setmap] = useState(null);\r\n    if (map) {\r\n      map.flyTo(center);\r\n    }\r\n    //console.log(\"center is\",center,\"zoom is\",zoom)\r\n    return (\r\n      <>\r\n        <MapContainer style={{width:'100%',height:'350px'}}\r\n          center={center}\r\n          zoom={zoom}\r\n          attributionControl={false}\r\n          zoomControl={false}\r\n          whenCreated={setmap}\r\n          scrollWheelZoom={true}\r\n        >\r\n          <TileLayer\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          ></TileLayer>\r\n          <Circle center={center} pathOptions={{color: '#00DD00'}} radius={400}></Circle>\r\n          {/*\r\n            <Marker position={center}>\r\n            </Marker>\r\n          */}\r\n        </MapContainer>\r\n      </>\r\n    );\r\n  }, [houseData])\r\n\r\n  const SmallMap = useCallback(({ center, zoom }) => {\r\n    const [map, setmap] = useState(null);\r\n\r\n    useEffect(() => {\r\n      if (map) {\r\n        map.flyTo(center);\r\n      }\r\n    }, [])\r\n    //console.log(\"center is\",center,\"zoom is\",zoom)\r\n    return (\r\n      <>\r\n        <MapContainer style={{width:'100%',height:'150px'}}\r\n          center={center}\r\n          zoom={zoom}\r\n          attributionControl={false}\r\n          zoomControl={false}\r\n          whenCreated={setmap}\r\n          scrollWheelZoom={true}\r\n        >\r\n          <TileLayer\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          ></TileLayer>\r\n          <Circle center={center} pathOptions={{color: '#00DD00'}} radius={400}></Circle>\r\n          {/*\r\n            <Marker position={center}>\r\n            </Marker>\r\n          */}\r\n        </MapContainer>\r\n      </>\r\n    );\r\n  }, [houseData])\r\n\r\n  function MapModal(props) \r\n  {\r\n    return (\r\n      \r\n      <Modal\r\n        {...props}\r\n        size=\"lg\"\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n        className = \"my-modal\"\r\n      >\r\n        <Modal.Header style = {{backgroundColor: `${dark ? '#222' : 'white'}`,color: `${dark ? 'white' : 'black'}`}}>\r\n          <Modal.Title  id=\"contained-modal-title-vcenter\">\r\n            Full Map\r\n          </Modal.Title>\r\n          <CloseButton onClick={props.onHide} variant = {`${dark ? 'white' : ''}`} />\r\n        </Modal.Header>\r\n        <Modal.Body style = {{backgroundColor: `${dark ? '#222' : 'white'}`,color: `${dark ? 'white' : 'black'}`}}>\r\n          \r\n          <BigMap center={[parseFloat(houseData.address.lat),parseFloat(houseData.address.lon)]} zoom={13}/>\r\n        \r\n        </Modal.Body>\r\n        <Modal.Footer style = {{backgroundColor: `${dark ? '#222' : 'white'}`,color: `${dark ? 'white' : 'black'}`}}>\r\n          <Button variant=\"danger\" onClick={props.onHide}>Close</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <PageLayout>\r\n       <link rel=\"stylesheet\" href=\"https://unpkg.com/leaflet@1.7.1/dist/leaflet.css\"\r\n              integrity=\"sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==\" crossorigin=\"\"/>\r\n      <SEO title=\"Play Page\" />\r\n\r\n      {(()=>\r\n        {\r\n          if (listItems == null)\r\n          {\r\n            return( \r\n            <>\r\n              <table style={{margin:'auto'}}>\r\n                <tr>\r\n                  <td>\r\n                    <Button style={{fontWeight:\"900\", width:\"100%\", textShadow: \"#000 0px 0 5px,#000 0px 0 5px,#000 0px 0 5px\"}} \r\n                    onClick={LoadWithRandom}>\r\n                      New Random Home\r\n                    </Button> \r\n                  </td>\r\n                  <td>&nbsp;</td>\r\n                  <td>\r\n                    <Button style={{fontWeight:\"900\",width:\"100%\",textShadow: \"#000 0px 0 5px,#000 0px 0 5px,#000 0px 0 5px\"}}\r\n                    onClick={LoadWithState}>\r\n                      New {houseState} Home\r\n                    </Button> \r\n                  </td>\r\n                </tr>\r\n              </table>\r\n              <br/><br/>\r\n            </>)\r\n          }\r\n        }\r\n        )()\r\n      }\r\n      \r\n      <div>\r\n          \r\n        {(()=>\r\n          {\r\n            if (alreadyPlayed == false && trend.median != \"filler\") // if user has not played house\r\n            {\r\n              return( \r\n              <h3> \r\n                Guess the price! &nbsp; \r\n                <Button onClick={()=>{setTrendModalShow(true)}} style={{fontWeight:\"700\",textShadow: \"#000 0px 0 5px,#000 0px 0 5px,#000 0px 0 5px\"}} variant=\"primary\"> \r\n                  Hint? \r\n                </Button> \r\n              </h3>  )\r\n            }\r\n            else if (alreadyPlayed == false && trend.median == \"filler\") //if user is not logged in and just submitted a price\r\n            {\r\n              return( \r\n              <>\r\n                <h3> &nbsp;&nbsp;&nbsp;&nbsp; You Scored {priceDiff - 1}!!! &nbsp;&nbsp;\r\n                  <OverlayTrigger trigger=\"click\" placement=\"bottom\" overlay={sharePopover}>\r\n                    <Button onClick={() => {navigator.clipboard.writeText(shareOutput)}} style = {{color: \"white\",textShadow: \"#000 0px 0 5px,#000 0px 0 5px,#000 0px 0 5px\"}} title=\"Share Results\"  className=\"alignText\">\r\n                      Share!\r\n                    </Button > \r\n                  </OverlayTrigger>\r\n                </h3>\r\n              </>)\r\n            }\r\n            else //if user is logged in and has a previously submitted price (aka alreadyPlayed = true)\r\n            {\r\n              return( \r\n              <>\r\n                <h3> &nbsp;&nbsp;&nbsp;&nbsp; You Scored {previousScore}!!! &nbsp;&nbsp;\r\n                  <OverlayTrigger trigger=\"click\" placement=\"bottom\" overlay={sharePopover}>\r\n                    <Button onClick={() => {navigator.clipboard.writeText(shareOutput)}} style = {{color: \"white\",textShadow: \"#000 0px 0 5px,#000 0px 0 5px,#000 0px 0 5px\"}} title=\"Share Results\"  className=\"alignText\">\r\n                      Share!\r\n                    </Button > \r\n                  </OverlayTrigger>\r\n                </h3>\r\n              </>)\r\n            }\r\n          }\r\n          )()\r\n        }\r\n      </div>\r\n\r\n      <br/>\r\n\r\n        {(()=>\r\n          {\r\n            const parceInp = useCallback((e) =>\r\n            {\r\n              let val = e.target.value\r\n              val = String(val).replace(/\\D/g,'');\r\n              let ret = Comma(val)\r\n              setPriceComma(ret)\r\n              let valClean = String(val).replace(',','')\r\n              setPriceSub(valClean) \r\n            },[setPriceComma])\r\n\r\n            if (alreadyPlayed == false && hideInput == false)\r\n            {\r\n              return(\r\n              <div className=\"inputPrice\">\r\n                <InputGroup >\r\n                  <InputGroup.Text style={{backgroundColor:\"#00BB00\",borderColor:\"#00BB00\",color:\"white\", fontSize:\"1.5rem\",fontWeight:\"900\"}}>$</InputGroup.Text>\r\n                  <FormControl size=\"lg\" variant=\"success\" type=\"text\" value={priceComma} onChange={(e) => {parceInp(e)}} \r\n                    onKeyPress = { (e) =>\r\n                    {\r\n                      //console.log(e.key)\r\n                      if(e.key === 'Enter')\r\n                      {\r\n                        SubmitPrice()\r\n                      }\r\n                    }} placeholder=\"Input a price\" />\r\n                  <Button onClick={SubmitPrice} style={{ fontSize:\"1.5rem\",fontWeight:\"500\", backgroundColor:\"#00BB00\",borderColor:\"#00BB00\"}} variant=\"success\" value=\"Submit\">Submit</Button>\r\n                </InputGroup>\r\n              </div>\r\n              )\r\n            }\r\n            else if (alreadyPlayed == false && hideInput == true)\r\n            {\r\n              return( \r\n              <>\r\n                <h3> The house price is ${Comma(String(housePrice).replace(/\\D/g,''))}</h3> \r\n                <h4><Link to=\"/Signup\" style={{ color:\"#00DD00\",fontWeight:\"800\"}}>Make an account</Link> to track your score!</h4>\r\n              </>)\r\n            }\r\n            else \r\n            {\r\n              return( <h3> The house price is ${Comma(String(housePrice).replace(/\\D/g,''))}</h3> )\r\n            }\r\n          }\r\n          )()\r\n        }\r\n\r\n      <br/>\r\n      \r\n      <div className=\"pageMargin pt-6 mt-6 text-color\">\r\n        <div className=\"basic-grid\">\r\n          \r\n          <div className=\"boxes pics-grid \">\r\n            \r\n            {priceDiff ?  <NewScoreModal\r\n                            show={modalShow}\r\n                            onHide={() => setModalShow(false)}\r\n                          /> : ` `}\r\n\r\n            \r\n            {taxModalShow ?  <TaxModal\r\n                            show={taxModalShow}\r\n                            onHide={() => setTaxModalShow(false)}\r\n                          /> : ` `}\r\n            \r\n            {trendModalShow ?  <TrendModal\r\n                            show={trendModalShow}\r\n                            onHide={() => setTrendModalShow(false)}\r\n                          /> : ` `}\r\n\r\n            {mapModalShow ?  <MapModal\r\n                            show={mapModalShow}\r\n                            onHide={() => setMapModalShow(false)}\r\n                          /> : ` `}\r\n\r\n            <div className=\"picSize\">\r\n              <Carousel images={pics} transitionDurationMax={40} style={{ height: 400, backgroundColor:'transparent' }} hasMediaButton={false} hasIndexBoard={false} />\r\n            </div>\r\n            \r\n          </div>\r\n          <div className=\"boxes text-left thicc \" >\r\n            <hr style={{ borderTop:`1px solid ${dark ? 'white' : 'black'}`}}/>\r\n              \r\n            <div className=\"addrMap-grid\">\r\n              <div className=\"addrMapBoxes\">\r\n                {(() => \r\n                  {\r\n                    if (alreadyPlayed == false && hideInput == false)\r\n                    {\r\n                      return(\r\n                        <>\r\n                          {houseCity}, {houseState}, {houseZip} <br/>\r\n                        </>\r\n                      )\r\n                    }\r\n                    else\r\n                    {\r\n                      return( \r\n                        <>\r\n                          {houseLine}, {houseCity}, {houseState}, {houseZip} <br/>\r\n                        </>\r\n                        )\r\n                    }\r\n                  }\r\n                  )()\r\n                }\r\n                    \r\n                {houseData.beds} <div className=\"thin\">Beds</div> {houseData.baths} <div className=\"thin\">Baths</div>&nbsp; \r\n                {houseSize} <div className=\"thin\">{houseUnits}</div> {houseData.style} <br/>\r\n\r\n                {houseData.year_built   ?   () => { return(<> {houseData.year_built} <div className=\"thin\">Year Built</div> <br/> </>)}   :    \"\"}\r\n              </div>\r\n              <div className=\"addrMapBoxes\">\r\n                {(() => \r\n                  {\r\n                    if(houseData && houseData.address)\r\n                    {\r\n                      return(\r\n                        <div style={{position:'relative'}}>\r\n                          <SmallMap center={[parseFloat(houseData.address.lat),parseFloat(houseData.address.lon)]} zoom={12}/>\r\n                          <button onClick={()=>{setMapModalShow(true)}} style={{opacity:'0.75',backgroundColor:'transparent',border:'none', position:'absolute',bottom:'5px',zIndex:'900'}}> \r\n                            \r\n                            <svg style={{stroke:'#555',fill:'#fff'}} height=\"30\" preserveAspectRatio=\"xMidYMid meet\" role=\"img\" viewBox=\"0 0 30 30\" width=\"30\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                              <title>Full Map</title>\r\n                              <path d=\"m1 1v10h5v-5h5v-5zm18 0v5h5v5h5v-10zm-18 18v10h10v-5h-5v-5zm18 5v5h10v-10h-5v5z\"></path>\r\n                            </svg>\r\n                          </button>\r\n                        </div>\r\n                      )\r\n                    }\r\n                  })()\r\n                }  \r\n              </div>\r\n            </div> \r\n            <hr style={{ borderTop:`1px solid ${dark ? 'white' : 'black'}`}}/>\r\n          </div>\r\n\r\n          \r\n          <div className=\"boxes text-left thicc scrolling\">\r\n            <u>Description:</u><br/>\r\n            <div className=\"thin\">{houseData.description}</div>\r\n            \r\n          </div>\r\n          <div className=\"boxes text-left features-grid thicc \">\r\n            <Accordion>\r\n              <Accordion.Item eventKey=\"0\" style={{borderColor:'#bbb',borderWidth:'1px'}}>\r\n                <Accordion.Button style={{backgroundColor:`${dark ? '#222' : 'white'}`,color:`${dark ? 'white' : 'black'}`,fontWeight:'900',fontSize:'1.2rem' }}><u>Details:</u></Accordion.Button>\r\n                <Accordion.Body >\r\n                  <div className=\"thin feat-grid\">\r\n                    {(()=>\r\n                      { \r\n                        //console.log(\"tax assesed \",taxAss.length)\r\n                        if (taxAss.length > 0)\r\n                        {\r\n                          if(!readTax)\r\n                          {\r\n                            return(\r\n                              <>\r\n                                <div className=\"featBoxes\">\r\n                                  <div className=\"mid\">Tax Assessed Value </div>\r\n                                  <Button onClick={()=>{setTaxModalShow(true)}} style={{fontWeight:\"700\", fontSize:\"1.5rem\", textShadow: \"#000 0px 0 5px,#000 0px 0 5px,#000 0px 0 5px\"}} \r\n                                  variant=\"primary\">Unlock Tax Hint?</Button>\r\n                                </div>\r\n                              </>\r\n                            )\r\n                          }\r\n                          else\r\n                          {\r\n                            return(\r\n                            <>\r\n                              <div className=\"featBoxes\">\r\n                                <div className=\"mid\">Tax Assessed Value </div>\r\n                                <ul>\r\n                                  { taxAss && taxAss.map((e,ind) => \r\n                                    {\r\n                                      if(e.assessment)\r\n                                      {\r\n                                        return (\r\n                                          <div key={`tax-${ind}`} >\r\n                                            <li>{e.year} - ${e.assessment.total}</li>\r\n                                          </div>\r\n                                        )\r\n                                      }\r\n                                    })\r\n                                  }\r\n                                </ul>\r\n                              </div>\r\n                            </>\r\n                            )\r\n                          }\r\n                        }\r\n                        else\r\n                        {\r\n                          return(\r\n                            <>\r\n                              <div className=\"featBoxes\">\r\n                                <div className=\"mid\">Tax Assessed Value </div>\r\n                                <div style={{fontWeight:\"600\",color:\"red\"}}>There is no Tax data available for this house. </div>\r\n                              </div>\r\n                            </>\r\n                          )\r\n                        }\r\n                      }\r\n                      )()\r\n                    }\r\n                    { \r\n                      feats.map((e,ind) => \r\n                      {\r\n                        return (\r\n                          <div key={`featCat-${ind}`} className=\"featBoxes\" >\r\n                            <div className=\"mid\">{e.category} </div>\r\n                            <ul>\r\n                              {\r\n                                e.text.map((f,index) =>\r\n                                {\r\n                                  return (\r\n                                    <li key={`featList-${index}`}>\r\n                                      {f}\r\n                                    </li>\r\n                                  )\r\n                                })\r\n                              }\r\n                            </ul>\r\n                          </div>\r\n                        )\r\n                      })\r\n                    }\r\n                  </div>\r\n                </Accordion.Body>\r\n              </Accordion.Item>\r\n            </Accordion>    \r\n          </div>  \r\n        </div>\r\n\r\n        \r\n        \r\n      </div>\r\n      \r\n    </PageLayout>\r\n  )\r\n\r\n}"],"sourceRoot":""}