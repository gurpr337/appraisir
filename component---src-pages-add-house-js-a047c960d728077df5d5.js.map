{"version":3,"sources":["webpack:///./node_modules/react-bootstrap/esm/Spinner.js","webpack:///./node_modules/react-bootstrap/esm/Button.js","webpack:///./src/pages/AddHouse.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","Spinner","_ref","ref","bsPrefix","variant","animation","size","_ref$as","as","Component","className","props","bsSpinnerPrefix","concat","displayName","Button","active","prefix","_useButtonProps","tagName","_useButtonProps2","buttonProps","href","disabled","defaultProps","FetchHouses","a","state","city","fetch","process","then","res","json","result","properties","error","console","log","message","FetchHousePictures","house_id","home_id","response","catch","err","useState","points","cityForm","setCityForm","stateForm","setStateForm","disableSubmit","setSubmit","loading","setLoading","setHouses","setFilteredHouses","setTestPrint","handleSubmit","evt","preventDefault","form","data","FormData","cityF","get","stateF","zip_codeF","location","setTimeout","higherThanTen","map","property","counter","MLS_ID","house_state","property_id","full","pics","photos","entry","firebase","firestore","collection","doc","set","testFunc","onSubmit","style","display","color","Control","type","name","onChange","val","value","onClick","e","setZ"],"mappings":"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","file":"component---src-pages-add-house-js-a047c960d728077df5d5.js","sourcesContent":["import \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Spinner = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      animation = _ref.animation,\n      size = _ref.size,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutProperties(_ref, [\"bsPrefix\", \"variant\", \"animation\", \"size\", \"as\", \"className\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'spinner');\n  var bsSpinnerPrefix = \"\".concat(bsPrefix, \"-\").concat(animation);\n  return /*#__PURE__*/_jsx(Component, _objectSpread(_objectSpread({\n    ref: ref\n  }, props), {}, {\n    className: classNames(className, bsSpinnerPrefix, size && \"\".concat(bsSpinnerPrefix, \"-\").concat(size), variant && \"text-\".concat(variant))\n  }));\n});\nSpinner.displayName = 'Spinner';\nexport default Spinner;","import \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _defineProperty from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"C:/Users/Gurpreet Singh/Documents/Gatsby/Appraisir/node_modules/babel-preset-gatsby/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useButtonProps } from '@restart/ui/Button';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar defaultProps = {\n  variant: 'primary',\n  active: false,\n  disabled: false\n};\nvar Button = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var as = _ref.as,\n      bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      size = _ref.size,\n      active = _ref.active,\n      className = _ref.className,\n      props = _objectWithoutProperties(_ref, [\"as\", \"bsPrefix\", \"variant\", \"size\", \"active\", \"className\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'btn');\n\n  var _useButtonProps = useButtonProps(_objectSpread({\n    tagName: as\n  }, props)),\n      _useButtonProps2 = _slicedToArray(_useButtonProps, 2),\n      buttonProps = _useButtonProps2[0],\n      tagName = _useButtonProps2[1].tagName;\n\n  var Component = tagName;\n  return /*#__PURE__*/_jsx(Component, _objectSpread(_objectSpread(_objectSpread({}, props), buttonProps), {}, {\n    ref: ref,\n    className: classNames(className, prefix, active && 'active', variant && \"\".concat(prefix, \"-\").concat(variant), size && \"\".concat(prefix, \"-\").concat(size), props.href && props.disabled && 'disabled')\n  }));\n});\nButton.displayName = 'Button';\nButton.defaultProps = defaultProps;\nexport default Button;","import React, {useState, useEffect, useContext } from \"react\"\r\n//import { graphql } from \"gatsby\"\r\n//import { navigate } from \"@reach/router\"\r\n//import ThemeContext from \"../utils/theme\"\r\nimport { PageLayout } from \"../components\"\r\n//import { SEO } from \"../utils\"\r\nimport { Container, Image  } from \"react-bootstrap\"\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Spinner from 'react-bootstrap/Spinner'\r\n//import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css'; // or include from a CDN\r\nimport firebase from \"../components/firebase\"\r\n//import geohash from \"ngeohash\";\r\n\r\n//import { loggedUser, printing } from  \"../components/FirebaseAuth\"\r\n\r\nconst FetchHouses = async(props) => \r\n{\r\n    //console.log(\"in this functions\",props.testing)\r\n  \r\n    let state = props.state ?? \"MD\"\r\n    let city = props.city ?? \"Gaithersburg\"\r\n    let limit = 200 // 200 is the max\r\n    let offset = 0 // change offset to get the next 200 houses\r\n   \r\n    return fetch(`https://realtor.p.rapidapi.com/properties/v2/list-for-sale?sort=relevance&city=${city}&limit=${limit}&offset=${offset}&state_code=${state}`, \r\n        {\r\n            \"method\": \"GET\",\r\n            \"headers\": \r\n            {\r\n                \"x-rapidapi-host\": \"realtor.p.rapidapi.com\",\r\n                \"x-rapidapi-key\": `${process.env.GATSBY_rapidKey}`\r\n            }\r\n        }\r\n      )\r\n      .then(res => res.json())\r\n      .then(\r\n        (result) => \r\n        {\r\n          //console.log(\"printing Result:\")\r\n          //console.log(result.properties);\r\n          return result.properties;\r\n        },\r\n        (error) => \r\n        {\r\n          console.log(\"Realtor api is erroring:\",error.message)\r\n          return \"Error\"\r\n        }\r\n      )\r\n}\r\n\r\n\r\nconst FetchHousePictures = async(props) => \r\n{\r\n    //console.log(\"in this functions\",props.testing)\r\n\r\n    \r\n  \r\n    let house_id = props.home_id ?? \"M4610178135\"\r\n    \r\n    // return fetch(`https://realty-in-us.p.rapidapi.com/properties/v2/detail?property_id=${house_id}`, \r\n    // {\r\n    //   \"method\": \"GET\",\r\n    //   \"headers\": {\r\n    //     \"x-rapidapi-key\": `${process.env.GATSBY_rapidKey}`,\r\n    //     \"x-rapidapi-host\": \"realty-in-us.p.rapidapi.com\"\r\n    //   }\r\n    // })\r\n    \r\n    return fetch(`https://realtor.p.rapidapi.com/properties/v2/detail?property_id=${house_id}`, \r\n    {\r\n      \"method\": \"GET\",\r\n      \"headers\": {\r\n        \"x-rapidapi-key\": `${process.env.GATSBY_rapidKey}`,\r\n        \"x-rapidapi-host\": \"realtor.rapidapi.com\"\r\n      }\r\n    })\r\n    .then(res => res.json())\r\n    .then(response => {\r\n      //console.log(response);\r\n      return response;\r\n    })\r\n    .catch(err => {\r\n      console.log(\"Realtor picture api is erroring:\",err.message)\r\n      console.error(err);\r\n    });\r\n}\r\n\r\n\r\nexport default () =>\r\n{\r\n\r\n  \r\n  const [points, setP] = useState([]);\r\n\r\n  const [cityForm,setCityForm] = useState(\"Field Required\");\r\n  const [stateForm,setStateForm] = useState(\"Field Required\");\r\n  const [disableSubmit,setSubmit] = useState(true);\r\n  const [loading,setLoading] = useState(\"\");\r\n  \r\n  \r\n  const [houses,setHouses] = useState([]);\r\n  const [filteredHouses,setFilteredHouses] = useState([]);\r\n  const [testPrint,setTestPrint] = useState(\"\");\r\n\r\n  const handleSubmit = async (evt) => \r\n  {\r\n    evt.preventDefault();\r\n    const form = evt.target;\r\n    const data = new FormData(form);\r\n\r\n    let cityF = data.get(\"city\")\r\n    let stateF = data.get(\"state\")\r\n    let zip_codeF = data.get(\"zipC\")\r\n\r\n    let location  = ''.concat(cityF,\",\",stateF,\",\",zip_codeF)\r\n    console.log(location)\r\n    setLoading(() => { return <Spinner animation='border' />})\r\n    FetchHouses({city:cityF,state:stateF}).then(res => {\r\n      \r\n      if (res != \"Error\")\r\n      {\r\n        setHouses(res)\r\n        setFilteredHouses(res)\r\n        console.log(\"house\",res)\r\n        setLoading(\"\")\r\n        setTimeout(() => {  console.log(\"World!\"); }, 2000);\r\n        \r\n        \r\n        let higherThanTen = 0\r\n        res.map((property) => \r\n        {\r\n          if(property[\"photo_count\"] > 10)\r\n          {\r\n            higherThanTen++\r\n          }\r\n        })\r\n\r\n        if(higherThanTen > 5)\r\n        {\r\n          higherThanTen = 5\r\n        }\r\n        \r\n        let counter = 0;\r\n        res.map((property) => \r\n        {\r\n          if(property[\"photo_count\"] > 10 && counter < higherThanTen)\r\n          {\r\n            counter+=1;\r\n            let MLS_ID = property[\"property_id\"];\r\n            console.log(\"MLS ID\",MLS_ID );\r\n            let house_state = property[\"address\"][\"state_code\"]\r\n            console.log(\"State\",house_state);\r\n            \r\n            setTimeout( async () =>\r\n              FetchHousePictures({home_id:property.property_id}).then(full => \r\n              {\r\n                if (full != \"Error\")\r\n                {\r\n                  let pics = full.properties[0].photos;\r\n                  let entry = full.properties[0];\r\n                  console.log(\"house\",property[\"property_id\"],\"pics\",pics);\r\n                  console.log(\"full \",entry);\r\n\r\n                  firebase.firestore().collection('States').doc(house_state).collection('buffer').doc(MLS_ID).set(entry)\r\n                }\r\n              })\r\n            , (counter*1500) )\r\n          }\r\n        })\r\n      }\r\n      else\r\n      {\r\n        setLoading(\"Error Check Console\")\r\n        setTestPrint(\"realtor api is erroring check console\")\r\n      }\r\n    })\r\n\r\n\r\n    console.log( \"event\", points )\r\n  }\r\n\r\n  const cityRequired = (evt) =>\r\n  {\r\n    evt.preventDefault();\r\n    //console.log(\"in req\",evt.target.value)\r\n    let val = evt.target.value\r\n\r\n    if (val == '')\r\n    { setCityForm(\"Field Required\"); }\r\n    else\r\n    { setCityForm(\"\"); }\r\n\r\n    \r\n    if ( (val != '') && (stateForm == \"\") )\r\n    { setSubmit(false); }\r\n    else \r\n    { setSubmit(true); }\r\n  }\r\n\r\n  //----------------------------------------------------\r\n\r\n  const stateRequired = (evt) =>\r\n  {\r\n    evt.preventDefault();\r\n    let val = evt.target.value\r\n\r\n    if (val == '')\r\n    { setStateForm(\"Field Required\"); }\r\n    else\r\n    { setStateForm(\"\"); }\r\n\r\n\r\n    if ( (cityForm == \"\") && (val != '') )\r\n    { setSubmit(false); }\r\n    else \r\n    { setSubmit(true); }\r\n  }\r\n\r\n  const testFunc = async (evt) =>\r\n  {\r\n    let obj = [1,2,3,4]\r\n    obj.map((key) => \r\n    {\r\n      let del = key*1000\r\n      setTimeout(() => {console.log(\"this is message number\",key)}, del);\r\n    })\r\n    //setTimeout(() => {console.log(\"this is the first message\")}, 5000);\r\n    //setTimeout(() => {console.log(\"this is the second message\")}, 3000);\r\n    //setTimeout(() => {console.log(\"this is the third message\")}, 1000);\r\n  }\r\n  return(\r\n    <>\r\n    <PageLayout>\r\n      <Container className=\"d-flex align-items-center justify-content-center\" >\r\n        <form onSubmit={handleSubmit} className=\"text-color\" style={{display: `inline-block`}}>\r\n          <table>\r\n            <tbody >\r\n            <tr>\r\n              <th> City: </th>\r\n              <th> State Abrev: </th>\r\n              <th> Zip Code: </th>\r\n            </tr>\r\n            <tr>\r\n              <td> <span style={{color: \"red\"}}>{cityForm}</span>  </td>\r\n              <td> <span style={{color: \"red\"}}>{stateForm}</span> </td>\r\n            </tr>\r\n            <tr >\r\n              <td> <Form.Control type='text' name='city'  onChange={cityRequired}/> </td>\r\n              <td> <Form.Control type='text' name='state' onChange={stateRequired}/> </td>\r\n              <td> <Form.Control type='text' name='zipC'/></td>\r\n              <td> <Button type=\"submit\" value=\"Search\" disabled={disableSubmit} > Submit</Button> {loading}</td>\r\n            </tr>\r\n            </tbody>\r\n          </table>\r\n          {\r\n            <input type=\"button\" value=\"stuff\" onClick={e => setZ(8) }/>\r\n          }\r\n        </form> \r\n        \r\n      </Container>\r\n      <br/><br/>\r\n      <h1> Stopped at Ohio </h1>\r\n\r\n      <br/><br/><br/>\r\n      <Button  value=\"Search\" onClick={testFunc} > Call</Button>\r\n    </PageLayout>\r\n    </>\r\n  )\r\n}"],"sourceRoot":""}